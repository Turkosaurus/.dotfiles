"use strict";var xG=Object.create;var Um=Object.defineProperty;var _G=Object.getOwnPropertyDescriptor;var bG=Object.getOwnPropertyNames;var CG=Object.getPrototypeOf,TG=Object.prototype.hasOwnProperty;var EG=(e,t,r)=>t in e?Um(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var s=(e,t)=>Um(e,"name",{value:t,configurable:!0});var C0=(e,t)=>()=>(e&&(t=e(e=0)),t);var ae=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var SG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of bG(t))!TG.call(e,i)&&i!==r&&Um(e,i,{get:()=>t[i],enumerable:!(n=_G(t,i))||n.enumerable});return e};var P0=(e,t,r)=>(r=e!=null?xG(CG(e)):{},SG(t||!e||!e.__esModule?Um(r,"default",{value:e,enumerable:!0}):r,e));var tn=(e,t,r)=>(EG(e,typeof t!="symbol"?t+"":t,r),r),Fx=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var je=(e,t,r)=>(Fx(e,t,"read from private field"),r?r.call(e):t.get(e)),R0=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},T0=(e,t,r,n)=>(Fx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Xi=(e,t,r)=>(Fx(e,t,"access private method"),r);var ws=ae(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.Type=ee.JsonType=ee.JavaScriptTypeBuilder=ee.JsonTypeBuilder=ee.TypeBuilder=ee.TypeBuilderError=ee.TransformEncodeBuilder=ee.TransformDecodeBuilder=ee.TemplateLiteralDslParser=ee.TemplateLiteralGenerator=ee.TemplateLiteralGeneratorError=ee.TemplateLiteralFinite=ee.TemplateLiteralFiniteError=ee.TemplateLiteralParser=ee.TemplateLiteralParserError=ee.TemplateLiteralResolver=ee.TemplateLiteralPattern=ee.TemplateLiteralPatternError=ee.UnionResolver=ee.KeyArrayResolver=ee.KeyArrayResolverError=ee.KeyResolver=ee.ObjectMap=ee.Intrinsic=ee.IndexedAccessor=ee.TypeClone=ee.TypeExtends=ee.TypeExtendsResult=ee.TypeExtendsError=ee.ExtendsUndefined=ee.TypeGuard=ee.TypeGuardUnknownTypeError=ee.ValueGuard=ee.FormatRegistry=ee.TypeBoxError=ee.TypeRegistry=ee.PatternStringExact=ee.PatternNumberExact=ee.PatternBooleanExact=ee.PatternString=ee.PatternNumber=ee.PatternBoolean=ee.Kind=ee.Hint=ee.Optional=ee.Readonly=ee.Transform=void 0;ee.Transform=Symbol.for("TypeBox.Transform");ee.Readonly=Symbol.for("TypeBox.Readonly");ee.Optional=Symbol.for("TypeBox.Optional");ee.Hint=Symbol.for("TypeBox.Hint");ee.Kind=Symbol.for("TypeBox.Kind");ee.PatternBoolean="(true|false)";ee.PatternNumber="(0|[1-9][0-9]*)";ee.PatternString="(.*)";ee.PatternBooleanExact=`^${ee.PatternBoolean}$`;ee.PatternNumberExact=`^${ee.PatternNumber}$`;ee.PatternStringExact=`^${ee.PatternString}$`;var Mx;(function(e){let t=new Map;function r(){return new Map(t)}s(r,"Entries"),e.Entries=r;function n(){return t.clear()}s(n,"Clear"),e.Clear=n;function i(f){return t.delete(f)}s(i,"Delete"),e.Delete=i;function o(f){return t.has(f)}s(o,"Has"),e.Has=o;function a(f,c){t.set(f,c)}s(a,"Set"),e.Set=a;function l(f){return t.get(f)}s(l,"Get"),e.Get=l})(Mx||(ee.TypeRegistry=Mx={}));var Hx=class Hx extends Error{constructor(t){super(t)}};s(Hx,"TypeBoxError");var jo=Hx;ee.TypeBoxError=jo;var kN;(function(e){let t=new Map;function r(){return new Map(t)}s(r,"Entries"),e.Entries=r;function n(){return t.clear()}s(n,"Clear"),e.Clear=n;function i(f){return t.delete(f)}s(i,"Delete"),e.Delete=i;function o(f){return t.has(f)}s(o,"Has"),e.Has=o;function a(f,c){t.set(f,c)}s(a,"Set"),e.Set=a;function l(f){return t.get(f)}s(l,"Get"),e.Get=l})(kN||(ee.FormatRegistry=kN={}));var ct;(function(e){function t(d){return Array.isArray(d)}s(t,"IsArray"),e.IsArray=t;function r(d){return typeof d=="bigint"}s(r,"IsBigInt"),e.IsBigInt=r;function n(d){return typeof d=="boolean"}s(n,"IsBoolean"),e.IsBoolean=n;function i(d){return d instanceof globalThis.Date}s(i,"IsDate"),e.IsDate=i;function o(d){return d===null}s(o,"IsNull"),e.IsNull=o;function a(d){return typeof d=="number"}s(a,"IsNumber"),e.IsNumber=a;function l(d){return typeof d=="object"&&d!==null}s(l,"IsObject"),e.IsObject=l;function f(d){return typeof d=="string"}s(f,"IsString"),e.IsString=f;function c(d){return d instanceof globalThis.Uint8Array}s(c,"IsUint8Array"),e.IsUint8Array=c;function u(d){return d===void 0}s(u,"IsUndefined"),e.IsUndefined=u})(ct||(ee.ValueGuard=ct={}));var Vx=class Vx extends jo{};s(Vx,"TypeGuardUnknownTypeError");var Ux=Vx;ee.TypeGuardUnknownTypeError=Ux;var re;(function(e){function t(H){try{return new RegExp(H),!0}catch{return!1}}s(t,"IsPattern");function r(H){if(!ct.IsString(H))return!1;for(let $t=0;$t<H.length;$t++){let vt=H.charCodeAt($t);if(vt>=7&&vt<=13||vt===27||vt===127)return!1}return!0}s(r,"IsControlCharacterFree");function n(H){return a(H)||Lt(H)}s(n,"IsAdditionalProperties");function i(H){return ct.IsUndefined(H)||ct.IsBigInt(H)}s(i,"IsOptionalBigInt");function o(H){return ct.IsUndefined(H)||ct.IsNumber(H)}s(o,"IsOptionalNumber");function a(H){return ct.IsUndefined(H)||ct.IsBoolean(H)}s(a,"IsOptionalBoolean");function l(H){return ct.IsUndefined(H)||ct.IsString(H)}s(l,"IsOptionalString");function f(H){return ct.IsUndefined(H)||ct.IsString(H)&&r(H)&&t(H)}s(f,"IsOptionalPattern");function c(H){return ct.IsUndefined(H)||ct.IsString(H)&&r(H)}s(c,"IsOptionalFormat");function u(H){return ct.IsUndefined(H)||Lt(H)}s(u,"IsOptionalSchema");function d(H){return L(H,"Any")&&l(H.$id)}s(d,"TAny"),e.TAny=d;function p(H){return L(H,"Array")&&H.type==="array"&&l(H.$id)&&Lt(H.items)&&o(H.minItems)&&o(H.maxItems)&&a(H.uniqueItems)&&u(H.contains)&&o(H.minContains)&&o(H.maxContains)}s(p,"TArray"),e.TArray=p;function g(H){return L(H,"AsyncIterator")&&H.type==="AsyncIterator"&&l(H.$id)&&Lt(H.items)}s(g,"TAsyncIterator"),e.TAsyncIterator=g;function y(H){return L(H,"BigInt")&&H.type==="bigint"&&l(H.$id)&&i(H.exclusiveMaximum)&&i(H.exclusiveMinimum)&&i(H.maximum)&&i(H.minimum)&&i(H.multipleOf)}s(y,"TBigInt"),e.TBigInt=y;function _(H){return L(H,"Boolean")&&H.type==="boolean"&&l(H.$id)}s(_,"TBoolean"),e.TBoolean=_;function S(H){return L(H,"Constructor")&&H.type==="Constructor"&&l(H.$id)&&ct.IsArray(H.parameters)&&H.parameters.every($t=>Lt($t))&&Lt(H.returns)}s(S,"TConstructor"),e.TConstructor=S;function T(H){return L(H,"Date")&&H.type==="Date"&&l(H.$id)&&o(H.exclusiveMaximumTimestamp)&&o(H.exclusiveMinimumTimestamp)&&o(H.maximumTimestamp)&&o(H.minimumTimestamp)&&o(H.multipleOfTimestamp)}s(T,"TDate"),e.TDate=T;function I(H){return L(H,"Function")&&H.type==="Function"&&l(H.$id)&&ct.IsArray(H.parameters)&&H.parameters.every($t=>Lt($t))&&Lt(H.returns)}s(I,"TFunction"),e.TFunction=I;function P(H){return L(H,"Integer")&&H.type==="integer"&&l(H.$id)&&o(H.exclusiveMaximum)&&o(H.exclusiveMinimum)&&o(H.maximum)&&o(H.minimum)&&o(H.multipleOf)}s(P,"TInteger"),e.TInteger=P;function M(H){return L(H,"Intersect")&&!(ct.IsString(H.type)&&H.type!=="object")&&ct.IsArray(H.allOf)&&H.allOf.every($t=>Lt($t)&&!dt($t))&&l(H.type)&&(a(H.unevaluatedProperties)||u(H.unevaluatedProperties))&&l(H.$id)}s(M,"TIntersect"),e.TIntersect=M;function N(H){return L(H,"Iterator")&&H.type==="Iterator"&&l(H.$id)&&Lt(H.items)}s(N,"TIterator"),e.TIterator=N;function L(H,$t){return X(H)&&H[ee.Kind]===$t}s(L,"TKindOf"),e.TKindOf=L;function X(H){return ct.IsObject(H)&&ee.Kind in H&&ct.IsString(H[ee.Kind])}s(X,"TKind"),e.TKind=X;function te(H){return pe(H)&&ct.IsString(H.const)}s(te,"TLiteralString"),e.TLiteralString=te;function Ce(H){return pe(H)&&ct.IsNumber(H.const)}s(Ce,"TLiteralNumber"),e.TLiteralNumber=Ce;function De(H){return pe(H)&&ct.IsBoolean(H.const)}s(De,"TLiteralBoolean"),e.TLiteralBoolean=De;function pe(H){return L(H,"Literal")&&l(H.$id)&&(ct.IsBoolean(H.const)||ct.IsNumber(H.const)||ct.IsString(H.const))}s(pe,"TLiteral"),e.TLiteral=pe;function Ie(H){return L(H,"Never")&&ct.IsObject(H.not)&&Object.getOwnPropertyNames(H.not).length===0}s(Ie,"TNever"),e.TNever=Ie;function ie(H){return L(H,"Not")&&Lt(H.not)}s(ie,"TNot"),e.TNot=ie;function Z(H){return L(H,"Null")&&H.type==="null"&&l(H.$id)}s(Z,"TNull"),e.TNull=Z;function _e(H){return L(H,"Number")&&H.type==="number"&&l(H.$id)&&o(H.exclusiveMaximum)&&o(H.exclusiveMinimum)&&o(H.maximum)&&o(H.minimum)&&o(H.multipleOf)}s(_e,"TNumber"),e.TNumber=_e;function Ae(H){return L(H,"Object")&&H.type==="object"&&l(H.$id)&&ct.IsObject(H.properties)&&n(H.additionalProperties)&&o(H.minProperties)&&o(H.maxProperties)&&Object.entries(H.properties).every(([$t,vt])=>r($t)&&Lt(vt))}s(Ae,"TObject"),e.TObject=Ae;function be(H){return L(H,"Promise")&&H.type==="Promise"&&l(H.$id)&&Lt(H.item)}s(be,"TPromise"),e.TPromise=be;function Ke(H){return L(H,"Record")&&H.type==="object"&&l(H.$id)&&n(H.additionalProperties)&&ct.IsObject(H.patternProperties)&&($t=>{let vt=Object.getOwnPropertyNames($t.patternProperties);return vt.length===1&&t(vt[0])&&ct.IsObject($t.patternProperties)&&Lt($t.patternProperties[vt[0]])})(H)}s(Ke,"TRecord"),e.TRecord=Ke;function ce(H){return ct.IsObject(H)&&ee.Hint in H&&H[ee.Hint]==="Recursive"}s(ce,"TRecursive"),e.TRecursive=ce;function ve(H){return L(H,"Ref")&&l(H.$id)&&ct.IsString(H.$ref)}s(ve,"TRef"),e.TRef=ve;function le(H){return L(H,"String")&&H.type==="string"&&l(H.$id)&&o(H.minLength)&&o(H.maxLength)&&f(H.pattern)&&c(H.format)}s(le,"TString"),e.TString=le;function Ee(H){return L(H,"Symbol")&&H.type==="symbol"&&l(H.$id)}s(Ee,"TSymbol"),e.TSymbol=Ee;function mt(H){return L(H,"TemplateLiteral")&&H.type==="string"&&ct.IsString(H.pattern)&&H.pattern[0]==="^"&&H.pattern[H.pattern.length-1]==="$"}s(mt,"TTemplateLiteral"),e.TTemplateLiteral=mt;function Et(H){return L(H,"This")&&l(H.$id)&&ct.IsString(H.$ref)}s(Et,"TThis"),e.TThis=Et;function dt(H){return ct.IsObject(H)&&ee.Transform in H}s(dt,"TTransform"),e.TTransform=dt;function ze(H){return L(H,"Tuple")&&H.type==="array"&&l(H.$id)&&ct.IsNumber(H.minItems)&&ct.IsNumber(H.maxItems)&&H.minItems===H.maxItems&&(ct.IsUndefined(H.items)&&ct.IsUndefined(H.additionalItems)&&H.minItems===0||ct.IsArray(H.items)&&H.items.every($t=>Lt($t)))}s(ze,"TTuple"),e.TTuple=ze;function n0(H){return L(H,"Undefined")&&H.type==="undefined"&&l(H.$id)}s(n0,"TUndefined"),e.TUndefined=n0;function W(H){return Je(H)&&H.anyOf.every($t=>te($t)||Ce($t))}s(W,"TUnionLiteral"),e.TUnionLiteral=W;function Je(H){return L(H,"Union")&&l(H.$id)&&ct.IsObject(H)&&ct.IsArray(H.anyOf)&&H.anyOf.every($t=>Lt($t))}s(Je,"TUnion"),e.TUnion=Je;function he(H){return L(H,"Uint8Array")&&H.type==="Uint8Array"&&l(H.$id)&&o(H.minByteLength)&&o(H.maxByteLength)}s(he,"TUint8Array"),e.TUint8Array=he;function Xe(H){return L(H,"Unknown")&&l(H.$id)}s(Xe,"TUnknown"),e.TUnknown=Xe;function Ve(H){return L(H,"Unsafe")}s(Ve,"TUnsafe"),e.TUnsafe=Ve;function nt(H){return L(H,"Void")&&H.type==="void"&&l(H.$id)}s(nt,"TVoid"),e.TVoid=nt;function wt(H){return ct.IsObject(H)&&H[ee.Readonly]==="Readonly"}s(wt,"TReadonly"),e.TReadonly=wt;function Mt(H){return ct.IsObject(H)&&H[ee.Optional]==="Optional"}s(Mt,"TOptional"),e.TOptional=Mt;function Lt(H){return ct.IsObject(H)&&(d(H)||p(H)||_(H)||y(H)||g(H)||S(H)||T(H)||I(H)||P(H)||M(H)||N(H)||pe(H)||Ie(H)||ie(H)||Z(H)||_e(H)||Ae(H)||be(H)||Ke(H)||ve(H)||le(H)||Ee(H)||mt(H)||Et(H)||ze(H)||n0(H)||Je(H)||he(H)||Xe(H)||Ve(H)||nt(H)||X(H)&&Mx.Has(H[ee.Kind]))}s(Lt,"TSchema"),e.TSchema=Lt})(re||(ee.TypeGuard=re={}));var DN;(function(e){function t(r){return r[ee.Kind]==="Intersect"?r.allOf.every(n=>t(n)):r[ee.Kind]==="Union"?r.anyOf.some(n=>t(n)):r[ee.Kind]==="Undefined"?!0:r[ee.Kind]==="Not"?!t(r.not):!1}s(t,"Check"),e.Check=t})(DN||(ee.ExtendsUndefined=DN={}));var zx=class zx extends jo{};s(zx,"TypeExtendsError");var qm=zx;ee.TypeExtendsError=qm;var Oe;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(Oe||(ee.TypeExtendsResult=Oe={}));var Su;(function(e){function t(k){return k===Oe.False?k:Oe.True}s(t,"IntoBooleanResult");function r(k){throw new qm(k)}s(r,"Throw");function n(k){return re.TNever(k)||re.TIntersect(k)||re.TUnion(k)||re.TUnknown(k)||re.TAny(k)}s(n,"IsStructuralRight");function i(k,B){return re.TNever(B)?L(k,B):re.TIntersect(B)?I(k,B):re.TUnion(B)?pr(k,B):re.TUnknown(B)?Gr(k,B):re.TAny(B)?o(k,B):r("StructuralRight")}s(i,"StructuralRight");function o(k,B){return Oe.True}s(o,"TAnyRight");function a(k,B){return re.TIntersect(B)?I(k,B):re.TUnion(B)&&B.anyOf.some(Ye=>re.TAny(Ye)||re.TUnknown(Ye))?Oe.True:re.TUnion(B)?Oe.Union:re.TUnknown(B)||re.TAny(B)?Oe.True:Oe.Union}s(a,"TAny");function l(k,B){return re.TUnknown(k)?Oe.False:re.TAny(k)?Oe.Union:re.TNever(k)?Oe.True:Oe.False}s(l,"TArrayRight");function f(k,B){return re.TObject(B)&&mt(B)?Oe.True:n(B)?i(k,B):re.TArray(B)?t(Xt(k.items,B.items)):Oe.False}s(f,"TArray");function c(k,B){return n(B)?i(k,B):re.TAsyncIterator(B)?t(Xt(k.items,B.items)):Oe.False}s(c,"TAsyncIterator");function u(k,B){return n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TRecord(B)?Xe(k,B):re.TBigInt(B)?Oe.True:Oe.False}s(u,"TBigInt");function d(k,B){return re.TLiteral(k)&&ct.IsBoolean(k.const)||re.TBoolean(k)?Oe.True:Oe.False}s(d,"TBooleanRight");function p(k,B){return n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TRecord(B)?Xe(k,B):re.TBoolean(B)?Oe.True:Oe.False}s(p,"TBoolean");function g(k,B){return n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TConstructor(B)?k.parameters.length>B.parameters.length?Oe.False:k.parameters.every((Ye,Vt)=>t(Xt(B.parameters[Vt],Ye))===Oe.True)?t(Xt(k.returns,B.returns)):Oe.False:Oe.False}s(g,"TConstructor");function y(k,B){return n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TRecord(B)?Xe(k,B):re.TDate(B)?Oe.True:Oe.False}s(y,"TDate");function _(k,B){return n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TFunction(B)?k.parameters.length>B.parameters.length?Oe.False:k.parameters.every((Ye,Vt)=>t(Xt(B.parameters[Vt],Ye))===Oe.True)?t(Xt(k.returns,B.returns)):Oe.False:Oe.False}s(_,"TFunction");function S(k,B){return re.TLiteral(k)&&ct.IsNumber(k.const)||re.TNumber(k)||re.TInteger(k)?Oe.True:Oe.False}s(S,"TIntegerRight");function T(k,B){return re.TInteger(B)||re.TNumber(B)?Oe.True:n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TRecord(B)?Xe(k,B):Oe.False}s(T,"TInteger");function I(k,B){return B.allOf.every(Ye=>Xt(k,Ye)===Oe.True)?Oe.True:Oe.False}s(I,"TIntersectRight");function P(k,B){return k.allOf.some(Ye=>Xt(Ye,B)===Oe.True)?Oe.True:Oe.False}s(P,"TIntersect");function M(k,B){return n(B)?i(k,B):re.TIterator(B)?t(Xt(k.items,B.items)):Oe.False}s(M,"TIterator");function N(k,B){return re.TLiteral(B)&&B.const===k.const?Oe.True:n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TRecord(B)?Xe(k,B):re.TString(B)?nt(k,B):re.TNumber(B)?pe(k,B):re.TInteger(B)?S(k,B):re.TBoolean(B)?d(k,B):Oe.False}s(N,"TLiteral");function L(k,B){return Oe.False}s(L,"TNeverRight");function X(k,B){return Oe.True}s(X,"TNever");function te(k){let[B,Ye]=[k,0];for(;re.TNot(B);)B=B.not,Ye+=1;return Ye%2===0?B:ee.Type.Unknown()}s(te,"UnwrapTNot");function Ce(k,B){return re.TNot(k)?Xt(te(k),B):re.TNot(B)?Xt(k,te(B)):r("Invalid fallthrough for Not")}s(Ce,"TNot");function De(k,B){return n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TRecord(B)?Xe(k,B):re.TNull(B)?Oe.True:Oe.False}s(De,"TNull");function pe(k,B){return re.TLiteralNumber(k)||re.TNumber(k)||re.TInteger(k)?Oe.True:Oe.False}s(pe,"TNumberRight");function Ie(k,B){return n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TRecord(B)?Xe(k,B):re.TInteger(B)||re.TNumber(B)?Oe.True:Oe.False}s(Ie,"TNumber");function ie(k,B){return Object.getOwnPropertyNames(k.properties).length===B}s(ie,"IsObjectPropertyCount");function Z(k){return mt(k)}s(Z,"IsObjectStringLike");function _e(k){return ie(k,0)||ie(k,1)&&"description"in k.properties&&re.TUnion(k.properties.description)&&k.properties.description.anyOf.length===2&&(re.TString(k.properties.description.anyOf[0])&&re.TUndefined(k.properties.description.anyOf[1])||re.TString(k.properties.description.anyOf[1])&&re.TUndefined(k.properties.description.anyOf[0]))}s(_e,"IsObjectSymbolLike");function Ae(k){return ie(k,0)}s(Ae,"IsObjectNumberLike");function be(k){return ie(k,0)}s(be,"IsObjectBooleanLike");function Ke(k){return ie(k,0)}s(Ke,"IsObjectBigIntLike");function ce(k){return ie(k,0)}s(ce,"IsObjectDateLike");function ve(k){return mt(k)}s(ve,"IsObjectUint8ArrayLike");function le(k){let B=ee.Type.Number();return ie(k,0)||ie(k,1)&&"length"in k.properties&&t(Xt(k.properties.length,B))===Oe.True}s(le,"IsObjectFunctionLike");function Ee(k){return ie(k,0)}s(Ee,"IsObjectConstructorLike");function mt(k){let B=ee.Type.Number();return ie(k,0)||ie(k,1)&&"length"in k.properties&&t(Xt(k.properties.length,B))===Oe.True}s(mt,"IsObjectArrayLike");function Et(k){let B=ee.Type.Function([ee.Type.Any()],ee.Type.Any());return ie(k,0)||ie(k,1)&&"then"in k.properties&&t(Xt(k.properties.then,B))===Oe.True}s(Et,"IsObjectPromiseLike");function dt(k,B){return Xt(k,B)===Oe.False||re.TOptional(k)&&!re.TOptional(B)?Oe.False:Oe.True}s(dt,"Property");function ze(k,B){return re.TUnknown(k)?Oe.False:re.TAny(k)?Oe.Union:re.TNever(k)||re.TLiteralString(k)&&Z(B)||re.TLiteralNumber(k)&&Ae(B)||re.TLiteralBoolean(k)&&be(B)||re.TSymbol(k)&&_e(B)||re.TBigInt(k)&&Ke(B)||re.TString(k)&&Z(B)||re.TSymbol(k)&&_e(B)||re.TNumber(k)&&Ae(B)||re.TInteger(k)&&Ae(B)||re.TBoolean(k)&&be(B)||re.TUint8Array(k)&&ve(B)||re.TDate(k)&&ce(B)||re.TConstructor(k)&&Ee(B)||re.TFunction(k)&&le(B)?Oe.True:re.TRecord(k)&&re.TString(Je(k))?B[ee.Hint]==="Record"?Oe.True:Oe.False:re.TRecord(k)&&re.TNumber(Je(k))?ie(B,0)?Oe.True:Oe.False:Oe.False}s(ze,"TObjectRight");function n0(k,B){return n(B)?i(k,B):re.TRecord(B)?Xe(k,B):re.TObject(B)?(()=>{for(let Ye of Object.getOwnPropertyNames(B.properties)){if(!(Ye in k.properties)&&!re.TOptional(B.properties[Ye]))return Oe.False;if(re.TOptional(B.properties[Ye]))return Oe.True;if(dt(k.properties[Ye],B.properties[Ye])===Oe.False)return Oe.False}return Oe.True})():Oe.False}s(n0,"TObject");function W(k,B){return n(B)?i(k,B):re.TObject(B)&&Et(B)?Oe.True:re.TPromise(B)?t(Xt(k.item,B.item)):Oe.False}s(W,"TPromise");function Je(k){return ee.PatternNumberExact in k.patternProperties?ee.Type.Number():ee.PatternStringExact in k.patternProperties?ee.Type.String():r("Unknown record key pattern")}s(Je,"RecordKey");function he(k){return ee.PatternNumberExact in k.patternProperties?k.patternProperties[ee.PatternNumberExact]:ee.PatternStringExact in k.patternProperties?k.patternProperties[ee.PatternStringExact]:r("Unable to get record value schema")}s(he,"RecordValue");function Xe(k,B){let[Ye,Vt]=[Je(B),he(B)];return re.TLiteralString(k)&&re.TNumber(Ye)&&t(Xt(k,Vt))===Oe.True?Oe.True:re.TUint8Array(k)&&re.TNumber(Ye)||re.TString(k)&&re.TNumber(Ye)||re.TArray(k)&&re.TNumber(Ye)?Xt(k,Vt):re.TObject(k)?(()=>{for(let S0 of Object.getOwnPropertyNames(k.properties))if(dt(Vt,k.properties[S0])===Oe.False)return Oe.False;return Oe.True})():Oe.False}s(Xe,"TRecordRight");function Ve(k,B){return n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TRecord(B)?Xt(he(k),he(B)):Oe.False}s(Ve,"TRecord");function nt(k,B){return re.TLiteral(k)&&ct.IsString(k.const)||re.TString(k)?Oe.True:Oe.False}s(nt,"TStringRight");function wt(k,B){return n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TRecord(B)?Xe(k,B):re.TString(B)?Oe.True:Oe.False}s(wt,"TString");function Mt(k,B){return n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TRecord(B)?Xe(k,B):re.TSymbol(B)?Oe.True:Oe.False}s(Mt,"TSymbol");function Lt(k,B){return re.TTemplateLiteral(k)?Xt(Ll.Resolve(k),B):re.TTemplateLiteral(B)?Xt(k,Ll.Resolve(B)):r("Invalid fallthrough for TemplateLiteral")}s(Lt,"TTemplateLiteral");function H(k,B){return re.TArray(B)&&k.items!==void 0&&k.items.every(Ye=>Xt(Ye,B.items)===Oe.True)}s(H,"IsArrayOfTuple");function $t(k,B){return re.TNever(k)?Oe.True:re.TUnknown(k)?Oe.False:re.TAny(k)?Oe.Union:Oe.False}s($t,"TTupleRight");function vt(k,B){return n(B)?i(k,B):re.TObject(B)&&mt(B)||re.TArray(B)&&H(k,B)?Oe.True:re.TTuple(B)?ct.IsUndefined(k.items)&&!ct.IsUndefined(B.items)||!ct.IsUndefined(k.items)&&ct.IsUndefined(B.items)?Oe.False:ct.IsUndefined(k.items)&&!ct.IsUndefined(B.items)||k.items.every((Ye,Vt)=>Xt(Ye,B.items[Vt])===Oe.True)?Oe.True:Oe.False:Oe.False}s(vt,"TTuple");function sr(k,B){return n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TRecord(B)?Xe(k,B):re.TUint8Array(B)?Oe.True:Oe.False}s(sr,"TUint8Array");function X0(k,B){return n(B)?i(k,B):re.TObject(B)?ze(k,B):re.TRecord(B)?Xe(k,B):re.TVoid(B)?Fn(k,B):re.TUndefined(B)?Oe.True:Oe.False}s(X0,"TUndefined");function pr(k,B){return B.anyOf.some(Ye=>Xt(k,Ye)===Oe.True)?Oe.True:Oe.False}s(pr,"TUnionRight");function J0(k,B){return k.anyOf.every(Ye=>Xt(Ye,B)===Oe.True)?Oe.True:Oe.False}s(J0,"TUnion");function Gr(k,B){return Oe.True}s(Gr,"TUnknownRight");function un(k,B){return re.TNever(B)?L(k,B):re.TIntersect(B)?I(k,B):re.TUnion(B)?pr(k,B):re.TAny(B)?o(k,B):re.TString(B)?nt(k,B):re.TNumber(B)?pe(k,B):re.TInteger(B)?S(k,B):re.TBoolean(B)?d(k,B):re.TArray(B)?l(k,B):re.TTuple(B)?$t(k,B):re.TObject(B)?ze(k,B):re.TUnknown(B)?Oe.True:Oe.False}s(un,"TUnknown");function Fn(k,B){return re.TUndefined(k)||re.TUndefined(k)?Oe.True:Oe.False}s(Fn,"VoidRight");function dn(k,B){return re.TIntersect(B)?I(k,B):re.TUnion(B)?pr(k,B):re.TUnknown(B)?Gr(k,B):re.TAny(B)?o(k,B):re.TObject(B)?ze(k,B):re.TVoid(B)?Oe.True:Oe.False}s(dn,"TVoid");function Xt(k,B){return re.TTemplateLiteral(k)||re.TTemplateLiteral(B)?Lt(k,B):re.TNot(k)||re.TNot(B)?Ce(k,B):re.TAny(k)?a(k,B):re.TArray(k)?f(k,B):re.TBigInt(k)?u(k,B):re.TBoolean(k)?p(k,B):re.TAsyncIterator(k)?c(k,B):re.TConstructor(k)?g(k,B):re.TDate(k)?y(k,B):re.TFunction(k)?_(k,B):re.TInteger(k)?T(k,B):re.TIntersect(k)?P(k,B):re.TIterator(k)?M(k,B):re.TLiteral(k)?N(k,B):re.TNever(k)?X(k,B):re.TNull(k)?De(k,B):re.TNumber(k)?Ie(k,B):re.TObject(k)?n0(k,B):re.TRecord(k)?Ve(k,B):re.TString(k)?wt(k,B):re.TSymbol(k)?Mt(k,B):re.TTuple(k)?vt(k,B):re.TPromise(k)?W(k,B):re.TUint8Array(k)?sr(k,B):re.TUndefined(k)?X0(k,B):re.TUnion(k)?J0(k,B):re.TUnknown(k)?un(k,B):re.TVoid(k)?dn(k,B):r(`Unknown left type operand '${k[ee.Kind]}'`)}s(Xt,"Visit");function Y(k,B){return Xt(k,B)}s(Y,"Extends"),e.Extends=Y})(Su||(ee.TypeExtends=Su={}));var Ft;(function(e){function t(f){return f.map(c=>o(c))}s(t,"ArrayType");function r(f){return new Date(f.getTime())}s(r,"DateType");function n(f){return new Uint8Array(f)}s(n,"Uint8ArrayType");function i(f){let c=Object.getOwnPropertyNames(f).reduce((d,p)=>({...d,[p]:o(f[p])}),{}),u=Object.getOwnPropertySymbols(f).reduce((d,p)=>({...d,[p]:o(f[p])}),{});return{...c,...u}}s(i,"ObjectType");function o(f){return ct.IsArray(f)?t(f):ct.IsDate(f)?r(f):ct.IsUint8Array(f)?n(f):ct.IsObject(f)?i(f):f}s(o,"Visit");function a(f){return f.map(c=>l(c))}s(a,"Rest"),e.Rest=a;function l(f,c={}){return{...o(f),...c}}s(l,"Type"),e.Type=l})(Ft||(ee.TypeClone=Ft={}));var qx;(function(e){function t(g){return g.map(y=>{let{[ee.Optional]:_,...S}=Ft.Type(y);return S})}s(t,"OptionalUnwrap");function r(g){return g.every(y=>re.TOptional(y))}s(r,"IsIntersectOptional");function n(g){return g.some(y=>re.TOptional(y))}s(n,"IsUnionOptional");function i(g){return r(g.allOf)?ee.Type.Optional(ee.Type.Intersect(t(g.allOf))):g}s(i,"ResolveIntersect");function o(g){return n(g.anyOf)?ee.Type.Optional(ee.Type.Union(t(g.anyOf))):g}s(o,"ResolveUnion");function a(g){return g[ee.Kind]==="Intersect"?i(g):g[ee.Kind]==="Union"?o(g):g}s(a,"ResolveOptional");function l(g,y){let _=g.allOf.reduce((S,T)=>{let I=d(T,y);return I[ee.Kind]==="Never"?S:[...S,I]},[]);return a(ee.Type.Intersect(_))}s(l,"TIntersect");function f(g,y){let _=g.anyOf.map(S=>d(S,y));return a(ee.Type.Union(_))}s(f,"TUnion");function c(g,y){let _=g.properties[y];return ct.IsUndefined(_)?ee.Type.Never():ee.Type.Union([_])}s(c,"TObject");function u(g,y){let _=g.items;if(ct.IsUndefined(_))return ee.Type.Never();let S=_[y];return ct.IsUndefined(S)?ee.Type.Never():S}s(u,"TTuple");function d(g,y){return g[ee.Kind]==="Intersect"?l(g,y):g[ee.Kind]==="Union"?f(g,y):g[ee.Kind]==="Object"?c(g,y):g[ee.Kind]==="Tuple"?u(g,y):ee.Type.Never()}s(d,"Visit");function p(g,y,_={}){let S=y.map(T=>d(g,T.toString()));return a(ee.Type.Union(S,_))}s(p,"Resolve"),e.Resolve=p})(qx||(ee.IndexedAccessor=qx={}));var B5;(function(e){function t(u){let[d,p]=[u.slice(0,1),u.slice(1)];return`${d.toLowerCase()}${p}`}s(t,"Uncapitalize");function r(u){let[d,p]=[u.slice(0,1),u.slice(1)];return`${d.toUpperCase()}${p}`}s(r,"Capitalize");function n(u){return u.toUpperCase()}s(n,"Uppercase");function i(u){return u.toLowerCase()}s(i,"Lowercase");function o(u,d){let p=F5.ParseExact(u.pattern);if(!M5.Check(p))return{...u,pattern:a(u.pattern,d)};let _=[...U5.Generate(p)].map(I=>ee.Type.Literal(I)),S=l(_,d),T=ee.Type.Union(S);return ee.Type.TemplateLiteral([T])}s(o,"IntrinsicTemplateLiteral");function a(u,d){return typeof u=="string"?d==="Uncapitalize"?t(u):d==="Capitalize"?r(u):d==="Uppercase"?n(u):d==="Lowercase"?i(u):u:u.toString()}s(a,"IntrinsicLiteral");function l(u,d){if(u.length===0)return[];let[p,...g]=u;return[c(p,d),...l(g,d)]}s(l,"IntrinsicRest");function f(u,d){return re.TTemplateLiteral(u)?o(u,d):re.TUnion(u)?ee.Type.Union(l(u.anyOf,d)):re.TLiteral(u)?ee.Type.Literal(a(u.const,d)):u}s(f,"Visit");function c(u,d){return f(u,d)}s(c,"Map"),e.Map=c})(B5||(ee.Intrinsic=B5={}));var O5;(function(e){function t(a,l){return ee.Type.Intersect(a.allOf.map(f=>i(f,l)),{...a})}s(t,"TIntersect");function r(a,l){return ee.Type.Union(a.anyOf.map(f=>i(f,l)),{...a})}s(r,"TUnion");function n(a,l){return l(a)}s(n,"TObject");function i(a,l){return a[ee.Kind]==="Intersect"?t(a,l):a[ee.Kind]==="Union"?r(a,l):a[ee.Kind]==="Object"?n(a,l):a}s(i,"Visit");function o(a,l,f){return{...i(Ft.Type(a),l),...f}}s(o,"Map"),e.Map=o})(O5||(ee.ObjectMap=O5={}));var jm;(function(e){function t(c){return c[0]==="^"&&c[c.length-1]==="$"?c.slice(1,c.length-1):c}s(t,"UnwrapPattern");function r(c,u){return c.allOf.reduce((d,p)=>[...d,...a(p,u)],[])}s(r,"TIntersect");function n(c,u){let d=c.anyOf.map(p=>a(p,u));return[...d.reduce((p,g)=>g.map(y=>d.every(_=>_.includes(y))?p.add(y):p)[0],new Set)]}s(n,"TUnion");function i(c,u){return Object.getOwnPropertyNames(c.properties)}s(i,"TObject");function o(c,u){return u.includePatterns?Object.getOwnPropertyNames(c.patternProperties):[]}s(o,"TRecord");function a(c,u){return re.TIntersect(c)?r(c,u):re.TUnion(c)?n(c,u):re.TObject(c)?i(c,u):re.TRecord(c)?o(c,u):[]}s(a,"Visit");function l(c,u){return[...new Set(a(c,u))]}s(l,"ResolveKeys"),e.ResolveKeys=l;function f(c){return`^(${l(c,{includePatterns:!0}).map(p=>`(${t(p)})`).join("|")})$`}s(f,"ResolvePattern"),e.ResolvePattern=f})(jm||(ee.KeyResolver=jm={}));var Kx=class Kx extends jo{};s(Kx,"KeyArrayResolverError");var $m=Kx;ee.KeyArrayResolverError=$m;var dh;(function(e){function t(r){return Array.isArray(r)?r:re.TUnionLiteral(r)?r.anyOf.map(n=>n.const.toString()):re.TLiteral(r)?[r.const]:re.TTemplateLiteral(r)?(()=>{let n=F5.ParseExact(r.pattern);if(!M5.Check(n))throw new $m("Cannot resolve keys from infinite template expression");return[...U5.Generate(n)]})():[]}s(t,"Resolve"),e.Resolve=t})(dh||(ee.KeyArrayResolver=dh={}));var jx;(function(e){function*t(n){for(let i of n.anyOf)i[ee.Kind]==="Union"?yield*t(i):yield i}s(t,"TUnion");function r(n){return ee.Type.Union([...t(n)],{...n})}s(r,"Resolve"),e.Resolve=r})(jx||(ee.UnionResolver=jx={}));var Wx=class Wx extends jo{};s(Wx,"TemplateLiteralPatternError");var Hm=Wx;ee.TemplateLiteralPatternError=Hm;var Vm;(function(e){function t(o){throw new Hm(o)}s(t,"Throw");function r(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(r,"Escape");function n(o,a){return re.TTemplateLiteral(o)?o.pattern.slice(1,o.pattern.length-1):re.TUnion(o)?`(${o.anyOf.map(l=>n(l,a)).join("|")})`:re.TNumber(o)?`${a}${ee.PatternNumber}`:re.TInteger(o)?`${a}${ee.PatternNumber}`:re.TBigInt(o)?`${a}${ee.PatternNumber}`:re.TString(o)?`${a}${ee.PatternString}`:re.TLiteral(o)?`${a}${r(o.const.toString())}`:re.TBoolean(o)?`${a}${ee.PatternBoolean}`:t(`Unexpected Kind '${o[ee.Kind]}'`)}s(n,"Visit");function i(o){return`^${o.map(a=>n(a,"")).join("")}$`}s(i,"Create"),e.Create=i})(Vm||(ee.TemplateLiteralPattern=Vm={}));var Ll;(function(e){function t(r){let n=F5.ParseExact(r.pattern);if(!M5.Check(n))return ee.Type.String();let i=[...U5.Generate(n)].map(o=>ee.Type.Literal(o));return ee.Type.Union(i)}s(t,"Resolve"),e.Resolve=t})(Ll||(ee.TemplateLiteralResolver=Ll={}));var Gx=class Gx extends jo{};s(Gx,"TemplateLiteralParserError");var hh=Gx;ee.TemplateLiteralParserError=hh;var F5;(function(e){function t(g,y,_){return g[y]===_&&g.charCodeAt(y-1)!==92}s(t,"IsNonEscaped");function r(g,y){return t(g,y,"(")}s(r,"IsOpenParen");function n(g,y){return t(g,y,")")}s(n,"IsCloseParen");function i(g,y){return t(g,y,"|")}s(i,"IsSeparator");function o(g){if(!(r(g,0)&&n(g,g.length-1)))return!1;let y=0;for(let _=0;_<g.length;_++)if(r(g,_)&&(y+=1),n(g,_)&&(y-=1),y===0&&_!==g.length-1)return!1;return!0}s(o,"IsGroup");function a(g){return g.slice(1,g.length-1)}s(a,"InGroup");function l(g){let y=0;for(let _=0;_<g.length;_++)if(r(g,_)&&(y+=1),n(g,_)&&(y-=1),i(g,_)&&y===0)return!0;return!1}s(l,"IsPrecedenceOr");function f(g){for(let y=0;y<g.length;y++)if(r(g,y))return!0;return!1}s(f,"IsPrecedenceAnd");function c(g){let[y,_]=[0,0],S=[];for(let I=0;I<g.length;I++)if(r(g,I)&&(y+=1),n(g,I)&&(y-=1),i(g,I)&&y===0){let P=g.slice(_,I);P.length>0&&S.push(d(P)),_=I+1}let T=g.slice(_);return T.length>0&&S.push(d(T)),S.length===0?{type:"const",const:""}:S.length===1?S[0]:{type:"or",expr:S}}s(c,"Or");function u(g){function y(T,I){if(!r(T,I))throw new hh("TemplateLiteralParser: Index must point to open parens");let P=0;for(let M=I;M<T.length;M++)if(r(T,M)&&(P+=1),n(T,M)&&(P-=1),P===0)return[I,M];throw new hh("TemplateLiteralParser: Unclosed group parens in expression")}s(y,"Group");function _(T,I){for(let P=I;P<T.length;P++)if(r(T,P))return[I,P];return[I,T.length]}s(_,"Range");let S=[];for(let T=0;T<g.length;T++)if(r(g,T)){let[I,P]=y(g,T),M=g.slice(I,P+1);S.push(d(M)),T=P}else{let[I,P]=_(g,T),M=g.slice(I,P);M.length>0&&S.push(d(M)),T=P-1}return S.length===0?{type:"const",const:""}:S.length===1?S[0]:{type:"and",expr:S}}s(u,"And");function d(g){return o(g)?d(a(g)):l(g)?c(g):f(g)?u(g):{type:"const",const:g}}s(d,"Parse"),e.Parse=d;function p(g){return d(g.slice(1,g.length-1))}s(p,"ParseExact"),e.ParseExact=p})(F5||(ee.TemplateLiteralParser=F5={}));var Yx=class Yx extends jo{};s(Yx,"TemplateLiteralFiniteError");var zm=Yx;ee.TemplateLiteralFiniteError=zm;var M5;(function(e){function t(a){throw new zm(a)}s(t,"Throw");function r(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="0"&&a.expr[1].type==="const"&&a.expr[1].const==="[1-9][0-9]*"}s(r,"IsNumber");function n(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="true"&&a.expr[1].type==="const"&&a.expr[1].const==="false"}s(n,"IsBoolean");function i(a){return a.type==="const"&&a.const===".*"}s(i,"IsString");function o(a){return n(a)?!0:r(a)||i(a)?!1:a.type==="and"?a.expr.every(l=>o(l)):a.type==="or"?a.expr.every(l=>o(l)):a.type==="const"?!0:t("Unknown expression type")}s(o,"Check"),e.Check=o})(M5||(ee.TemplateLiteralFinite=M5={}));var Xx=class Xx extends jo{};s(Xx,"TemplateLiteralGeneratorError");var Km=Xx;ee.TemplateLiteralGeneratorError=Km;var U5;(function(e){function*t(a){if(a.length===1)return yield*a[0];for(let l of a[0])for(let f of t(a.slice(1)))yield`${l}${f}`}s(t,"Reduce");function*r(a){return yield*t(a.expr.map(l=>[...o(l)]))}s(r,"And");function*n(a){for(let l of a.expr)yield*o(l)}s(n,"Or");function*i(a){return yield a.const}s(i,"Const");function*o(a){return a.type==="and"?yield*r(a):a.type==="or"?yield*n(a):a.type==="const"?yield*i(a):(()=>{throw new Km("Unknown expression")})()}s(o,"Generate"),e.Generate=o})(U5||(ee.TemplateLiteralGenerator=U5={}));var $x;(function(e){function*t(o){let a=o.trim().replace(/"|'/g,"");return a==="boolean"?yield ee.Type.Boolean():a==="number"?yield ee.Type.Number():a==="bigint"?yield ee.Type.BigInt():a==="string"?yield ee.Type.String():yield(()=>{let l=a.split("|").map(f=>ee.Type.Literal(f.trim()));return l.length===0?ee.Type.Never():l.length===1?l[0]:ee.Type.Union(l)})()}s(t,"ParseUnion");function*r(o){if(o[1]!=="{"){let a=ee.Type.Literal("$"),l=n(o.slice(1));return yield*[a,...l]}for(let a=2;a<o.length;a++)if(o[a]==="}"){let l=t(o.slice(2,a)),f=n(o.slice(a+1));return yield*[...l,...f]}yield ee.Type.Literal(o)}s(r,"ParseTerminal");function*n(o){for(let a=0;a<o.length;a++)if(o[a]==="$"){let l=ee.Type.Literal(o.slice(0,a)),f=r(o.slice(a));return yield*[l,...f]}yield ee.Type.Literal(o)}s(n,"ParseLiteral");function i(o){return[...n(o)]}s(i,"Parse"),e.Parse=i})($x||(ee.TemplateLiteralDslParser=$x={}));var Jx=class Jx{constructor(t){this.schema=t}Decode(t){return new Gm(this.schema,t)}};s(Jx,"TransformDecodeBuilder");var Wm=Jx;ee.TransformDecodeBuilder=Wm;var Qx=class Qx{constructor(t,r){this.schema=t,this.decode=r}Encode(t){let r=Ft.Type(this.schema);return re.TTransform(r)?(()=>{let o={Encode:s(a=>r[ee.Transform].Encode(t(a)),"Encode"),Decode:s(a=>this.decode(r[ee.Transform].Decode(a)),"Decode")};return{...r,[ee.Transform]:o}})():(()=>{let n={Decode:this.decode,Encode:t};return{...r,[ee.Transform]:n}})()}};s(Qx,"TransformEncodeBuilder");var Gm=Qx;ee.TransformEncodeBuilder=Gm;var wG=0,Zx=class Zx extends jo{};s(Zx,"TypeBuilderError");var Ym=Zx;ee.TypeBuilderError=Ym;var e_=class e_{Create(t){return t}Throw(t){throw new Ym(t)}Discard(t,r){return r.reduce((n,i)=>{let{[i]:o,...a}=n;return a},t)}Strict(t){return JSON.parse(JSON.stringify(t))}};s(e_,"TypeBuilder");var Xm=e_;ee.TypeBuilder=Xm;var t_=class t_ extends Xm{ReadonlyOptional(t){return this.Readonly(this.Optional(t))}Readonly(t){return{...Ft.Type(t),[ee.Readonly]:"Readonly"}}Optional(t){return{...Ft.Type(t),[ee.Optional]:"Optional"}}Any(t={}){return this.Create({...t,[ee.Kind]:"Any"})}Array(t,r={}){return this.Create({...r,[ee.Kind]:"Array",type:"array",items:Ft.Type(t)})}Boolean(t={}){return this.Create({...t,[ee.Kind]:"Boolean",type:"boolean"})}Capitalize(t,r={}){return{...B5.Map(Ft.Type(t),"Capitalize"),...r}}Composite(t,r){let n=ee.Type.Intersect(t,{}),o=jm.ResolveKeys(n,{includePatterns:!1}).reduce((a,l)=>({...a,[l]:ee.Type.Index(n,[l])}),{});return ee.Type.Object(o,r)}Enum(t,r={}){if(ct.IsUndefined(t))return this.Throw("Enum undefined or empty");let n=Object.getOwnPropertyNames(t).filter(a=>isNaN(a)).map(a=>t[a]),o=[...new Set(n)].map(a=>ee.Type.Literal(a));return this.Union(o,{...r,[ee.Hint]:"Enum"})}Extends(t,r,n,i,o={}){switch(Su.Extends(t,r)){case Oe.Union:return this.Union([Ft.Type(n,o),Ft.Type(i,o)]);case Oe.True:return Ft.Type(n,o);case Oe.False:return Ft.Type(i,o)}}Exclude(t,r,n={}){return re.TTemplateLiteral(t)?this.Exclude(Ll.Resolve(t),r,n):re.TTemplateLiteral(r)?this.Exclude(t,Ll.Resolve(r),n):re.TUnion(t)?(()=>{let i=t.anyOf.filter(o=>Su.Extends(o,r)===Oe.False);return i.length===1?Ft.Type(i[0],n):this.Union(i,n)})():Su.Extends(t,r)!==Oe.False?this.Never(n):Ft.Type(t,n)}Extract(t,r,n={}){return re.TTemplateLiteral(t)?this.Extract(Ll.Resolve(t),r,n):re.TTemplateLiteral(r)?this.Extract(t,Ll.Resolve(r),n):re.TUnion(t)?(()=>{let i=t.anyOf.filter(o=>Su.Extends(o,r)!==Oe.False);return i.length===1?Ft.Type(i[0],n):this.Union(i,n)})():Su.Extends(t,r)!==Oe.False?Ft.Type(t,n):this.Never(n)}Index(t,r,n={}){return re.TArray(t)&&re.TNumber(r)?Ft.Type(t.items,n):re.TTuple(t)&&re.TNumber(r)?(()=>{let o=(ct.IsUndefined(t.items)?[]:t.items).map(a=>Ft.Type(a));return this.Union(o,n)})():(()=>{let i=dh.Resolve(r),o=Ft.Type(t);return qx.Resolve(o,i,n)})()}Integer(t={}){return this.Create({...t,[ee.Kind]:"Integer",type:"integer"})}Intersect(t,r={}){if(t.length===0)return ee.Type.Never();if(t.length===1)return Ft.Type(t[0],r);t.some(a=>re.TTransform(a))&&this.Throw("Cannot intersect transform types");let n=t.every(a=>re.TObject(a)),i=Ft.Rest(t),o=re.TSchema(r.unevaluatedProperties)?{unevaluatedProperties:Ft.Type(r.unevaluatedProperties)}:{};return r.unevaluatedProperties===!1||re.TSchema(r.unevaluatedProperties)||n?this.Create({...r,...o,[ee.Kind]:"Intersect",type:"object",allOf:i}):this.Create({...r,...o,[ee.Kind]:"Intersect",allOf:i})}KeyOf(t,r={}){return re.TRecord(t)?(()=>{let n=Object.getOwnPropertyNames(t.patternProperties)[0];return n===ee.PatternNumberExact?this.Number(r):n===ee.PatternStringExact?this.String(r):this.Throw("Unable to resolve key type from Record key pattern")})():re.TTuple(t)?(()=>{let i=(ct.IsUndefined(t.items)?[]:t.items).map((o,a)=>ee.Type.Literal(a.toString()));return this.Union(i,r)})():re.TArray(t)?this.Number(r):(()=>{let n=jm.ResolveKeys(t,{includePatterns:!1});if(n.length===0)return this.Never(r);let i=n.map(o=>this.Literal(o));return this.Union(i,r)})()}Literal(t,r={}){return this.Create({...r,[ee.Kind]:"Literal",const:t,type:typeof t})}Lowercase(t,r={}){return{...B5.Map(Ft.Type(t),"Lowercase"),...r}}Never(t={}){return this.Create({...t,[ee.Kind]:"Never",not:{}})}Not(t,r){return this.Create({...r,[ee.Kind]:"Not",not:Ft.Type(t)})}Null(t={}){return this.Create({...t,[ee.Kind]:"Null",type:"null"})}Number(t={}){return this.Create({...t,[ee.Kind]:"Number",type:"number"})}Object(t,r={}){let n=Object.getOwnPropertyNames(t),i=n.filter(f=>re.TOptional(t[f])),o=n.filter(f=>!i.includes(f)),a=re.TSchema(r.additionalProperties)?{additionalProperties:Ft.Type(r.additionalProperties)}:{},l=n.reduce((f,c)=>({...f,[c]:Ft.Type(t[c])}),{});return o.length>0?this.Create({...r,...a,[ee.Kind]:"Object",type:"object",properties:l,required:o}):this.Create({...r,...a,[ee.Kind]:"Object",type:"object",properties:l})}Omit(t,r,n={}){let i=dh.Resolve(r);return O5.Map(this.Discard(Ft.Type(t),["$id",ee.Transform]),o=>{ct.IsArray(o.required)&&(o.required=o.required.filter(a=>!i.includes(a)),o.required.length===0&&delete o.required);for(let a of Object.getOwnPropertyNames(o.properties))i.includes(a)&&delete o.properties[a];return this.Create(o)},n)}Partial(t,r={}){return O5.Map(this.Discard(Ft.Type(t),["$id",ee.Transform]),n=>{let i=Object.getOwnPropertyNames(n.properties).reduce((o,a)=>({...o,[a]:this.Optional(n.properties[a])}),{});return this.Object(i,this.Discard(n,["required"]))},r)}Pick(t,r,n={}){let i=dh.Resolve(r);return O5.Map(this.Discard(Ft.Type(t),["$id",ee.Transform]),o=>{ct.IsArray(o.required)&&(o.required=o.required.filter(a=>i.includes(a)),o.required.length===0&&delete o.required);for(let a of Object.getOwnPropertyNames(o.properties))i.includes(a)||delete o.properties[a];return this.Create(o)},n)}Record(t,r,n={}){return re.TTemplateLiteral(t)?(()=>{let i=F5.ParseExact(t.pattern);return M5.Check(i)?this.Object([...U5.Generate(i)].reduce((o,a)=>({...o,[a]:Ft.Type(r)}),{}),n):this.Create({...n,[ee.Kind]:"Record",type:"object",patternProperties:{[t.pattern]:Ft.Type(r)}})})():re.TUnion(t)?(()=>{let i=jx.Resolve(t);if(re.TUnionLiteral(i)){let o=i.anyOf.reduce((a,l)=>({...a,[l.const]:Ft.Type(r)}),{});return this.Object(o,{...n,[ee.Hint]:"Record"})}else this.Throw("Record key of type union contains non-literal types")})():re.TLiteral(t)?ct.IsString(t.const)||ct.IsNumber(t.const)?this.Object({[t.const]:Ft.Type(r)},n):this.Throw("Record key of type literal is not of type string or number"):re.TInteger(t)||re.TNumber(t)?this.Create({...n,[ee.Kind]:"Record",type:"object",patternProperties:{[ee.PatternNumberExact]:Ft.Type(r)}}):re.TString(t)?(()=>{let i=ct.IsUndefined(t.pattern)?ee.PatternStringExact:t.pattern;return this.Create({...n,[ee.Kind]:"Record",type:"object",patternProperties:{[i]:Ft.Type(r)}})})():this.Never()}Recursive(t,r={}){ct.IsUndefined(r.$id)&&(r.$id=`T${wG++}`);let n=t({[ee.Kind]:"This",$ref:`${r.$id}`});return n.$id=r.$id,this.Create({...r,[ee.Hint]:"Recursive",...n})}Ref(t,r={}){return ct.IsString(t)?this.Create({...r,[ee.Kind]:"Ref",$ref:t}):(ct.IsUndefined(t.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...r,[ee.Kind]:"Ref",$ref:t.$id}))}Required(t,r={}){return O5.Map(this.Discard(Ft.Type(t),["$id",ee.Transform]),n=>{let i=Object.getOwnPropertyNames(n.properties).reduce((o,a)=>({...o,[a]:this.Discard(n.properties[a],[ee.Optional])}),{});return this.Object(i,n)},r)}Rest(t){return re.TTuple(t)&&!ct.IsUndefined(t.items)?Ft.Rest(t.items):re.TIntersect(t)?Ft.Rest(t.allOf):re.TUnion(t)?Ft.Rest(t.anyOf):[]}String(t={}){return this.Create({...t,[ee.Kind]:"String",type:"string"})}TemplateLiteral(t,r={}){let n=ct.IsString(t)?Vm.Create($x.Parse(t)):Vm.Create(t);return this.Create({...r,[ee.Kind]:"TemplateLiteral",type:"string",pattern:n})}Transform(t){return new Wm(t)}Tuple(t,r={}){let[n,i,o]=[!1,t.length,t.length],a=Ft.Rest(t),l=t.length>0?{...r,[ee.Kind]:"Tuple",type:"array",items:a,additionalItems:n,minItems:i,maxItems:o}:{...r,[ee.Kind]:"Tuple",type:"array",minItems:i,maxItems:o};return this.Create(l)}Uncapitalize(t,r={}){return{...B5.Map(Ft.Type(t),"Uncapitalize"),...r}}Union(t,r={}){return re.TTemplateLiteral(t)?Ll.Resolve(t):(()=>{let n=t;if(n.length===0)return this.Never(r);if(n.length===1)return this.Create(Ft.Type(n[0],r));let i=Ft.Rest(n);return this.Create({...r,[ee.Kind]:"Union",anyOf:i})})()}Unknown(t={}){return this.Create({...t,[ee.Kind]:"Unknown"})}Unsafe(t={}){return this.Create({...t,[ee.Kind]:t[ee.Kind]||"Unsafe"})}Uppercase(t,r={}){return{...B5.Map(Ft.Type(t),"Uppercase"),...r}}};s(t_,"JsonTypeBuilder");var mh=t_;ee.JsonTypeBuilder=mh;var r_=class r_ extends mh{AsyncIterator(t,r={}){return this.Create({...r,[ee.Kind]:"AsyncIterator",type:"AsyncIterator",items:Ft.Type(t)})}Awaited(t,r={}){let n=s(i=>i.length>0?(()=>{let[o,...a]=i;return[this.Awaited(o),...n(a)]})():i,"Unwrap");return re.TIntersect(t)?ee.Type.Intersect(n(t.allOf)):re.TUnion(t)?ee.Type.Union(n(t.anyOf)):re.TPromise(t)?this.Awaited(t.item):Ft.Type(t,r)}BigInt(t={}){return this.Create({...t,[ee.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(t,r={}){return this.Tuple([...t.parameters],{...r})}Constructor(t,r,n){let[i,o]=[Ft.Rest(t),Ft.Type(r)];return this.Create({...n,[ee.Kind]:"Constructor",type:"Constructor",parameters:i,returns:o})}Date(t={}){return this.Create({...t,[ee.Kind]:"Date",type:"Date"})}Function(t,r,n){let[i,o]=[Ft.Rest(t),Ft.Type(r)];return this.Create({...n,[ee.Kind]:"Function",type:"Function",parameters:i,returns:o})}InstanceType(t,r={}){return Ft.Type(t.returns,r)}Iterator(t,r={}){return this.Create({...r,[ee.Kind]:"Iterator",type:"Iterator",items:Ft.Type(t)})}Parameters(t,r={}){return this.Tuple(t.parameters,{...r})}Promise(t,r={}){return this.Create({...r,[ee.Kind]:"Promise",type:"Promise",item:Ft.Type(t)})}RegExp(t,r={}){let n=ct.IsString(t)?t:t.source;return this.Create({...r,[ee.Kind]:"String",type:"string",pattern:n})}RegEx(t,r={}){return this.RegExp(t,r)}ReturnType(t,r={}){return Ft.Type(t.returns,r)}Symbol(t){return this.Create({...t,[ee.Kind]:"Symbol",type:"symbol"})}Undefined(t={}){return this.Create({...t,[ee.Kind]:"Undefined",type:"undefined"})}Uint8Array(t={}){return this.Create({...t,[ee.Kind]:"Uint8Array",type:"Uint8Array"})}Void(t={}){return this.Create({...t,[ee.Kind]:"Void",type:"void"})}};s(r_,"JavaScriptTypeBuilder");var Jm=r_;ee.JavaScriptTypeBuilder=Jm;ee.JsonType=new mh;ee.Type=new Jm});var Ji=ae(d0=>{"use strict";Object.defineProperty(d0,"__esModule",{value:!0});d0.IsValueType=d0.IsSymbol=d0.IsFunction=d0.IsString=d0.IsBigInt=d0.IsInteger=d0.IsNumber=d0.IsBoolean=d0.IsNull=d0.IsUndefined=d0.IsArray=d0.IsObject=d0.IsPlainObject=d0.HasPropertyKey=d0.IsDate=d0.IsUint8Array=d0.IsPromise=d0.IsTypedArray=d0.IsIterator=d0.IsAsyncIterator=void 0;function IG(e){return Qm(e)&&Symbol.asyncIterator in e}s(IG,"IsAsyncIterator");d0.IsAsyncIterator=IG;function AG(e){return Qm(e)&&Symbol.iterator in e}s(AG,"IsIterator");d0.IsIterator=AG;function PG(e){return ArrayBuffer.isView(e)}s(PG,"IsTypedArray");d0.IsTypedArray=PG;function RG(e){return e instanceof Promise}s(RG,"IsPromise");d0.IsPromise=RG;function NG(e){return e instanceof Uint8Array}s(NG,"IsUint8Array");d0.IsUint8Array=NG;function kG(e){return e instanceof Date&&Number.isFinite(e.getTime())}s(kG,"IsDate");d0.IsDate=kG;function DG(e,t){return t in e}s(DG,"HasPropertyKey");d0.HasPropertyKey=DG;function LG(e){return Qm(e)&&UN(e.constructor)&&e.constructor.name==="Object"}s(LG,"IsPlainObject");d0.IsPlainObject=LG;function Qm(e){return e!==null&&typeof e=="object"}s(Qm,"IsObject");d0.IsObject=Qm;function BG(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}s(BG,"IsArray");d0.IsArray=BG;function LN(e){return e===void 0}s(LN,"IsUndefined");d0.IsUndefined=LN;function BN(e){return e===null}s(BN,"IsNull");d0.IsNull=BN;function ON(e){return typeof e=="boolean"}s(ON,"IsBoolean");d0.IsBoolean=ON;function n_(e){return typeof e=="number"}s(n_,"IsNumber");d0.IsNumber=n_;function OG(e){return n_(e)&&Number.isInteger(e)}s(OG,"IsInteger");d0.IsInteger=OG;function FN(e){return typeof e=="bigint"}s(FN,"IsBigInt");d0.IsBigInt=FN;function MN(e){return typeof e=="string"}s(MN,"IsString");d0.IsString=MN;function UN(e){return typeof e=="function"}s(UN,"IsFunction");d0.IsFunction=UN;function qN(e){return typeof e=="symbol"}s(qN,"IsSymbol");d0.IsSymbol=qN;function FG(e){return FN(e)||ON(e)||BN(e)||n_(e)||MN(e)||qN(e)||LN(e)}s(FG,"IsValueType");d0.IsValueType=FG});var a_=ae(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.DefaultErrorFunction=Qi.TypeSystemPolicy=Qi.TypeSystemErrorFunction=Qi.TypeSystem=Qi.TypeSystemDuplicateFormat=Qi.TypeSystemDuplicateTypeKind=void 0;var Zm=Ji(),Pt=gh(),Bl=ws(),s_=class s_ extends Bl.TypeBoxError{constructor(t){super(`Duplicate type kind '${t}' detected`)}};s(s_,"TypeSystemDuplicateTypeKind");var eg=s_;Qi.TypeSystemDuplicateTypeKind=eg;var o_=class o_ extends Bl.TypeBoxError{constructor(t){super(`Duplicate string format '${t}' detected`)}};s(o_,"TypeSystemDuplicateFormat");var tg=o_;Qi.TypeSystemDuplicateFormat=tg;var jN;(function(e){function t(n,i){if(Bl.TypeRegistry.Has(n))throw new eg(n);return Bl.TypeRegistry.Set(n,i),(o={})=>Bl.Type.Unsafe({...o,[Bl.Kind]:n})}s(t,"Type"),e.Type=t;function r(n,i){if(Bl.FormatRegistry.Has(n))throw new tg(n);return Bl.FormatRegistry.Set(n,i),n}s(r,"Format"),e.Format=r})(jN||(Qi.TypeSystem=jN={}));var $N;(function(e){let t=i_;function r(){t=i_}s(r,"Reset"),e.Reset=r;function n(o){t=o}s(n,"Set"),e.Set=n;function i(){return t}s(i,"Get"),e.Get=i})($N||(Qi.TypeSystemErrorFunction=$N={}));var HN;(function(e){e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}s(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=(0,Zm.IsObject)(a);return e.AllowArrayObject?l:l&&!(0,Zm.IsArray)(a)}s(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}s(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){let l=(0,Zm.IsNumber)(a);return e.AllowNaN?l:l&&Number.isFinite(a)}s(i,"IsNumberLike"),e.IsNumberLike=i;function o(a){let l=(0,Zm.IsUndefined)(a);return e.AllowNullVoid?l||a===null:l}s(o,"IsVoidLike"),e.IsVoidLike=o})(HN||(Qi.TypeSystemPolicy=HN={}));function i_(e,t){switch(t){case Pt.ValueErrorType.ArrayContains:return"Expected array to contain at least one matching value";case Pt.ValueErrorType.ArrayMaxContains:return`Expected array to contain no more than ${e.maxContains} matching values`;case Pt.ValueErrorType.ArrayMinContains:return`Expected array to contain at least ${e.minContains} matching values`;case Pt.ValueErrorType.ArrayMaxItems:return`Expected array length to be less or equal to ${e.maxItems}`;case Pt.ValueErrorType.ArrayMinItems:return`Expected array length to be greater or equal to ${e.minItems}`;case Pt.ValueErrorType.ArrayUniqueItems:return"Expected array elements to be unique";case Pt.ValueErrorType.Array:return"Expected array";case Pt.ValueErrorType.AsyncIterator:return"Expected AsyncIterator";case Pt.ValueErrorType.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.exclusiveMaximum}`;case Pt.ValueErrorType.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.exclusiveMinimum}`;case Pt.ValueErrorType.BigIntMaximum:return`Expected bigint to be less or equal to ${e.maximum}`;case Pt.ValueErrorType.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.minimum}`;case Pt.ValueErrorType.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.multipleOf}`;case Pt.ValueErrorType.BigInt:return"Expected bigint";case Pt.ValueErrorType.Boolean:return"Expected boolean";case Pt.ValueErrorType.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.exclusiveMinimumTimestamp}`;case Pt.ValueErrorType.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.exclusiveMaximumTimestamp}`;case Pt.ValueErrorType.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.minimumTimestamp}`;case Pt.ValueErrorType.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.maximumTimestamp}`;case Pt.ValueErrorType.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.multipleOfTimestamp}`;case Pt.ValueErrorType.Date:return"Expected Date";case Pt.ValueErrorType.Function:return"Expected function";case Pt.ValueErrorType.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.exclusiveMaximum}`;case Pt.ValueErrorType.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.exclusiveMinimum}`;case Pt.ValueErrorType.IntegerMaximum:return`Expected integer to be less or equal to ${e.maximum}`;case Pt.ValueErrorType.IntegerMinimum:return`Expected integer to be greater or equal to ${e.minimum}`;case Pt.ValueErrorType.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.multipleOf}`;case Pt.ValueErrorType.Integer:return"Expected integer";case Pt.ValueErrorType.IntersectUnevaluatedProperties:return"Unexpected property";case Pt.ValueErrorType.Intersect:return"Expected all values to match";case Pt.ValueErrorType.Iterator:return"Expected Iterator";case Pt.ValueErrorType.Literal:return`Expected ${typeof e.const=="string"?`'${e.const}'`:e.const}`;case Pt.ValueErrorType.Never:return"Never";case Pt.ValueErrorType.Not:return"Value should not match";case Pt.ValueErrorType.Null:return"Expected null";case Pt.ValueErrorType.NumberExclusiveMaximum:return`Expected number to be less than ${e.exclusiveMaximum}`;case Pt.ValueErrorType.NumberExclusiveMinimum:return`Expected number to be greater than ${e.exclusiveMinimum}`;case Pt.ValueErrorType.NumberMaximum:return`Expected number to be less or equal to ${e.maximum}`;case Pt.ValueErrorType.NumberMinimum:return`Expected number to be greater or equal to ${e.minimum}`;case Pt.ValueErrorType.NumberMultipleOf:return`Expected number to be a multiple of ${e.multipleOf}`;case Pt.ValueErrorType.Number:return"Expected number";case Pt.ValueErrorType.Object:return"Expected object";case Pt.ValueErrorType.ObjectAdditionalProperties:return"Unexpected property";case Pt.ValueErrorType.ObjectMaxProperties:return`Expected object to have no more than ${e.maxProperties} properties`;case Pt.ValueErrorType.ObjectMinProperties:return`Expected object to have at least ${e.minProperties} properties`;case Pt.ValueErrorType.ObjectRequiredProperty:return"Required property";case Pt.ValueErrorType.Promise:return"Expected Promise";case Pt.ValueErrorType.StringFormatUnknown:return`Unknown format '${e.format}'`;case Pt.ValueErrorType.StringFormat:return`Expected string to match '${e.format}' format`;case Pt.ValueErrorType.StringMaxLength:return`Expected string length less or equal to ${e.maxLength}`;case Pt.ValueErrorType.StringMinLength:return`Expected string length greater or equal to ${e.minLength}`;case Pt.ValueErrorType.StringPattern:return`Expected string to match '${e.pattern}'`;case Pt.ValueErrorType.String:return"Expected string";case Pt.ValueErrorType.Symbol:return"Expected symbol";case Pt.ValueErrorType.TupleLength:return`Expected tuple to have ${e.maxItems||0} elements`;case Pt.ValueErrorType.Tuple:return"Expected tuple";case Pt.ValueErrorType.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.maxByteLength}`;case Pt.ValueErrorType.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.minByteLength}`;case Pt.ValueErrorType.Uint8Array:return"Expected Uint8Array";case Pt.ValueErrorType.Undefined:return"Expected undefined";case Pt.ValueErrorType.Union:return"Expected union value";case Pt.ValueErrorType.Void:return"Expected void";case Pt.ValueErrorType.Kind:return`Expected kind '${e[Bl.Kind]}'`;default:return"Unknown error type"}}s(i_,"DefaultErrorFunction");Qi.DefaultErrorFunction=i_});var uc=ae(q5=>{"use strict";Object.defineProperty(q5,"__esModule",{value:!0});q5.Deref=q5.TypeDereferenceError=void 0;var MG=ws(),l_=class l_ extends MG.TypeBoxError{constructor(t){super(`Unable to dereference schema with $id '${t.$id}'`),this.schema=t}};s(l_,"TypeDereferenceError");var rg=l_;q5.TypeDereferenceError=rg;function UG(e,t){let r=t.findIndex(n=>n.$id===e.$ref);if(r===-1)throw new rg(e);return t[r]}s(UG,"Deref");q5.Deref=UG});var ph=ae(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.Hash=dc.ByteMarker=dc.ValueHashError=void 0;var $o=Ji(),f_=class f_ extends Error{constructor(t){super("Unable to hash value"),this.value=t}};s(f_,"ValueHashError");var ng=f_;dc.ValueHashError=ng;var Is;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(Is||(dc.ByteMarker=Is={}));var j5=BigInt("14695981039346656037"),[qG,jG]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],$G=Array.from({length:256}).map((e,t)=>BigInt(t)),VN=new Float64Array(1),zN=new DataView(VN.buffer),KN=new Uint8Array(VN.buffer);function*HG(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}s(HG,"NumberToBytes");function VG(e){yi(Is.Array);for(let t of e)$5(t)}s(VG,"ArrayType");function zG(e){yi(Is.Boolean),yi(e?1:0)}s(zG,"BooleanType");function KG(e){yi(Is.BigInt),zN.setBigInt64(0,e);for(let t of KN)yi(t)}s(KG,"BigIntType");function WG(e){yi(Is.Date),$5(e.getTime())}s(WG,"DateType");function GG(e){yi(Is.Null)}s(GG,"NullType");function YG(e){yi(Is.Number),zN.setFloat64(0,e);for(let t of KN)yi(t)}s(YG,"NumberType");function XG(e){yi(Is.Object);for(let t of globalThis.Object.keys(e).sort())$5(t),$5(e[t])}s(XG,"ObjectType");function JG(e){yi(Is.String);for(let t=0;t<e.length;t++)for(let r of HG(e.charCodeAt(t)))yi(r)}s(JG,"StringType");function QG(e){yi(Is.Symbol),$5(e.description)}s(QG,"SymbolType");function ZG(e){yi(Is.Uint8Array);for(let t=0;t<e.length;t++)yi(e[t])}s(ZG,"Uint8ArrayType");function eY(e){return yi(Is.Undefined)}s(eY,"UndefinedType");function $5(e){if((0,$o.IsArray)(e))return VG(e);if((0,$o.IsBoolean)(e))return zG(e);if((0,$o.IsBigInt)(e))return KG(e);if((0,$o.IsDate)(e))return WG(e);if((0,$o.IsNull)(e))return GG(e);if((0,$o.IsNumber)(e))return YG(e);if((0,$o.IsPlainObject)(e))return XG(e);if((0,$o.IsString)(e))return JG(e);if((0,$o.IsSymbol)(e))return QG(e);if((0,$o.IsUint8Array)(e))return ZG(e);if((0,$o.IsUndefined)(e))return eY(e);throw new ng(e)}s($5,"Visit");function yi(e){j5=j5^$G[e],j5=j5*qG%jG}s(yi,"FNV1A64");function tY(e){return j5=BigInt("14695981039346656037"),$5(e),j5}s(tY,"Hash");dc.Hash=tY});var gh=ae(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.Errors=Qs.ValueErrorIterator=Qs.EscapeKey=Qs.ValueErrorsUnknownTypeError=Qs.ValueErrorType=void 0;var rn=Ji(),H5=a_(),WN=uc(),rY=ph(),Zs=ws(),_t;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.StringFormatUnknown=48]="StringFormatUnknown",e[e.StringFormat=49]="StringFormat",e[e.StringMaxLength=50]="StringMaxLength",e[e.StringMinLength=51]="StringMinLength",e[e.StringPattern=52]="StringPattern",e[e.String=53]="String",e[e.Symbol=54]="Symbol",e[e.TupleLength=55]="TupleLength",e[e.Tuple=56]="Tuple",e[e.Uint8ArrayMaxByteLength=57]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=58]="Uint8ArrayMinByteLength",e[e.Uint8Array=59]="Uint8Array",e[e.Undefined=60]="Undefined",e[e.Union=61]="Union",e[e.Void=62]="Void"})(_t||(Qs.ValueErrorType=_t={}));var c_=class c_ extends Zs.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(c_,"ValueErrorsUnknownTypeError");var ig=c_;Qs.ValueErrorsUnknownTypeError=ig;function Na(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}s(Na,"EscapeKey");Qs.EscapeKey=Na;function q0(e){return e!==void 0}s(q0,"IsDefined");var u_=class u_{constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};s(u_,"ValueErrorIterator");var sg=u_;Qs.ValueErrorIterator=sg;function Tt(e,t,r,n){return{type:e,schema:t,path:r,value:n,message:H5.TypeSystemErrorFunction.Get()(t,e)}}s(Tt,"Create");function*nY(e,t,r,n){}s(nY,"TAny");function*iY(e,t,r,n){if(!(0,rn.IsArray)(n))return yield Tt(_t.Array,e,r,n);q0(e.minItems)&&!(n.length>=e.minItems)&&(yield Tt(_t.ArrayMinItems,e,r,n)),q0(e.maxItems)&&!(n.length<=e.maxItems)&&(yield Tt(_t.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*Gn(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let f=(0,rY.Hash)(l);if(a.has(f))return!1;a.add(f)}return!0}()&&(yield Tt(_t.ArrayUniqueItems,e,r,n)),!(q0(e.contains)||q0(e.minContains)||q0(e.maxContains)))return;let i=q0(e.contains)?e.contains:Zs.Type.Never(),o=n.reduce((a,l,f)=>Gn(i,t,`${r}${f}`,l).next().done===!0?a+1:a,0);o===0&&(yield Tt(_t.ArrayContains,e,r,n)),(0,rn.IsNumber)(e.minContains)&&o<e.minContains&&(yield Tt(_t.ArrayMinContains,e,r,n)),(0,rn.IsNumber)(e.maxContains)&&o>e.maxContains&&(yield Tt(_t.ArrayMaxContains,e,r,n))}s(iY,"TArray");function*sY(e,t,r,n){(0,rn.IsAsyncIterator)(n)||(yield Tt(_t.AsyncIterator,e,r,n))}s(sY,"TAsyncIterator");function*oY(e,t,r,n){if(!(0,rn.IsBigInt)(n))return yield Tt(_t.BigInt,e,r,n);q0(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Tt(_t.BigIntExclusiveMaximum,e,r,n)),q0(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Tt(_t.BigIntExclusiveMinimum,e,r,n)),q0(e.maximum)&&!(n<=e.maximum)&&(yield Tt(_t.BigIntMaximum,e,r,n)),q0(e.minimum)&&!(n>=e.minimum)&&(yield Tt(_t.BigIntMinimum,e,r,n)),q0(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield Tt(_t.BigIntMultipleOf,e,r,n))}s(oY,"TBigInt");function*aY(e,t,r,n){(0,rn.IsBoolean)(n)||(yield Tt(_t.Boolean,e,r,n))}s(aY,"TBoolean");function*lY(e,t,r,n){yield*Gn(e.returns,t,r,n.prototype)}s(lY,"TConstructor");function*fY(e,t,r,n){if(!(0,rn.IsDate)(n))return yield Tt(_t.Date,e,r,n);q0(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield Tt(_t.DateExclusiveMaximumTimestamp,e,r,n)),q0(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield Tt(_t.DateExclusiveMinimumTimestamp,e,r,n)),q0(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield Tt(_t.DateMaximumTimestamp,e,r,n)),q0(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield Tt(_t.DateMinimumTimestamp,e,r,n)),q0(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield Tt(_t.DateMultipleOfTimestamp,e,r,n))}s(fY,"TDate");function*cY(e,t,r,n){(0,rn.IsFunction)(n)||(yield Tt(_t.Function,e,r,n))}s(cY,"TFunction");function*uY(e,t,r,n){if(!(0,rn.IsInteger)(n))return yield Tt(_t.Integer,e,r,n);q0(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Tt(_t.IntegerExclusiveMaximum,e,r,n)),q0(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Tt(_t.IntegerExclusiveMinimum,e,r,n)),q0(e.maximum)&&!(n<=e.maximum)&&(yield Tt(_t.IntegerMaximum,e,r,n)),q0(e.minimum)&&!(n>=e.minimum)&&(yield Tt(_t.IntegerMinimum,e,r,n)),q0(e.multipleOf)&&n%e.multipleOf!==0&&(yield Tt(_t.IntegerMultipleOf,e,r,n))}s(uY,"TInteger");function*dY(e,t,r,n){for(let i of e.allOf){let o=Gn(i,t,r,n).next();o.done||(yield Tt(_t.Intersect,e,r,n),yield o.value)}if(e.unevaluatedProperties===!1){let i=new RegExp(Zs.KeyResolver.ResolvePattern(e));for(let o of Object.getOwnPropertyNames(n))i.test(o)||(yield Tt(_t.IntersectUnevaluatedProperties,e,`${r}/${o}`,n))}if(typeof e.unevaluatedProperties=="object"){let i=new RegExp(Zs.KeyResolver.ResolvePattern(e));for(let o of Object.getOwnPropertyNames(n))if(!i.test(o)){let a=Gn(e.unevaluatedProperties,t,`${r}/${o}`,n[o]).next();a.done||(yield a.value)}}}s(dY,"TIntersect");function*hY(e,t,r,n){(0,rn.IsIterator)(n)||(yield Tt(_t.Iterator,e,r,n))}s(hY,"TIterator");function*mY(e,t,r,n){n!==e.const&&(yield Tt(_t.Literal,e,r,n))}s(mY,"TLiteral");function*gY(e,t,r,n){yield Tt(_t.Never,e,r,n)}s(gY,"TNever");function*pY(e,t,r,n){Gn(e.not,t,r,n).next().done===!0&&(yield Tt(_t.Not,e,r,n))}s(pY,"TNot");function*yY(e,t,r,n){(0,rn.IsNull)(n)||(yield Tt(_t.Null,e,r,n))}s(yY,"TNull");function*vY(e,t,r,n){if(!H5.TypeSystemPolicy.IsNumberLike(n))return yield Tt(_t.Number,e,r,n);q0(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Tt(_t.NumberExclusiveMaximum,e,r,n)),q0(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Tt(_t.NumberExclusiveMinimum,e,r,n)),q0(e.maximum)&&!(n<=e.maximum)&&(yield Tt(_t.NumberMaximum,e,r,n)),q0(e.minimum)&&!(n>=e.minimum)&&(yield Tt(_t.NumberMinimum,e,r,n)),q0(e.multipleOf)&&n%e.multipleOf!==0&&(yield Tt(_t.NumberMultipleOf,e,r,n))}s(vY,"TNumber");function*xY(e,t,r,n){if(!H5.TypeSystemPolicy.IsObjectLike(n))return yield Tt(_t.Object,e,r,n);q0(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Tt(_t.ObjectMinProperties,e,r,n)),q0(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Tt(_t.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],o=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield Tt(_t.ObjectRequiredProperty,e.properties[l],`${r}/${Na(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)o.includes(l)||(yield Tt(_t.ObjectAdditionalProperties,e,`${r}/${Na(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)o.includes(l)||(yield*Gn(e.additionalProperties,t,`${r}/${Na(l)}`,n[l]));for(let l of o){let f=e.properties[l];e.required&&e.required.includes(l)?(yield*Gn(f,t,`${r}/${Na(l)}`,n[l]),Zs.ExtendsUndefined.Check(e)&&!(l in n)&&(yield Tt(_t.ObjectRequiredProperty,f,`${r}/${Na(l)}`,void 0))):H5.TypeSystemPolicy.IsExactOptionalProperty(n,l)&&(yield*Gn(f,t,`${r}/${Na(l)}`,n[l]))}}s(xY,"TObject");function*_Y(e,t,r,n){(0,rn.IsPromise)(n)||(yield Tt(_t.Promise,e,r,n))}s(_Y,"TPromise");function*bY(e,t,r,n){if(!H5.TypeSystemPolicy.IsRecordLike(n))return yield Tt(_t.Object,e,r,n);q0(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Tt(_t.ObjectMinProperties,e,r,n)),q0(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Tt(_t.ObjectMaxProperties,e,r,n));let[i,o]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,f]of Object.entries(n))a.test(l)&&(yield*Gn(o,t,`${r}/${Na(l)}`,f));if(typeof e.additionalProperties=="object")for(let[l,f]of Object.entries(n))a.test(l)||(yield*Gn(e.additionalProperties,t,`${r}/${Na(l)}`,f));if(e.additionalProperties===!1){for(let[l,f]of Object.entries(n))if(!a.test(l))return yield Tt(_t.ObjectAdditionalProperties,e,`${r}/${Na(l)}`,f)}}s(bY,"TRecord");function*CY(e,t,r,n){yield*Gn((0,WN.Deref)(e,t),t,r,n)}s(CY,"TRef");function*TY(e,t,r,n){if(!(0,rn.IsString)(n))return yield Tt(_t.String,e,r,n);q0(e.minLength)&&!(n.length>=e.minLength)&&(yield Tt(_t.StringMinLength,e,r,n)),q0(e.maxLength)&&!(n.length<=e.maxLength)&&(yield Tt(_t.StringMaxLength,e,r,n)),(0,rn.IsString)(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield Tt(_t.StringPattern,e,r,n))),(0,rn.IsString)(e.format)&&(Zs.FormatRegistry.Has(e.format)?Zs.FormatRegistry.Get(e.format)(n)||(yield Tt(_t.StringFormat,e,r,n)):yield Tt(_t.StringFormatUnknown,e,r,n))}s(TY,"TString");function*EY(e,t,r,n){(0,rn.IsSymbol)(n)||(yield Tt(_t.Symbol,e,r,n))}s(EY,"TSymbol");function*SY(e,t,r,n){if(!(0,rn.IsString)(n))return yield Tt(_t.String,e,r,n);new RegExp(e.pattern).test(n)||(yield Tt(_t.StringPattern,e,r,n))}s(SY,"TTemplateLiteral");function*wY(e,t,r,n){yield*Gn((0,WN.Deref)(e,t),t,r,n)}s(wY,"TThis");function*IY(e,t,r,n){if(!(0,rn.IsArray)(n))return yield Tt(_t.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield Tt(_t.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield Tt(_t.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*Gn(e.items[i],t,`${r}/${i}`,n[i])}s(IY,"TTuple");function*AY(e,t,r,n){(0,rn.IsUndefined)(n)||(yield Tt(_t.Undefined,e,r,n))}s(AY,"TUndefined");function*PY(e,t,r,n){let i=0;for(let o of e.anyOf){let a=[...Gn(o,t,r,n)];if(a.length===0)return;i+=a.length}i>0&&(yield Tt(_t.Union,e,r,n))}s(PY,"TUnion");function*RY(e,t,r,n){if(!(0,rn.IsUint8Array)(n))return yield Tt(_t.Uint8Array,e,r,n);q0(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield Tt(_t.Uint8ArrayMaxByteLength,e,r,n)),q0(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield Tt(_t.Uint8ArrayMinByteLength,e,r,n))}s(RY,"TUint8Array");function*NY(e,t,r,n){}s(NY,"TUnknown");function*kY(e,t,r,n){H5.TypeSystemPolicy.IsVoidLike(n)||(yield Tt(_t.Void,e,r,n))}s(kY,"TVoid");function*DY(e,t,r,n){Zs.TypeRegistry.Get(e[Zs.Kind])(e,n)||(yield Tt(_t.Kind,e,r,n))}s(DY,"TKind");function*Gn(e,t,r,n){let i=q0(e.$id)?[...t,e]:t,o=e;switch(o[Zs.Kind]){case"Any":return yield*nY(o,i,r,n);case"Array":return yield*iY(o,i,r,n);case"AsyncIterator":return yield*sY(o,i,r,n);case"BigInt":return yield*oY(o,i,r,n);case"Boolean":return yield*aY(o,i,r,n);case"Constructor":return yield*lY(o,i,r,n);case"Date":return yield*fY(o,i,r,n);case"Function":return yield*cY(o,i,r,n);case"Integer":return yield*uY(o,i,r,n);case"Intersect":return yield*dY(o,i,r,n);case"Iterator":return yield*hY(o,i,r,n);case"Literal":return yield*mY(o,i,r,n);case"Never":return yield*gY(o,i,r,n);case"Not":return yield*pY(o,i,r,n);case"Null":return yield*yY(o,i,r,n);case"Number":return yield*vY(o,i,r,n);case"Object":return yield*xY(o,i,r,n);case"Promise":return yield*_Y(o,i,r,n);case"Record":return yield*bY(o,i,r,n);case"Ref":return yield*CY(o,i,r,n);case"String":return yield*TY(o,i,r,n);case"Symbol":return yield*EY(o,i,r,n);case"TemplateLiteral":return yield*SY(o,i,r,n);case"This":return yield*wY(o,i,r,n);case"Tuple":return yield*IY(o,i,r,n);case"Undefined":return yield*AY(o,i,r,n);case"Union":return yield*PY(o,i,r,n);case"Uint8Array":return yield*RY(o,i,r,n);case"Unknown":return yield*NY(o,i,r,n);case"Void":return yield*kY(o,i,r,n);default:if(!Zs.TypeRegistry.Has(o[Zs.Kind]))throw new ig(e);return yield*DY(o,i,r,n)}}s(Gn,"Visit");function LY(...e){let t=e.length===3?Gn(e[0],e[1],"",e[2]):Gn(e[0],[],"",e[1]);return new sg(t)}s(LY,"Errors");Qs.Errors=LY});var og=ae(wu=>{"use strict";var BY=wu&&wu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),OY=wu&&wu.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&BY(t,e,r)};Object.defineProperty(wu,"__esModule",{value:!0});OY(gh(),wu)});var d_=ae(Ol=>{"use strict";var FY=Ol&&Ol.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),MY=Ol&&Ol.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&FY(t,e,r)};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.ValueErrorType=void 0;var UY=gh();Object.defineProperty(Ol,"ValueErrorType",{enumerable:!0,get:function(){return UY.ValueErrorType}});MY(a_(),Ol)});var z5=ae(V5=>{"use strict";Object.defineProperty(V5,"__esModule",{value:!0});V5.Check=V5.ValueCheckUnknownTypeError=void 0;var nn=Ji(),yh=d_(),GN=uc(),qY=ph(),Yn=ws(),h_=class h_ extends Yn.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(h_,"ValueCheckUnknownTypeError");var ag=h_;V5.ValueCheckUnknownTypeError=ag;function jY(e){return e[Yn.Kind]==="Any"||e[Yn.Kind]==="Unknown"}s(jY,"IsAnyOrUnknown");function j0(e){return e!==void 0}s(j0,"IsDefined");function $Y(e,t,r){return!0}s($Y,"TAny");function HY(e,t,r){if(!(0,nn.IsArray)(r)||j0(e.minItems)&&!(r.length>=e.minItems)||j0(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(o=>Xn(e.items,t,o))||e.uniqueItems===!0&&!function(){let o=new Set;for(let a of r){let l=(0,qY.Hash)(a);if(o.has(l))return!1;o.add(l)}return!0}())return!1;if(!(j0(e.contains)||(0,nn.IsNumber)(e.minContains)||(0,nn.IsNumber)(e.maxContains)))return!0;let n=j0(e.contains)?e.contains:Yn.Type.Never(),i=r.reduce((o,a)=>Xn(n,t,a)?o+1:o,0);return!(i===0||(0,nn.IsNumber)(e.minContains)&&i<e.minContains||(0,nn.IsNumber)(e.maxContains)&&i>e.maxContains)}s(HY,"TArray");function VY(e,t,r){return(0,nn.IsAsyncIterator)(r)}s(VY,"TAsyncIterator");function zY(e,t,r){return!(!(0,nn.IsBigInt)(r)||j0(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||j0(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||j0(e.maximum)&&!(r<=e.maximum)||j0(e.minimum)&&!(r>=e.minimum)||j0(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}s(zY,"TBigInt");function KY(e,t,r){return(0,nn.IsBoolean)(r)}s(KY,"TBoolean");function WY(e,t,r){return Xn(e.returns,t,r.prototype)}s(WY,"TConstructor");function GY(e,t,r){return!(!(0,nn.IsDate)(r)||j0(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||j0(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||j0(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||j0(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||j0(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}s(GY,"TDate");function YY(e,t,r){return(0,nn.IsFunction)(r)}s(YY,"TFunction");function XY(e,t,r){return!(!(0,nn.IsInteger)(r)||j0(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||j0(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||j0(e.maximum)&&!(r<=e.maximum)||j0(e.minimum)&&!(r>=e.minimum)||j0(e.multipleOf)&&r%e.multipleOf!==0)}s(XY,"TInteger");function JY(e,t,r){let n=e.allOf.every(i=>Xn(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(Yn.KeyResolver.ResolvePattern(e)),o=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&o}else if(Yn.TypeGuard.TSchema(e.unevaluatedProperties)){let i=new RegExp(Yn.KeyResolver.ResolvePattern(e)),o=Object.getOwnPropertyNames(r).every(a=>i.test(a)||Xn(e.unevaluatedProperties,t,r[a]));return n&&o}else return n}s(JY,"TIntersect");function QY(e,t,r){return(0,nn.IsIterator)(r)}s(QY,"TIterator");function ZY(e,t,r){return r===e.const}s(ZY,"TLiteral");function eX(e,t,r){return!1}s(eX,"TNever");function tX(e,t,r){return!Xn(e.not,t,r)}s(tX,"TNot");function rX(e,t,r){return(0,nn.IsNull)(r)}s(rX,"TNull");function nX(e,t,r){return!(!yh.TypeSystemPolicy.IsNumberLike(r)||j0(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||j0(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||j0(e.minimum)&&!(r>=e.minimum)||j0(e.maximum)&&!(r<=e.maximum)||j0(e.multipleOf)&&r%e.multipleOf!==0)}s(nX,"TNumber");function iX(e,t,r){if(!yh.TypeSystemPolicy.IsObjectLike(r)||j0(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||j0(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let o=e.properties[i];if(e.required&&e.required.includes(i)){if(!Xn(o,t,r[i])||(Yn.ExtendsUndefined.Check(o)||jY(o))&&!(i in r))return!1}else if(yh.TypeSystemPolicy.IsExactOptionalProperty(r,i)&&!Xn(o,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(o=>n.includes(o))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(o=>n.includes(o)||Xn(e.additionalProperties,t,r[o])):!0}s(iX,"TObject");function sX(e,t,r){return(0,nn.IsPromise)(r)}s(sX,"TPromise");function oX(e,t,r){if(!yh.TypeSystemPolicy.IsRecordLike(r)||j0(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||j0(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],o=new RegExp(n),a=Object.entries(r).every(([c,u])=>o.test(c)?Xn(i,t,u):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([c,u])=>o.test(c)?!0:Xn(e.additionalProperties,t,u)):!0,f=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(c=>o.test(c)):!0;return a&&l&&f}s(oX,"TRecord");function aX(e,t,r){return Xn((0,GN.Deref)(e,t),t,r)}s(aX,"TRef");function lX(e,t,r){return!(0,nn.IsString)(r)||j0(e.minLength)&&!(r.length>=e.minLength)||j0(e.maxLength)&&!(r.length<=e.maxLength)||j0(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:j0(e.format)?Yn.FormatRegistry.Has(e.format)?Yn.FormatRegistry.Get(e.format)(r):!1:!0}s(lX,"TString");function fX(e,t,r){return(0,nn.IsSymbol)(r)}s(fX,"TSymbol");function cX(e,t,r){return(0,nn.IsString)(r)&&new RegExp(e.pattern).test(r)}s(cX,"TTemplateLiteral");function uX(e,t,r){return Xn((0,GN.Deref)(e,t),t,r)}s(uX,"TThis");function dX(e,t,r){if(!(0,nn.IsArray)(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!Xn(e.items[n],t,r[n]))return!1;return!0}s(dX,"TTuple");function hX(e,t,r){return(0,nn.IsUndefined)(r)}s(hX,"TUndefined");function mX(e,t,r){return e.anyOf.some(n=>Xn(n,t,r))}s(mX,"TUnion");function gX(e,t,r){return!(!(0,nn.IsUint8Array)(r)||j0(e.maxByteLength)&&!(r.length<=e.maxByteLength)||j0(e.minByteLength)&&!(r.length>=e.minByteLength))}s(gX,"TUint8Array");function pX(e,t,r){return!0}s(pX,"TUnknown");function yX(e,t,r){return yh.TypeSystemPolicy.IsVoidLike(r)}s(yX,"TVoid");function vX(e,t,r){return Yn.TypeRegistry.Has(e[Yn.Kind])?Yn.TypeRegistry.Get(e[Yn.Kind])(e,r):!1}s(vX,"TKind");function Xn(e,t,r){let n=j0(e.$id)?[...t,e]:t,i=e;switch(i[Yn.Kind]){case"Any":return $Y(i,n,r);case"Array":return HY(i,n,r);case"AsyncIterator":return VY(i,n,r);case"BigInt":return zY(i,n,r);case"Boolean":return KY(i,n,r);case"Constructor":return WY(i,n,r);case"Date":return GY(i,n,r);case"Function":return YY(i,n,r);case"Integer":return XY(i,n,r);case"Intersect":return JY(i,n,r);case"Iterator":return QY(i,n,r);case"Literal":return ZY(i,n,r);case"Never":return eX(i,n,r);case"Not":return tX(i,n,r);case"Null":return rX(i,n,r);case"Number":return nX(i,n,r);case"Object":return iX(i,n,r);case"Promise":return sX(i,n,r);case"Record":return oX(i,n,r);case"Ref":return aX(i,n,r);case"String":return lX(i,n,r);case"Symbol":return fX(i,n,r);case"TemplateLiteral":return cX(i,n,r);case"This":return uX(i,n,r);case"Tuple":return dX(i,n,r);case"Undefined":return hX(i,n,r);case"Union":return mX(i,n,r);case"Uint8Array":return gX(i,n,r);case"Unknown":return pX(i,n,r);case"Void":return yX(i,n,r);default:if(!Yn.TypeRegistry.Has(i[Yn.Kind]))throw new ag(i);return vX(i,n,r)}}s(Xn,"Visit");function xX(...e){return e.length===3?Xn(e[0],e[1],e[2]):Xn(e[0],[],e[1])}s(xX,"Check");V5.Check=xX});var b_=ae(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.EncodeTransform=vi.DecodeTransform=vi.HasTransform=vi.TransformEncodeError=vi.TransformDecodeError=vi.TransformEncodeCheckError=vi.TransformDecodeCheckError=void 0;var Ni=Ji(),K5=uc(),m_=z5(),h0=ws(),y_=class y_ extends h0.TypeBoxError{constructor(t,r,n){super("Unable to decode due to invalid value"),this.schema=t,this.value=r,this.error=n}};s(y_,"TransformDecodeCheckError");var g_=y_;vi.TransformDecodeCheckError=g_;var v_=class v_ extends h0.TypeBoxError{constructor(t,r,n){super("Unable to encode due to invalid value"),this.schema=t,this.value=r,this.error=n}};s(v_,"TransformEncodeCheckError");var p_=v_;vi.TransformEncodeCheckError=p_;var x_=class x_ extends h0.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};s(x_,"TransformDecodeError");var lg=x_;vi.TransformDecodeError=lg;var __=class __ extends h0.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};s(__,"TransformEncodeError");var fg=__;vi.TransformEncodeError=fg;var YN;(function(e){function t(I,P){return h0.TypeGuard.TTransform(I)||_(I.items,P)}s(t,"TArray");function r(I,P){return h0.TypeGuard.TTransform(I)||_(I.items,P)}s(r,"TAsyncIterator");function n(I,P){return h0.TypeGuard.TTransform(I)||_(I.returns,P)||I.parameters.some(M=>_(M,P))}s(n,"TConstructor");function i(I,P){return h0.TypeGuard.TTransform(I)||_(I.returns,P)||I.parameters.some(M=>_(M,P))}s(i,"TFunction");function o(I,P){return h0.TypeGuard.TTransform(I)||h0.TypeGuard.TTransform(I.unevaluatedProperties)||I.allOf.some(M=>_(M,P))}s(o,"TIntersect");function a(I,P){return h0.TypeGuard.TTransform(I)||_(I.items,P)}s(a,"TIterator");function l(I,P){return h0.TypeGuard.TTransform(I)||_(I.not,P)}s(l,"TNot");function f(I,P){return h0.TypeGuard.TTransform(I)||Object.values(I.properties).some(M=>_(M,P))||h0.TypeGuard.TSchema(I.additionalProperties)&&_(I.additionalProperties,P)}s(f,"TObject");function c(I,P){return h0.TypeGuard.TTransform(I)||_(I.item,P)}s(c,"TPromise");function u(I,P){let M=Object.getOwnPropertyNames(I.patternProperties)[0],N=I.patternProperties[M];return h0.TypeGuard.TTransform(I)||_(N,P)||h0.TypeGuard.TSchema(I.additionalProperties)&&h0.TypeGuard.TTransform(I.additionalProperties)}s(u,"TRecord");function d(I,P){return h0.TypeGuard.TTransform(I)?!0:_((0,K5.Deref)(I,P),P)}s(d,"TRef");function p(I,P){return h0.TypeGuard.TTransform(I)?!0:_((0,K5.Deref)(I,P),P)}s(p,"TThis");function g(I,P){return h0.TypeGuard.TTransform(I)||!(0,Ni.IsUndefined)(I.items)&&I.items.some(M=>_(M,P))}s(g,"TTuple");function y(I,P){return h0.TypeGuard.TTransform(I)||I.anyOf.some(M=>_(M,P))}s(y,"TUnion");function _(I,P){let M=(0,Ni.IsString)(I.$id)?[...P,I]:P,N=I;if(I.$id&&S.has(I.$id))return!1;switch(I.$id&&S.add(I.$id),I[h0.Kind]){case"Array":return t(N,M);case"AsyncIterator":return r(N,M);case"Constructor":return n(N,M);case"Function":return i(N,M);case"Intersect":return o(N,M);case"Iterator":return a(N,M);case"Not":return l(N,M);case"Object":return f(N,M);case"Promise":return c(N,M);case"Record":return u(N,M);case"Ref":return d(N,M);case"This":return p(N,M);case"Tuple":return g(N,M);case"Union":return y(N,M);default:return h0.TypeGuard.TTransform(I)}}s(_,"Visit");let S=new Set;function T(I,P){return S.clear(),_(I,P)}s(T,"Has"),e.Has=T})(YN||(vi.HasTransform=YN={}));var XN;(function(e){function t(g,y){try{return h0.TypeGuard.TTransform(g)?g[h0.Transform].Decode(y):y}catch(_){throw new lg(g,y,_)}}s(t,"Default");function r(g,y,_){return(0,Ni.IsArray)(_)?t(g,_.map(S=>d(g.items,y,S))):t(g,_)}s(r,"TArray");function n(g,y,_){if(!(0,Ni.IsPlainObject)(_)||(0,Ni.IsValueType)(_))return t(g,_);let S=h0.KeyResolver.ResolveKeys(g,{includePatterns:!1}),T=S.reduce((N,L)=>L in N?{...N,[L]:d(h0.IndexedAccessor.Resolve(g,[L]),y,N[L])}:N,_);if(!h0.TypeGuard.TTransform(g.unevaluatedProperties))return t(g,T);let I=Object.getOwnPropertyNames(T),P=g.unevaluatedProperties,M=I.reduce((N,L)=>S.includes(L)?N:{...N,[L]:t(P,N[L])},T);return t(g,M)}s(n,"TIntersect");function i(g,y,_){return t(g,d(g.not,y,_))}s(i,"TNot");function o(g,y,_){if(!(0,Ni.IsPlainObject)(_))return t(g,_);let S=h0.KeyResolver.ResolveKeys(g,{includePatterns:!1}),T=S.reduce((N,L)=>L in N?{...N,[L]:d(g.properties[L],y,N[L])}:N,_);if(!h0.TypeGuard.TSchema(g.additionalProperties))return t(g,T);let I=Object.getOwnPropertyNames(T),P=g.additionalProperties,M=I.reduce((N,L)=>S.includes(L)?N:{...N,[L]:t(P,N[L])},T);return t(g,M)}s(o,"TObject");function a(g,y,_){if(!(0,Ni.IsPlainObject)(_))return t(g,_);let S=Object.getOwnPropertyNames(g.patternProperties)[0],T=new RegExp(S),I=Object.getOwnPropertyNames(_).reduce((L,X)=>T.test(X)?{...L,[X]:d(g.patternProperties[S],y,L[X])}:L,_);if(!h0.TypeGuard.TSchema(g.additionalProperties))return t(g,I);let P=Object.getOwnPropertyNames(I),M=g.additionalProperties,N=P.reduce((L,X)=>T.test(X)?L:{...L,[X]:t(M,L[X])},I);return t(g,N)}s(a,"TRecord");function l(g,y,_){let S=(0,K5.Deref)(g,y);return t(g,d(S,y,_))}s(l,"TRef");function f(g,y,_){let S=(0,K5.Deref)(g,y);return t(g,d(S,y,_))}s(f,"TThis");function c(g,y,_){return(0,Ni.IsArray)(_)&&(0,Ni.IsArray)(g.items)?t(g,g.items.map((S,T)=>d(S,y,_[T]))):t(g,_)}s(c,"TTuple");function u(g,y,_){let S=t(g,_);for(let T of g.anyOf)if((0,m_.Check)(T,y,S))return d(T,y,S);return S}s(u,"TUnion");function d(g,y,_){let S=typeof g.$id=="string"?[...y,g]:y,T=g;switch(g[h0.Kind]){case"Array":return r(T,S,_);case"Intersect":return n(T,S,_);case"Not":return i(T,S,_);case"Object":return o(T,S,_);case"Record":return a(T,S,_);case"Ref":return l(T,S,_);case"Symbol":return t(T,_);case"This":return f(T,S,_);case"Tuple":return c(T,S,_);case"Union":return u(T,S,_);default:return t(T,_)}}s(d,"Visit");function p(g,y,_){return d(g,y,_)}s(p,"Decode"),e.Decode=p})(XN||(vi.DecodeTransform=XN={}));var JN;(function(e){function t(g,y){try{return h0.TypeGuard.TTransform(g)?g[h0.Transform].Encode(y):y}catch(_){throw new fg(g,y,_)}}s(t,"Default");function r(g,y,_){let S=t(g,_);return(0,Ni.IsArray)(S)?S.map(T=>d(g.items,y,T)):S}s(r,"TArray");function n(g,y,_){let S=t(g,_);if(!(0,Ni.IsPlainObject)(_)||(0,Ni.IsValueType)(_))return S;let T=h0.KeyResolver.ResolveKeys(g,{includePatterns:!1}),I=T.reduce((N,L)=>L in S?{...N,[L]:d(h0.IndexedAccessor.Resolve(g,[L]),y,N[L])}:N,S);if(!h0.TypeGuard.TTransform(g.unevaluatedProperties))return t(g,I);let P=Object.getOwnPropertyNames(I),M=g.unevaluatedProperties;return P.reduce((N,L)=>T.includes(L)?N:{...N,[L]:t(M,N[L])},I)}s(n,"TIntersect");function i(g,y,_){return t(g.not,t(g,_))}s(i,"TNot");function o(g,y,_){let S=t(g,_);if(!(0,Ni.IsPlainObject)(_))return S;let T=h0.KeyResolver.ResolveKeys(g,{includePatterns:!1}),I=T.reduce((N,L)=>L in N?{...N,[L]:d(g.properties[L],y,N[L])}:N,S);if(!h0.TypeGuard.TSchema(g.additionalProperties))return I;let P=Object.getOwnPropertyNames(I),M=g.additionalProperties;return P.reduce((N,L)=>T.includes(L)?N:{...N,[L]:t(M,N[L])},I)}s(o,"TObject");function a(g,y,_){let S=t(g,_);if(!(0,Ni.IsPlainObject)(_))return S;let T=Object.getOwnPropertyNames(g.patternProperties)[0],I=new RegExp(T),P=Object.getOwnPropertyNames(_).reduce((L,X)=>I.test(X)?{...L,[X]:d(g.patternProperties[T],y,L[X])}:L,S);if(!h0.TypeGuard.TSchema(g.additionalProperties))return t(g,P);let M=Object.getOwnPropertyNames(P),N=g.additionalProperties;return M.reduce((L,X)=>I.test(X)?L:{...L,[X]:t(N,L[X])},P)}s(a,"TRecord");function l(g,y,_){let S=(0,K5.Deref)(g,y),T=d(S,y,_);return t(g,T)}s(l,"TRef");function f(g,y,_){let S=(0,K5.Deref)(g,y),T=d(S,y,_);return t(g,T)}s(f,"TThis");function c(g,y,_){let S=t(g,_);return(0,Ni.IsArray)(g.items)?g.items.map((T,I)=>d(T,y,S[I])):[]}s(c,"TTuple");function u(g,y,_){for(let S of g.anyOf){if(!(0,m_.Check)(S,y,_))continue;let T=d(S,y,_);return t(g,T)}for(let S of g.anyOf){let T=d(S,y,_);if((0,m_.Check)(g,y,T))return t(g,T)}return t(g,_)}s(u,"TUnion");function d(g,y,_){let S=typeof g.$id=="string"?[...y,g]:y,T=g;switch(g[h0.Kind]){case"Array":return r(T,S,_);case"Intersect":return n(T,S,_);case"Not":return i(T,S,_);case"Object":return o(T,S,_);case"Record":return a(T,S,_);case"Ref":return l(T,S,_);case"This":return f(T,S,_);case"Tuple":return c(T,S,_);case"Union":return u(T,S,_);default:return t(T,_)}}s(d,"Visit");function p(g,y,_){return d(g,y,_)}s(p,"Encode"),e.Encode=p})(JN||(vi.EncodeTransform=JN={}))});var ZN=ae(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.TypeCompiler=eo.Policy=eo.TypeCompilerTypeGuardError=eo.TypeCompilerUnknownTypeError=eo.TypeCheck=void 0;var vh=b_(),E0=Ji(),_X=gh(),xh=d_(),bX=uc(),CX=ph(),Ur=ws(),E_=class E_{constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=vh.HasTransform.Has(t,r)}Code(){return this.code}Errors(t){return(0,_X.Errors)(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new vh.TransformDecodeCheckError(this.schema,t,this.Errors(t).First());return this.hasTransform?vh.DecodeTransform.Decode(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?vh.EncodeTransform.Encode(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new vh.TransformEncodeCheckError(this.schema,t,this.Errors(t).First());return r}};s(E_,"TypeCheck");var cg=E_;eo.TypeCheck=cg;var Fl;(function(e){function t(o){return o===36}s(t,"DollarSign"),e.DollarSign=t;function r(o){return o===95}s(r,"IsUnderscore"),e.IsUnderscore=r;function n(o){return o>=65&&o<=90||o>=97&&o<=122}s(n,"IsAlpha"),e.IsAlpha=n;function i(o){return o>=48&&o<=57}s(i,"IsNumeric"),e.IsNumeric=i})(Fl||(Fl={}));var ug;(function(e){function t(o){return o.length===0?!1:Fl.IsNumeric(o.charCodeAt(0))}s(t,"IsFirstCharacterNumeric");function r(o){if(t(o))return!1;for(let a=0;a<o.length;a++){let l=o.charCodeAt(a);if(!(Fl.IsAlpha(l)||Fl.IsNumeric(l)||Fl.DollarSign(l)||Fl.IsUnderscore(l)))return!1}return!0}s(r,"IsAccessor");function n(o){return o.replace(/'/g,"\\'")}s(n,"EscapeHyphen");function i(o,a){return r(a)?`${o}.${a}`:`${o}['${n(a)}']`}s(i,"Encode"),e.Encode=i})(ug||(ug={}));var C_;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);Fl.IsNumeric(o)||Fl.IsAlpha(o)?n.push(r.charAt(i)):n.push(`_${o}_`)}return n.join("").replace(/__/g,"_")}s(t,"Encode"),e.Encode=t})(C_||(C_={}));var T_;(function(e){function t(r){return r.replace(/'/g,"\\'")}s(t,"Escape"),e.Escape=t})(T_||(T_={}));var S_=class S_ extends Ur.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(S_,"TypeCompilerUnknownTypeError");var dg=S_;eo.TypeCompilerUnknownTypeError=dg;var w_=class w_ extends Ur.TypeBoxError{constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}};s(w_,"TypeCompilerTypeGuardError");var _h=w_;eo.TypeCompilerTypeGuardError=_h;var Iu;(function(e){function t(a,l,f){return xh.TypeSystemPolicy.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${f} : true)`:`(${ug.Encode(a,l)} !== undefined ? ${f} : true)`}s(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return xh.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}s(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return xh.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}s(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return xh.TypeSystemPolicy.AllowNaN?`typeof ${a} === 'number'`:`(typeof ${a} === 'number' && Number.isFinite(${a}))`}s(i,"IsNumberLike"),e.IsNumberLike=i;function o(a){return xh.TypeSystemPolicy.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}s(o,"IsVoidLike"),e.IsVoidLike=o})(Iu||(eo.Policy=Iu={}));var QN;(function(e){function t(W){return W[Ur.Kind]==="Any"||W[Ur.Kind]==="Unknown"}s(t,"IsAnyOrUnknown");function*r(W,Je,he){yield"true"}s(r,"TAny");function*n(W,Je,he){yield`Array.isArray(${he})`;let[Xe,Ve]=[mt("value","any"),mt("acc","number")];(0,E0.IsNumber)(W.maxItems)&&(yield`${he}.length <= ${W.maxItems}`),(0,E0.IsNumber)(W.minItems)&&(yield`${he}.length >= ${W.minItems}`);let nt=ce(W.items,Je,"value");if(yield`${he}.every((${Xe}) => ${nt})`,Ur.TypeGuard.TSchema(W.contains)||(0,E0.IsNumber)(W.minContains)||(0,E0.IsNumber)(W.maxContains)){let wt=Ur.TypeGuard.TSchema(W.contains)?W.contains:Ur.Type.Never(),Mt=ce(wt,Je,"value"),Lt=(0,E0.IsNumber)(W.minContains)?[`(count >= ${W.minContains})`]:[],H=(0,E0.IsNumber)(W.maxContains)?[`(count <= ${W.maxContains})`]:[],$t=`const count = value.reduce((${Ve}, ${Xe}) => ${Mt} ? acc + 1 : acc, 0)`,vt=["(count > 0)",...Lt,...H].join(" && ");yield`((${Xe}) => { ${$t}; return ${vt}})(${he})`}W.uniqueItems===!0&&(yield`((${Xe}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${he})`)}s(n,"TArray");function*i(W,Je,he){yield`(typeof value === 'object' && Symbol.asyncIterator in ${he})`}s(i,"TAsyncIterator");function*o(W,Je,he){yield`(typeof ${he} === 'bigint')`,(0,E0.IsBigInt)(W.exclusiveMaximum)&&(yield`${he} < BigInt(${W.exclusiveMaximum})`),(0,E0.IsBigInt)(W.exclusiveMinimum)&&(yield`${he} > BigInt(${W.exclusiveMinimum})`),(0,E0.IsBigInt)(W.maximum)&&(yield`${he} <= BigInt(${W.maximum})`),(0,E0.IsBigInt)(W.minimum)&&(yield`${he} >= BigInt(${W.minimum})`),(0,E0.IsBigInt)(W.multipleOf)&&(yield`(${he} % BigInt(${W.multipleOf})) === 0`)}s(o,"TBigInt");function*a(W,Je,he){yield`(typeof ${he} === 'boolean')`}s(a,"TBoolean");function*l(W,Je,he){yield*be(W.returns,Je,`${he}.prototype`)}s(l,"TConstructor");function*f(W,Je,he){yield`(${he} instanceof Date) && Number.isFinite(${he}.getTime())`,(0,E0.IsNumber)(W.exclusiveMaximumTimestamp)&&(yield`${he}.getTime() < ${W.exclusiveMaximumTimestamp}`),(0,E0.IsNumber)(W.exclusiveMinimumTimestamp)&&(yield`${he}.getTime() > ${W.exclusiveMinimumTimestamp}`),(0,E0.IsNumber)(W.maximumTimestamp)&&(yield`${he}.getTime() <= ${W.maximumTimestamp}`),(0,E0.IsNumber)(W.minimumTimestamp)&&(yield`${he}.getTime() >= ${W.minimumTimestamp}`),(0,E0.IsNumber)(W.multipleOfTimestamp)&&(yield`(${he}.getTime() % ${W.multipleOfTimestamp}) === 0`)}s(f,"TDate");function*c(W,Je,he){yield`(typeof ${he} === 'function')`}s(c,"TFunction");function*u(W,Je,he){yield`(typeof ${he} === 'number' && Number.isInteger(${he}))`,(0,E0.IsNumber)(W.exclusiveMaximum)&&(yield`${he} < ${W.exclusiveMaximum}`),(0,E0.IsNumber)(W.exclusiveMinimum)&&(yield`${he} > ${W.exclusiveMinimum}`),(0,E0.IsNumber)(W.maximum)&&(yield`${he} <= ${W.maximum}`),(0,E0.IsNumber)(W.minimum)&&(yield`${he} >= ${W.minimum}`),(0,E0.IsNumber)(W.multipleOf)&&(yield`(${he} % ${W.multipleOf}) === 0`)}s(u,"TInteger");function*d(W,Je,he){let Xe=W.allOf.map(Ve=>ce(Ve,Je,he)).join(" && ");if(W.unevaluatedProperties===!1){let Ve=le(`${new RegExp(Ur.KeyResolver.ResolvePattern(W))};`),nt=`Object.getOwnPropertyNames(${he}).every(key => ${Ve}.test(key))`;yield`(${Xe} && ${nt})`}else if(Ur.TypeGuard.TSchema(W.unevaluatedProperties)){let Ve=le(`${new RegExp(Ur.KeyResolver.ResolvePattern(W))};`),nt=`Object.getOwnPropertyNames(${he}).every(key => ${Ve}.test(key) || ${ce(W.unevaluatedProperties,Je,`${he}[key]`)})`;yield`(${Xe} && ${nt})`}else yield`(${Xe})`}s(d,"TIntersect");function*p(W,Je,he){yield`(typeof value === 'object' && Symbol.iterator in ${he})`}s(p,"TIterator");function*g(W,Je,he){typeof W.const=="number"||typeof W.const=="boolean"?yield`(${he} === ${W.const})`:yield`(${he} === '${T_.Escape(W.const)}')`}s(g,"TLiteral");function*y(W,Je,he){yield"false"}s(y,"TNever");function*_(W,Je,he){yield`(!${ce(W.not,Je,he)})`}s(_,"TNot");function*S(W,Je,he){yield`(${he} === null)`}s(S,"TNull");function*T(W,Je,he){yield Iu.IsNumberLike(he),(0,E0.IsNumber)(W.exclusiveMaximum)&&(yield`${he} < ${W.exclusiveMaximum}`),(0,E0.IsNumber)(W.exclusiveMinimum)&&(yield`${he} > ${W.exclusiveMinimum}`),(0,E0.IsNumber)(W.maximum)&&(yield`${he} <= ${W.maximum}`),(0,E0.IsNumber)(W.minimum)&&(yield`${he} >= ${W.minimum}`),(0,E0.IsNumber)(W.multipleOf)&&(yield`(${he} % ${W.multipleOf}) === 0`)}s(T,"TNumber");function*I(W,Je,he){yield Iu.IsObjectLike(he),(0,E0.IsNumber)(W.minProperties)&&(yield`Object.getOwnPropertyNames(${he}).length >= ${W.minProperties}`),(0,E0.IsNumber)(W.maxProperties)&&(yield`Object.getOwnPropertyNames(${he}).length <= ${W.maxProperties}`);let Xe=Object.getOwnPropertyNames(W.properties);for(let Ve of Xe){let nt=ug.Encode(he,Ve),wt=W.properties[Ve];if(W.required&&W.required.includes(Ve))yield*be(wt,Je,nt),(Ur.ExtendsUndefined.Check(wt)||t(wt))&&(yield`('${Ve}' in ${he})`);else{let Mt=ce(wt,Je,nt);yield Iu.IsExactOptionalProperty(he,Ve,Mt)}}if(W.additionalProperties===!1)if(W.required&&W.required.length===Xe.length)yield`Object.getOwnPropertyNames(${he}).length === ${Xe.length}`;else{let Ve=`[${Xe.map(nt=>`'${nt}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${he}).every(key => ${Ve}.includes(key))`}if(typeof W.additionalProperties=="object"){let Ve=ce(W.additionalProperties,Je,`${he}[key]`),nt=`[${Xe.map(wt=>`'${wt}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${he}).every(key => ${nt}.includes(key) || ${Ve}))`}}s(I,"TObject");function*P(W,Je,he){yield`(typeof value === 'object' && typeof ${he}.then === 'function')`}s(P,"TPromise");function*M(W,Je,he){yield Iu.IsRecordLike(he),(0,E0.IsNumber)(W.minProperties)&&(yield`Object.getOwnPropertyNames(${he}).length >= ${W.minProperties}`),(0,E0.IsNumber)(W.maxProperties)&&(yield`Object.getOwnPropertyNames(${he}).length <= ${W.maxProperties}`);let[Xe,Ve]=Object.entries(W.patternProperties)[0],nt=le(`${new RegExp(Xe)}`),wt=ce(Ve,Je,"value"),Mt=Ur.TypeGuard.TSchema(W.additionalProperties)?ce(W.additionalProperties,Je,he):W.additionalProperties===!1?"false":"true",Lt=`(${nt}.test(key) ? ${wt} : ${Mt})`;yield`(Object.entries(${he}).every(([key, value]) => ${Lt}))`}s(M,"TRecord");function*N(W,Je,he){let Xe=(0,bX.Deref)(W,Je);if(Ke.functions.has(W.$ref))return yield`${ve(W.$ref)}(${he})`;yield*be(Xe,Je,he)}s(N,"TRef");function*L(W,Je,he){yield`(typeof ${he} === 'string')`,(0,E0.IsNumber)(W.maxLength)&&(yield`${he}.length <= ${W.maxLength}`),(0,E0.IsNumber)(W.minLength)&&(yield`${he}.length >= ${W.minLength}`),W.pattern!==void 0&&(yield`${le(`${new RegExp(W.pattern)};`)}.test(${he})`),W.format!==void 0&&(yield`format('${W.format}', ${he})`)}s(L,"TString");function*X(W,Je,he){yield`(typeof ${he} === 'symbol')`}s(X,"TSymbol");function*te(W,Je,he){yield`(typeof ${he} === 'string')`,yield`${le(`${new RegExp(W.pattern)};`)}.test(${he})`}s(te,"TTemplateLiteral");function*Ce(W,Je,he){yield`${ve(W.$ref)}(${he})`}s(Ce,"TThis");function*De(W,Je,he){if(yield`Array.isArray(${he})`,W.items===void 0)return yield`${he}.length === 0`;yield`(${he}.length === ${W.maxItems})`;for(let Xe=0;Xe<W.items.length;Xe++)yield`${ce(W.items[Xe],Je,`${he}[${Xe}]`)}`}s(De,"TTuple");function*pe(W,Je,he){yield`${he} === undefined`}s(pe,"TUndefined");function*Ie(W,Je,he){yield`(${W.anyOf.map(Ve=>ce(Ve,Je,he)).join(" || ")})`}s(Ie,"TUnion");function*ie(W,Je,he){yield`${he} instanceof Uint8Array`,(0,E0.IsNumber)(W.maxByteLength)&&(yield`(${he}.length <= ${W.maxByteLength})`),(0,E0.IsNumber)(W.minByteLength)&&(yield`(${he}.length >= ${W.minByteLength})`)}s(ie,"TUint8Array");function*Z(W,Je,he){yield"true"}s(Z,"TUnknown");function*_e(W,Je,he){yield Iu.IsVoidLike(he)}s(_e,"TVoid");function*Ae(W,Je,he){let Xe=Ke.instances.size;Ke.instances.set(Xe,W),yield`kind('${W[Ur.Kind]}', ${Xe}, ${he})`}s(Ae,"TKind");function*be(W,Je,he,Xe=!0){let Ve=(0,E0.IsString)(W.$id)?[...Je,W]:Je,nt=W;if(Xe&&(0,E0.IsString)(W.$id)){let wt=ve(W.$id);if(Ke.functions.has(wt))return yield`${wt}(${he})`;{let Mt=Ee(wt,W,Je,"value",!1);return Ke.functions.set(wt,Mt),yield`${wt}(${he})`}}switch(nt[Ur.Kind]){case"Any":return yield*r(nt,Ve,he);case"Array":return yield*n(nt,Ve,he);case"AsyncIterator":return yield*i(nt,Ve,he);case"BigInt":return yield*o(nt,Ve,he);case"Boolean":return yield*a(nt,Ve,he);case"Constructor":return yield*l(nt,Ve,he);case"Date":return yield*f(nt,Ve,he);case"Function":return yield*c(nt,Ve,he);case"Integer":return yield*u(nt,Ve,he);case"Intersect":return yield*d(nt,Ve,he);case"Iterator":return yield*p(nt,Ve,he);case"Literal":return yield*g(nt,Ve,he);case"Never":return yield*y(nt,Ve,he);case"Not":return yield*_(nt,Ve,he);case"Null":return yield*S(nt,Ve,he);case"Number":return yield*T(nt,Ve,he);case"Object":return yield*I(nt,Ve,he);case"Promise":return yield*P(nt,Ve,he);case"Record":return yield*M(nt,Ve,he);case"Ref":return yield*N(nt,Ve,he);case"String":return yield*L(nt,Ve,he);case"Symbol":return yield*X(nt,Ve,he);case"TemplateLiteral":return yield*te(nt,Ve,he);case"This":return yield*Ce(nt,Ve,he);case"Tuple":return yield*De(nt,Ve,he);case"Undefined":return yield*pe(nt,Ve,he);case"Union":return yield*Ie(nt,Ve,he);case"Uint8Array":return yield*ie(nt,Ve,he);case"Unknown":return yield*Z(nt,Ve,he);case"Void":return yield*_e(nt,Ve,he);default:if(!Ur.TypeRegistry.Has(nt[Ur.Kind]))throw new dg(W);return yield*Ae(nt,Ve,he)}}s(be,"Visit");let Ke={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function ce(W,Je,he,Xe=!0){return`(${[...be(W,Je,he,Xe)].join(" && ")})`}s(ce,"CreateExpression");function ve(W){return`check_${C_.Encode(W)}`}s(ve,"CreateFunctionName");function le(W){let Je=`local_${Ke.variables.size}`;return Ke.variables.set(Je,`const ${Je} = ${W}`),Je}s(le,"CreateVariable");function Ee(W,Je,he,Xe,Ve=!0){let[nt,wt]=[`
`,$t=>"".padStart($t," ")],Mt=mt("value","any"),Lt=Et("boolean"),H=[...be(Je,he,Xe,Ve)].map($t=>`${wt(4)}${$t}`).join(` &&${nt}`);return`function ${W}(${Mt})${Lt} {${nt}${wt(2)}return (${nt}${H}${nt}${wt(2)})
}`}s(Ee,"CreateFunction");function mt(W,Je){let he=Ke.language==="typescript"?`: ${Je}`:"";return`${W}${he}`}s(mt,"CreateParameter");function Et(W){return Ke.language==="typescript"?`: ${W}`:""}s(Et,"CreateReturns");function dt(W,Je,he){let Xe=Ee("check",W,Je,"value"),Ve=mt("value","any"),nt=Et("boolean"),wt=[...Ke.functions.values()],Mt=[...Ke.variables.values()],Lt=(0,E0.IsString)(W.$id)?`return function check(${Ve})${nt} {
  return ${ve(W.$id)}(value)
}`:`return ${Xe}`;return[...Mt,...wt,Lt].join(`
`)}s(dt,"Build");function ze(...W){let Je={language:"javascript"},[he,Xe,Ve]=W.length===2&&(0,E0.IsArray)(W[1])?[W[0],W[1],Je]:W.length===2&&!(0,E0.IsArray)(W[1])?[W[0],[],W[1]]:W.length===3?[W[0],W[1],W[2]]:W.length===1?[W[0],[],Je]:[null,[],Je];if(Ke.language=Ve.language,Ke.variables.clear(),Ke.functions.clear(),Ke.instances.clear(),!Ur.TypeGuard.TSchema(he))throw new _h(he);for(let nt of Xe)if(!Ur.TypeGuard.TSchema(nt))throw new _h(nt);return dt(he,Xe,Ve)}s(ze,"Code"),e.Code=ze;function n0(W,Je=[]){let he=ze(W,Je,{language:"javascript"}),Xe=globalThis.Function("kind","format","hash",he),Ve=new Map(Ke.instances);function nt(H,$t,vt){if(!Ur.TypeRegistry.Has(H)||!Ve.has($t))return!1;let sr=Ur.TypeRegistry.Get(H),X0=Ve.get($t);return sr(X0,vt)}s(nt,"typeRegistryFunction");function wt(H,$t){return Ur.FormatRegistry.Has(H)?Ur.FormatRegistry.Get(H)($t):!1}s(wt,"formatRegistryFunction");function Mt(H){return(0,CX.Hash)(H)}s(Mt,"hashFunction");let Lt=Xe(nt,wt,Mt);return new cg(W,Je,Lt,he)}s(n0,"Compile"),e.Compile=n0})(QN||(eo.TypeCompiler=QN={}))});var tk=ae(Ho=>{"use strict";var TX=Ho&&Ho.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),EX=Ho&&Ho.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TX(t,e,r)};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.ValueErrorIterator=Ho.ValueErrorType=void 0;var ek=og();Object.defineProperty(Ho,"ValueErrorType",{enumerable:!0,get:function(){return ek.ValueErrorType}});Object.defineProperty(Ho,"ValueErrorIterator",{enumerable:!0,get:function(){return ek.ValueErrorIterator}});EX(ZN(),Ho)});var O0=ae((hg,rk)=>{(function(e,t){typeof hg=="object"?rk.exports=hg=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(hg,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=s(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),o=Object.create||function(){function T(){}return s(T,"F"),function(I){var P;return T.prototype=I,P=new T,T.prototype=null,P}}(),a={},l=a.lib={},f=l.Base=function(){return{extend:function(T){var I=o(this);return T&&I.mixIn(T),(!I.hasOwnProperty("init")||this.init===I.init)&&(I.init=function(){I.$super.init.apply(this,arguments)}),I.init.prototype=I,I.$super=this,I},create:function(){var T=this.extend();return T.init.apply(T,arguments),T},init:function(){},mixIn:function(T){for(var I in T)T.hasOwnProperty(I)&&(this[I]=T[I]);T.hasOwnProperty("toString")&&(this.toString=T.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=l.WordArray=f.extend({init:function(T,I){T=this.words=T||[],I!=r?this.sigBytes=I:this.sigBytes=T.length*4},toString:function(T){return(T||d).stringify(this)},concat:function(T){var I=this.words,P=T.words,M=this.sigBytes,N=T.sigBytes;if(this.clamp(),M%4)for(var L=0;L<N;L++){var X=P[L>>>2]>>>24-L%4*8&255;I[M+L>>>2]|=X<<24-(M+L)%4*8}else for(var te=0;te<N;te+=4)I[M+te>>>2]=P[te>>>2];return this.sigBytes+=N,this},clamp:function(){var T=this.words,I=this.sigBytes;T[I>>>2]&=4294967295<<32-I%4*8,T.length=t.ceil(I/4)},clone:function(){var T=f.clone.call(this);return T.words=this.words.slice(0),T},random:function(T){for(var I=[],P=0;P<T;P+=4)I.push(i());return new c.init(I,T)}}),u=a.enc={},d=u.Hex={stringify:function(T){for(var I=T.words,P=T.sigBytes,M=[],N=0;N<P;N++){var L=I[N>>>2]>>>24-N%4*8&255;M.push((L>>>4).toString(16)),M.push((L&15).toString(16))}return M.join("")},parse:function(T){for(var I=T.length,P=[],M=0;M<I;M+=2)P[M>>>3]|=parseInt(T.substr(M,2),16)<<24-M%8*4;return new c.init(P,I/2)}},p=u.Latin1={stringify:function(T){for(var I=T.words,P=T.sigBytes,M=[],N=0;N<P;N++){var L=I[N>>>2]>>>24-N%4*8&255;M.push(String.fromCharCode(L))}return M.join("")},parse:function(T){for(var I=T.length,P=[],M=0;M<I;M++)P[M>>>2]|=(T.charCodeAt(M)&255)<<24-M%4*8;return new c.init(P,I)}},g=u.Utf8={stringify:function(T){try{return decodeURIComponent(escape(p.stringify(T)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(T){return p.parse(unescape(encodeURIComponent(T)))}},y=l.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(T){typeof T=="string"&&(T=g.parse(T)),this._data.concat(T),this._nDataBytes+=T.sigBytes},_process:function(T){var I,P=this._data,M=P.words,N=P.sigBytes,L=this.blockSize,X=L*4,te=N/X;T?te=t.ceil(te):te=t.max((te|0)-this._minBufferSize,0);var Ce=te*L,De=t.min(Ce*4,N);if(Ce){for(var pe=0;pe<Ce;pe+=L)this._doProcessBlock(M,pe);I=M.splice(0,Ce),P.sigBytes-=De}return new c.init(I,De)},clone:function(){var T=f.clone.call(this);return T._data=this._data.clone(),T},_minBufferSize:0}),_=l.Hasher=y.extend({cfg:f.extend(),init:function(T){this.cfg=this.cfg.extend(T),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(T){return this._append(T),this._process(),this},finalize:function(T){T&&this._append(T);var I=this._doFinalize();return I},blockSize:512/32,_createHelper:function(T){return function(I,P){return new T.init(P).finalize(I)}},_createHmacHelper:function(T){return function(I,P){return new S.HMAC.init(T,P).finalize(I)}}}),S=a.algo={};return a}(Math);return e})});var bh=ae((mg,nk)=>{(function(e,t){typeof mg=="object"?nk.exports=mg=t(O0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(mg,function(e){return function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:function(c,u){this.high=c,this.low=u}}),f=a.WordArray=i.extend({init:function(c,u){c=this.words=c||[],u!=t?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,d=[],p=0;p<u;p++){var g=c[p];d.push(g.high),d.push(g.low)}return o.create(d,this.sigBytes)},clone:function(){for(var c=i.clone.call(this),u=c.words=this.words.slice(0),d=u.length,p=0;p<d;p++)u[p]=u[p].clone();return c}})}(),e})});var sk=ae((gg,ik)=>{(function(e,t){typeof gg=="object"?ik.exports=gg=t(O0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(gg,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,o=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,f=[],c=0;c<l;c++)f[c>>>2]|=a[c]<<24-c%4*8;i.call(this,f,l)}else i.apply(this,arguments)};o.prototype=n}}(),e.lib.WordArray})});var ak=ae((pg,ok)=>{(function(e,t){typeof pg=="object"?ok.exports=pg=t(O0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(pg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Utf16=i.Utf16BE={stringify:function(l){for(var f=l.words,c=l.sigBytes,u=[],d=0;d<c;d+=2){var p=f[d>>>2]>>>16-d%4*8&65535;u.push(String.fromCharCode(p))}return u.join("")},parse:function(l){for(var f=l.length,c=[],u=0;u<f;u++)c[u>>>1]|=l.charCodeAt(u)<<16-u%2*16;return n.create(c,f*2)}};i.Utf16LE={stringify:function(l){for(var f=l.words,c=l.sigBytes,u=[],d=0;d<c;d+=2){var p=a(f[d>>>2]>>>16-d%4*8&65535);u.push(String.fromCharCode(p))}return u.join("")},parse:function(l){for(var f=l.length,c=[],u=0;u<f;u++)c[u>>>1]|=a(l.charCodeAt(u)<<16-u%2*16);return n.create(c,f*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}s(a,"swapEndian")}(),e.enc.Utf16})});var hc=ae((yg,lk)=>{(function(e,t){typeof yg=="object"?lk.exports=yg=t(O0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(yg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Base64={stringify:function(l){var f=l.words,c=l.sigBytes,u=this._map;l.clamp();for(var d=[],p=0;p<c;p+=3)for(var g=f[p>>>2]>>>24-p%4*8&255,y=f[p+1>>>2]>>>24-(p+1)%4*8&255,_=f[p+2>>>2]>>>24-(p+2)%4*8&255,S=g<<16|y<<8|_,T=0;T<4&&p+T*.75<c;T++)d.push(u.charAt(S>>>6*(3-T)&63));var I=u.charAt(64);if(I)for(;d.length%4;)d.push(I);return d.join("")},parse:function(l){var f=l.length,c=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var d=0;d<c.length;d++)u[c.charCodeAt(d)]=d}var p=c.charAt(64);if(p){var g=l.indexOf(p);g!==-1&&(f=g)}return a(l,f,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,f,c){for(var u=[],d=0,p=0;p<f;p++)if(p%4){var g=c[l.charCodeAt(p-1)]<<p%4*2,y=c[l.charCodeAt(p)]>>>6-p%4*2,_=g|y;u[d>>>2]|=_<<24-d%4*8,d++}return n.create(u,d)}s(a,"parseLoop")}(),e.enc.Base64})});var ck=ae((vg,fk)=>{(function(e,t){typeof vg=="object"?fk.exports=vg=t(O0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(vg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Base64url={stringify:function(l,f){f===void 0&&(f=!0);var c=l.words,u=l.sigBytes,d=f?this._safe_map:this._map;l.clamp();for(var p=[],g=0;g<u;g+=3)for(var y=c[g>>>2]>>>24-g%4*8&255,_=c[g+1>>>2]>>>24-(g+1)%4*8&255,S=c[g+2>>>2]>>>24-(g+2)%4*8&255,T=y<<16|_<<8|S,I=0;I<4&&g+I*.75<u;I++)p.push(d.charAt(T>>>6*(3-I)&63));var P=d.charAt(64);if(P)for(;p.length%4;)p.push(P);return p.join("")},parse:function(l,f){f===void 0&&(f=!0);var c=l.length,u=f?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var p=0;p<u.length;p++)d[u.charCodeAt(p)]=p}var g=u.charAt(64);if(g){var y=l.indexOf(g);y!==-1&&(c=y)}return a(l,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,f,c){for(var u=[],d=0,p=0;p<f;p++)if(p%4){var g=c[l.charCodeAt(p-1)]<<p%4*2,y=c[l.charCodeAt(p)]>>>6-p%4*2,_=g|y;u[d>>>2]|=_<<24-d%4*8,d++}return n.create(u,d)}s(a,"parseLoop")}(),e.enc.Base64url})});var mc=ae((xg,uk)=>{(function(e,t){typeof xg=="object"?uk.exports=xg=t(O0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(xg,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=[];(function(){for(var g=0;g<64;g++)l[g]=t.abs(t.sin(g+1))*4294967296|0})();var f=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,y){for(var _=0;_<16;_++){var S=y+_,T=g[S];g[S]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var I=this._hash.words,P=g[y+0],M=g[y+1],N=g[y+2],L=g[y+3],X=g[y+4],te=g[y+5],Ce=g[y+6],De=g[y+7],pe=g[y+8],Ie=g[y+9],ie=g[y+10],Z=g[y+11],_e=g[y+12],Ae=g[y+13],be=g[y+14],Ke=g[y+15],ce=I[0],ve=I[1],le=I[2],Ee=I[3];ce=c(ce,ve,le,Ee,P,7,l[0]),Ee=c(Ee,ce,ve,le,M,12,l[1]),le=c(le,Ee,ce,ve,N,17,l[2]),ve=c(ve,le,Ee,ce,L,22,l[3]),ce=c(ce,ve,le,Ee,X,7,l[4]),Ee=c(Ee,ce,ve,le,te,12,l[5]),le=c(le,Ee,ce,ve,Ce,17,l[6]),ve=c(ve,le,Ee,ce,De,22,l[7]),ce=c(ce,ve,le,Ee,pe,7,l[8]),Ee=c(Ee,ce,ve,le,Ie,12,l[9]),le=c(le,Ee,ce,ve,ie,17,l[10]),ve=c(ve,le,Ee,ce,Z,22,l[11]),ce=c(ce,ve,le,Ee,_e,7,l[12]),Ee=c(Ee,ce,ve,le,Ae,12,l[13]),le=c(le,Ee,ce,ve,be,17,l[14]),ve=c(ve,le,Ee,ce,Ke,22,l[15]),ce=u(ce,ve,le,Ee,M,5,l[16]),Ee=u(Ee,ce,ve,le,Ce,9,l[17]),le=u(le,Ee,ce,ve,Z,14,l[18]),ve=u(ve,le,Ee,ce,P,20,l[19]),ce=u(ce,ve,le,Ee,te,5,l[20]),Ee=u(Ee,ce,ve,le,ie,9,l[21]),le=u(le,Ee,ce,ve,Ke,14,l[22]),ve=u(ve,le,Ee,ce,X,20,l[23]),ce=u(ce,ve,le,Ee,Ie,5,l[24]),Ee=u(Ee,ce,ve,le,be,9,l[25]),le=u(le,Ee,ce,ve,L,14,l[26]),ve=u(ve,le,Ee,ce,pe,20,l[27]),ce=u(ce,ve,le,Ee,Ae,5,l[28]),Ee=u(Ee,ce,ve,le,N,9,l[29]),le=u(le,Ee,ce,ve,De,14,l[30]),ve=u(ve,le,Ee,ce,_e,20,l[31]),ce=d(ce,ve,le,Ee,te,4,l[32]),Ee=d(Ee,ce,ve,le,pe,11,l[33]),le=d(le,Ee,ce,ve,Z,16,l[34]),ve=d(ve,le,Ee,ce,be,23,l[35]),ce=d(ce,ve,le,Ee,M,4,l[36]),Ee=d(Ee,ce,ve,le,X,11,l[37]),le=d(le,Ee,ce,ve,De,16,l[38]),ve=d(ve,le,Ee,ce,ie,23,l[39]),ce=d(ce,ve,le,Ee,Ae,4,l[40]),Ee=d(Ee,ce,ve,le,P,11,l[41]),le=d(le,Ee,ce,ve,L,16,l[42]),ve=d(ve,le,Ee,ce,Ce,23,l[43]),ce=d(ce,ve,le,Ee,Ie,4,l[44]),Ee=d(Ee,ce,ve,le,_e,11,l[45]),le=d(le,Ee,ce,ve,Ke,16,l[46]),ve=d(ve,le,Ee,ce,N,23,l[47]),ce=p(ce,ve,le,Ee,P,6,l[48]),Ee=p(Ee,ce,ve,le,De,10,l[49]),le=p(le,Ee,ce,ve,be,15,l[50]),ve=p(ve,le,Ee,ce,te,21,l[51]),ce=p(ce,ve,le,Ee,_e,6,l[52]),Ee=p(Ee,ce,ve,le,L,10,l[53]),le=p(le,Ee,ce,ve,ie,15,l[54]),ve=p(ve,le,Ee,ce,M,21,l[55]),ce=p(ce,ve,le,Ee,pe,6,l[56]),Ee=p(Ee,ce,ve,le,Ke,10,l[57]),le=p(le,Ee,ce,ve,Ce,15,l[58]),ve=p(ve,le,Ee,ce,Ae,21,l[59]),ce=p(ce,ve,le,Ee,X,6,l[60]),Ee=p(Ee,ce,ve,le,Z,10,l[61]),le=p(le,Ee,ce,ve,N,15,l[62]),ve=p(ve,le,Ee,ce,Ie,21,l[63]),I[0]=I[0]+ce|0,I[1]=I[1]+ve|0,I[2]=I[2]+le|0,I[3]=I[3]+Ee|0},_doFinalize:function(){var g=this._data,y=g.words,_=this._nDataBytes*8,S=g.sigBytes*8;y[S>>>5]|=128<<24-S%32;var T=t.floor(_/4294967296),I=_;y[(S+64>>>9<<4)+15]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,y[(S+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,g.sigBytes=(y.length+1)*4,this._process();for(var P=this._hash,M=P.words,N=0;N<4;N++){var L=M[N];M[N]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return P},clone:function(){var g=o.clone.call(this);return g._hash=this._hash.clone(),g}});function c(g,y,_,S,T,I,P){var M=g+(y&_|~y&S)+T+P;return(M<<I|M>>>32-I)+y}s(c,"FF");function u(g,y,_,S,T,I,P){var M=g+(y&S|_&~S)+T+P;return(M<<I|M>>>32-I)+y}s(u,"GG");function d(g,y,_,S,T,I,P){var M=g+(y^_^S)+T+P;return(M<<I|M>>>32-I)+y}s(d,"HH");function p(g,y,_,S,T,I,P){var M=g+(_^(y|~S))+T+P;return(M<<I|M>>>32-I)+y}s(p,"II"),r.MD5=o._createHelper(f),r.HmacMD5=o._createHmacHelper(f)}(Math),e.MD5})});var I_=ae((_g,dk)=>{(function(e,t){typeof _g=="object"?dk.exports=_g=t(O0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(_g,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,o=t.algo,a=[],l=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,c){for(var u=this._hash.words,d=u[0],p=u[1],g=u[2],y=u[3],_=u[4],S=0;S<80;S++){if(S<16)a[S]=f[c+S]|0;else{var T=a[S-3]^a[S-8]^a[S-14]^a[S-16];a[S]=T<<1|T>>>31}var I=(d<<5|d>>>27)+_+a[S];S<20?I+=(p&g|~p&y)+1518500249:S<40?I+=(p^g^y)+1859775393:S<60?I+=(p&g|p&y|g&y)-1894007588:I+=(p^g^y)-899497514,_=y,y=g,g=p<<30|p>>>2,p=d,d=I}u[0]=u[0]+d|0,u[1]=u[1]+p|0,u[2]=u[2]+g|0,u[3]=u[3]+y|0,u[4]=u[4]+_|0},_doFinalize:function(){var f=this._data,c=f.words,u=this._nDataBytes*8,d=f.sigBytes*8;return c[d>>>5]|=128<<24-d%32,c[(d+64>>>9<<4)+14]=Math.floor(u/4294967296),c[(d+64>>>9<<4)+15]=u,f.sigBytes=c.length*4,this._process(),this._hash},clone:function(){var f=i.clone.call(this);return f._hash=this._hash.clone(),f}});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var Cg=ae((bg,hk)=>{(function(e,t){typeof bg=="object"?hk.exports=bg=t(O0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(bg,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=[],f=[];(function(){function d(_){for(var S=t.sqrt(_),T=2;T<=S;T++)if(!(_%T))return!1;return!0}s(d,"isPrime");function p(_){return(_-(_|0))*4294967296|0}s(p,"getFractionalBits");for(var g=2,y=0;y<64;)d(g)&&(y<8&&(l[y]=p(t.pow(g,1/2))),f[y]=p(t.pow(g,1/3)),y++),g++})();var c=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(l.slice(0))},_doProcessBlock:function(d,p){for(var g=this._hash.words,y=g[0],_=g[1],S=g[2],T=g[3],I=g[4],P=g[5],M=g[6],N=g[7],L=0;L<64;L++){if(L<16)c[L]=d[p+L]|0;else{var X=c[L-15],te=(X<<25|X>>>7)^(X<<14|X>>>18)^X>>>3,Ce=c[L-2],De=(Ce<<15|Ce>>>17)^(Ce<<13|Ce>>>19)^Ce>>>10;c[L]=te+c[L-7]+De+c[L-16]}var pe=I&P^~I&M,Ie=y&_^y&S^_&S,ie=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),Z=(I<<26|I>>>6)^(I<<21|I>>>11)^(I<<7|I>>>25),_e=N+Z+pe+f[L]+c[L],Ae=ie+Ie;N=M,M=P,P=I,I=T+_e|0,T=S,S=_,_=y,y=_e+Ae|0}g[0]=g[0]+y|0,g[1]=g[1]+_|0,g[2]=g[2]+S|0,g[3]=g[3]+T|0,g[4]=g[4]+I|0,g[5]=g[5]+P|0,g[6]=g[6]+M|0,g[7]=g[7]+N|0},_doFinalize:function(){var d=this._data,p=d.words,g=this._nDataBytes*8,y=d.sigBytes*8;return p[y>>>5]|=128<<24-y%32,p[(y+64>>>9<<4)+14]=t.floor(g/4294967296),p[(y+64>>>9<<4)+15]=g,d.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA256=o._createHelper(u),r.HmacSHA256=o._createHmacHelper(u)}(Math),e.SHA256})});var gk=ae((Tg,mk)=>{(function(e,t,r){typeof Tg=="object"?mk.exports=Tg=t(O0(),Cg()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(Tg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,o=i.SHA256,a=i.SHA224=o.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=o._doFinalize.call(this);return l.sigBytes-=4,l}});t.SHA224=o._createHelper(a),t.HmacSHA224=o._createHmacHelper(a)}(),e.SHA224})});var A_=ae((Eg,pk)=>{(function(e,t,r){typeof Eg=="object"?pk.exports=Eg=t(O0(),bh()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Eg,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,o=i.Word,a=i.WordArray,l=t.algo;function f(){return o.create.apply(o,arguments)}s(f,"X64Word_create");var c=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],u=[];(function(){for(var p=0;p<80;p++)u[p]=f()})();var d=l.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(p,g){for(var y=this._hash.words,_=y[0],S=y[1],T=y[2],I=y[3],P=y[4],M=y[5],N=y[6],L=y[7],X=_.high,te=_.low,Ce=S.high,De=S.low,pe=T.high,Ie=T.low,ie=I.high,Z=I.low,_e=P.high,Ae=P.low,be=M.high,Ke=M.low,ce=N.high,ve=N.low,le=L.high,Ee=L.low,mt=X,Et=te,dt=Ce,ze=De,n0=pe,W=Ie,Je=ie,he=Z,Xe=_e,Ve=Ae,nt=be,wt=Ke,Mt=ce,Lt=ve,H=le,$t=Ee,vt=0;vt<80;vt++){var sr,X0,pr=u[vt];if(vt<16)X0=pr.high=p[g+vt*2]|0,sr=pr.low=p[g+vt*2+1]|0;else{var J0=u[vt-15],Gr=J0.high,un=J0.low,Fn=(Gr>>>1|un<<31)^(Gr>>>8|un<<24)^Gr>>>7,dn=(un>>>1|Gr<<31)^(un>>>8|Gr<<24)^(un>>>7|Gr<<25),Xt=u[vt-2],Y=Xt.high,k=Xt.low,B=(Y>>>19|k<<13)^(Y<<3|k>>>29)^Y>>>6,Ye=(k>>>19|Y<<13)^(k<<3|Y>>>29)^(k>>>6|Y<<26),Vt=u[vt-7],S0=Vt.high,A0=Vt.low,Wt=u[vt-16],W0=Wt.high,u0=Wt.low;sr=dn+A0,X0=Fn+S0+(sr>>>0<dn>>>0?1:0),sr=sr+Ye,X0=X0+B+(sr>>>0<Ye>>>0?1:0),sr=sr+u0,X0=X0+W0+(sr>>>0<u0>>>0?1:0),pr.high=X0,pr.low=sr}var er=Xe&nt^~Xe&Mt,w0=Ve&wt^~Ve&Lt,Q0=mt&dt^mt&n0^dt&n0,Nt=Et&ze^Et&W^ze&W,hs=(mt>>>28|Et<<4)^(mt<<30|Et>>>2)^(mt<<25|Et>>>7),tl=(Et>>>28|mt<<4)^(Et<<30|mt>>>2)^(Et<<25|mt>>>7),Mn=(Xe>>>14|Ve<<18)^(Xe>>>18|Ve<<14)^(Xe<<23|Ve>>>9),Ms=(Ve>>>14|Xe<<18)^(Ve>>>18|Xe<<14)^(Ve<<23|Xe>>>9),qi=c[vt],Co=qi.high,ye=qi.low,U=$t+Ms,se=H+Mn+(U>>>0<$t>>>0?1:0),U=U+w0,se=se+er+(U>>>0<w0>>>0?1:0),U=U+ye,se=se+Co+(U>>>0<ye>>>0?1:0),U=U+sr,se=se+X0+(U>>>0<sr>>>0?1:0),fe=tl+Nt,K=hs+Q0+(fe>>>0<tl>>>0?1:0);H=Mt,$t=Lt,Mt=nt,Lt=wt,nt=Xe,wt=Ve,Ve=he+U|0,Xe=Je+se+(Ve>>>0<he>>>0?1:0)|0,Je=n0,he=W,n0=dt,W=ze,dt=mt,ze=Et,Et=U+fe|0,mt=se+K+(Et>>>0<U>>>0?1:0)|0}te=_.low=te+Et,_.high=X+mt+(te>>>0<Et>>>0?1:0),De=S.low=De+ze,S.high=Ce+dt+(De>>>0<ze>>>0?1:0),Ie=T.low=Ie+W,T.high=pe+n0+(Ie>>>0<W>>>0?1:0),Z=I.low=Z+he,I.high=ie+Je+(Z>>>0<he>>>0?1:0),Ae=P.low=Ae+Ve,P.high=_e+Xe+(Ae>>>0<Ve>>>0?1:0),Ke=M.low=Ke+wt,M.high=be+nt+(Ke>>>0<wt>>>0?1:0),ve=N.low=ve+Lt,N.high=ce+Mt+(ve>>>0<Lt>>>0?1:0),Ee=L.low=Ee+$t,L.high=le+H+(Ee>>>0<$t>>>0?1:0)},_doFinalize:function(){var p=this._data,g=p.words,y=this._nDataBytes*8,_=p.sigBytes*8;g[_>>>5]|=128<<24-_%32,g[(_+128>>>10<<5)+30]=Math.floor(y/4294967296),g[(_+128>>>10<<5)+31]=y,p.sigBytes=g.length*4,this._process();var S=this._hash.toX32();return S},clone:function(){var p=n.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});t.SHA512=n._createHelper(d),t.HmacSHA512=n._createHmacHelper(d)}(),e.SHA512})});var vk=ae((Sg,yk)=>{(function(e,t,r){typeof Sg=="object"?yk.exports=Sg=t(O0(),bh(),A_()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(Sg,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,o=t.algo,a=o.SHA512,l=o.SHA384=a.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var f=a._doFinalize.call(this);return f.sigBytes-=16,f}});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var _k=ae((wg,xk)=>{(function(e,t,r){typeof wg=="object"?xk.exports=wg=t(O0(),bh()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(wg,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.x64,l=a.Word,f=r.algo,c=[],u=[],d=[];(function(){for(var y=1,_=0,S=0;S<24;S++){c[y+5*_]=(S+1)*(S+2)/2%64;var T=_%5,I=(2*y+3*_)%5;y=T,_=I}for(var y=0;y<5;y++)for(var _=0;_<5;_++)u[y+5*_]=_+(2*y+3*_)%5*5;for(var P=1,M=0;M<24;M++){for(var N=0,L=0,X=0;X<7;X++){if(P&1){var te=(1<<X)-1;te<32?L^=1<<te:N^=1<<te-32}P&128?P=P<<1^113:P<<=1}d[M]=l.create(N,L)}})();var p=[];(function(){for(var y=0;y<25;y++)p[y]=l.create()})();var g=f.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var y=this._state=[],_=0;_<25;_++)y[_]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(y,_){for(var S=this._state,T=this.blockSize/2,I=0;I<T;I++){var P=y[_+2*I],M=y[_+2*I+1];P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360;var N=S[I];N.high^=M,N.low^=P}for(var L=0;L<24;L++){for(var X=0;X<5;X++){for(var te=0,Ce=0,De=0;De<5;De++){var N=S[X+5*De];te^=N.high,Ce^=N.low}var pe=p[X];pe.high=te,pe.low=Ce}for(var X=0;X<5;X++)for(var Ie=p[(X+4)%5],ie=p[(X+1)%5],Z=ie.high,_e=ie.low,te=Ie.high^(Z<<1|_e>>>31),Ce=Ie.low^(_e<<1|Z>>>31),De=0;De<5;De++){var N=S[X+5*De];N.high^=te,N.low^=Ce}for(var Ae=1;Ae<25;Ae++){var te,Ce,N=S[Ae],be=N.high,Ke=N.low,ce=c[Ae];ce<32?(te=be<<ce|Ke>>>32-ce,Ce=Ke<<ce|be>>>32-ce):(te=Ke<<ce-32|be>>>64-ce,Ce=be<<ce-32|Ke>>>64-ce);var ve=p[u[Ae]];ve.high=te,ve.low=Ce}var le=p[0],Ee=S[0];le.high=Ee.high,le.low=Ee.low;for(var X=0;X<5;X++)for(var De=0;De<5;De++){var Ae=X+5*De,N=S[Ae],mt=p[Ae],Et=p[(X+1)%5+5*De],dt=p[(X+2)%5+5*De];N.high=mt.high^~Et.high&dt.high,N.low=mt.low^~Et.low&dt.low}var N=S[0],ze=d[L];N.high^=ze.high,N.low^=ze.low}},_doFinalize:function(){var y=this._data,_=y.words,S=this._nDataBytes*8,T=y.sigBytes*8,I=this.blockSize*32;_[T>>>5]|=1<<24-T%32,_[(t.ceil((T+1)/I)*I>>>5)-1]|=128,y.sigBytes=_.length*4,this._process();for(var P=this._state,M=this.cfg.outputLength/8,N=M/8,L=[],X=0;X<N;X++){var te=P[X],Ce=te.high,De=te.low;Ce=(Ce<<8|Ce>>>24)&16711935|(Ce<<24|Ce>>>8)&4278255360,De=(De<<8|De>>>24)&16711935|(De<<24|De>>>8)&4278255360,L.push(De),L.push(Ce)}return new i.init(L,M)},clone:function(){for(var y=o.clone.call(this),_=y._state=this._state.slice(0),S=0;S<25;S++)_[S]=_[S].clone();return y}});r.SHA3=o._createHelper(g),r.HmacSHA3=o._createHmacHelper(g)}(Math),e.SHA3})});var Ck=ae((Ig,bk)=>{(function(e,t){typeof Ig=="object"?bk.exports=Ig=t(O0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Ig,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),p=i.create([1352829926,1548603684,1836072691,2053994217,0]),g=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(M,N){for(var L=0;L<16;L++){var X=N+L,te=M[X];M[X]=(te<<8|te>>>24)&16711935|(te<<24|te>>>8)&4278255360}var Ce=this._hash.words,De=d.words,pe=p.words,Ie=l.words,ie=f.words,Z=c.words,_e=u.words,Ae,be,Ke,ce,ve,le,Ee,mt,Et,dt;le=Ae=Ce[0],Ee=be=Ce[1],mt=Ke=Ce[2],Et=ce=Ce[3],dt=ve=Ce[4];for(var ze,L=0;L<80;L+=1)ze=Ae+M[N+Ie[L]]|0,L<16?ze+=y(be,Ke,ce)+De[0]:L<32?ze+=_(be,Ke,ce)+De[1]:L<48?ze+=S(be,Ke,ce)+De[2]:L<64?ze+=T(be,Ke,ce)+De[3]:ze+=I(be,Ke,ce)+De[4],ze=ze|0,ze=P(ze,Z[L]),ze=ze+ve|0,Ae=ve,ve=ce,ce=P(Ke,10),Ke=be,be=ze,ze=le+M[N+ie[L]]|0,L<16?ze+=I(Ee,mt,Et)+pe[0]:L<32?ze+=T(Ee,mt,Et)+pe[1]:L<48?ze+=S(Ee,mt,Et)+pe[2]:L<64?ze+=_(Ee,mt,Et)+pe[3]:ze+=y(Ee,mt,Et)+pe[4],ze=ze|0,ze=P(ze,_e[L]),ze=ze+dt|0,le=dt,dt=Et,Et=P(mt,10),mt=Ee,Ee=ze;ze=Ce[1]+Ke+Et|0,Ce[1]=Ce[2]+ce+dt|0,Ce[2]=Ce[3]+ve+le|0,Ce[3]=Ce[4]+Ae+Ee|0,Ce[4]=Ce[0]+be+mt|0,Ce[0]=ze},_doFinalize:function(){var M=this._data,N=M.words,L=this._nDataBytes*8,X=M.sigBytes*8;N[X>>>5]|=128<<24-X%32,N[(X+64>>>9<<4)+14]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,M.sigBytes=(N.length+1)*4,this._process();for(var te=this._hash,Ce=te.words,De=0;De<5;De++){var pe=Ce[De];Ce[De]=(pe<<8|pe>>>24)&16711935|(pe<<24|pe>>>8)&4278255360}return te},clone:function(){var M=o.clone.call(this);return M._hash=this._hash.clone(),M}});function y(M,N,L){return M^N^L}s(y,"f1");function _(M,N,L){return M&N|~M&L}s(_,"f2");function S(M,N,L){return(M|~N)^L}s(S,"f3");function T(M,N,L){return M&L|N&~L}s(T,"f4");function I(M,N,L){return M^(N|~L)}s(I,"f5");function P(M,N){return M<<N|M>>>32-N}s(P,"rotl"),r.RIPEMD160=o._createHelper(g),r.HmacRIPEMD160=o._createHmacHelper(g)}(Math),e.RIPEMD160})});var Pg=ae((Ag,Tk)=>{(function(e,t){typeof Ag=="object"?Tk.exports=Ag=t(O0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Ag,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,o=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:function(f,c){f=this._hasher=new f.init,typeof c=="string"&&(c=o.parse(c));var u=f.blockSize,d=u*4;c.sigBytes>d&&(c=f.finalize(c)),c.clamp();for(var p=this._oKey=c.clone(),g=this._iKey=c.clone(),y=p.words,_=g.words,S=0;S<u;S++)y[S]^=1549556828,_[S]^=909522486;p.sigBytes=g.sigBytes=d,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var c=this._hasher,u=c.finalize(f);c.reset();var d=c.finalize(this._oKey.clone().concat(u));return d}})})()})});var Sk=ae((Rg,Ek)=>{(function(e,t,r){typeof Rg=="object"?Ek.exports=Rg=t(O0(),Cg(),Pg()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(Rg,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,o=t.algo,a=o.SHA256,l=o.HMAC,f=o.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,u){for(var d=this.cfg,p=l.create(d.hasher,c),g=i.create(),y=i.create([1]),_=g.words,S=y.words,T=d.keySize,I=d.iterations;_.length<T;){var P=p.update(u).finalize(y);p.reset();for(var M=P.words,N=M.length,L=P,X=1;X<I;X++){L=p.finalize(L),p.reset();for(var te=L.words,Ce=0;Ce<N;Ce++)M[Ce]^=te[Ce]}g.concat(P),S[0]++}return g.sigBytes=T*4,g}});t.PBKDF2=function(c,u,d){return f.create(d).compute(c,u)}}(),e.PBKDF2})});var Ml=ae((Ng,wk)=>{(function(e,t,r){typeof Ng=="object"?wk.exports=Ng=t(O0(),I_(),Pg()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(Ng,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,o=t.algo,a=o.MD5,l=o.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,c){for(var u,d=this.cfg,p=d.hasher.create(),g=i.create(),y=g.words,_=d.keySize,S=d.iterations;y.length<_;){u&&p.update(u),u=p.update(f).finalize(c),p.reset();for(var T=1;T<S;T++)u=p.finalize(u),p.reset();g.concat(u)}return g.sigBytes=_*4,g}});t.EvpKDF=function(f,c,u){return l.create(u).compute(f,c)}}(),e.EvpKDF})});var gn=ae((kg,Ik)=>{(function(e,t,r){typeof kg=="object"?Ik.exports=kg=t(O0(),Ml()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(kg,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,f=l.Utf8,c=l.Base64,u=r.algo,d=u.EvpKDF,p=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(pe,Ie){return this.create(this._ENC_XFORM_MODE,pe,Ie)},createDecryptor:function(pe,Ie){return this.create(this._DEC_XFORM_MODE,pe,Ie)},init:function(pe,Ie,ie){this.cfg=this.cfg.extend(ie),this._xformMode=pe,this._key=Ie,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(pe){return this._append(pe),this._process()},finalize:function(pe){pe&&this._append(pe);var Ie=this._doFinalize();return Ie},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function pe(Ie){return typeof Ie=="string"?De:X}return s(pe,"selectCipherStrategy"),function(Ie){return{encrypt:function(ie,Z,_e){return pe(Z).encrypt(Ie,ie,Z,_e)},decrypt:function(ie,Z,_e){return pe(Z).decrypt(Ie,ie,Z,_e)}}}}()}),g=n.StreamCipher=p.extend({_doFinalize:function(){var pe=this._process(!0);return pe},blockSize:1}),y=r.mode={},_=n.BlockCipherMode=i.extend({createEncryptor:function(pe,Ie){return this.Encryptor.create(pe,Ie)},createDecryptor:function(pe,Ie){return this.Decryptor.create(pe,Ie)},init:function(pe,Ie){this._cipher=pe,this._iv=Ie}}),S=y.CBC=function(){var pe=_.extend();pe.Encryptor=pe.extend({processBlock:function(ie,Z){var _e=this._cipher,Ae=_e.blockSize;Ie.call(this,ie,Z,Ae),_e.encryptBlock(ie,Z),this._prevBlock=ie.slice(Z,Z+Ae)}}),pe.Decryptor=pe.extend({processBlock:function(ie,Z){var _e=this._cipher,Ae=_e.blockSize,be=ie.slice(Z,Z+Ae);_e.decryptBlock(ie,Z),Ie.call(this,ie,Z,Ae),this._prevBlock=be}});function Ie(ie,Z,_e){var Ae,be=this._iv;be?(Ae=be,this._iv=t):Ae=this._prevBlock;for(var Ke=0;Ke<_e;Ke++)ie[Z+Ke]^=Ae[Ke]}return s(Ie,"xorBlock"),pe}(),T=r.pad={},I=T.Pkcs7={pad:function(pe,Ie){for(var ie=Ie*4,Z=ie-pe.sigBytes%ie,_e=Z<<24|Z<<16|Z<<8|Z,Ae=[],be=0;be<Z;be+=4)Ae.push(_e);var Ke=o.create(Ae,Z);pe.concat(Ke)},unpad:function(pe){var Ie=pe.words[pe.sigBytes-1>>>2]&255;pe.sigBytes-=Ie}},P=n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:S,padding:I}),reset:function(){var pe;p.reset.call(this);var Ie=this.cfg,ie=Ie.iv,Z=Ie.mode;this._xformMode==this._ENC_XFORM_MODE?pe=Z.createEncryptor:(pe=Z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==pe?this._mode.init(this,ie&&ie.words):(this._mode=pe.call(Z,this,ie&&ie.words),this._mode.__creator=pe)},_doProcessBlock:function(pe,Ie){this._mode.processBlock(pe,Ie)},_doFinalize:function(){var pe,Ie=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Ie.pad(this._data,this.blockSize),pe=this._process(!0)):(pe=this._process(!0),Ie.unpad(pe)),pe},blockSize:128/32}),M=n.CipherParams=i.extend({init:function(pe){this.mixIn(pe)},toString:function(pe){return(pe||this.formatter).stringify(this)}}),N=r.format={},L=N.OpenSSL={stringify:function(pe){var Ie,ie=pe.ciphertext,Z=pe.salt;return Z?Ie=o.create([1398893684,1701076831]).concat(Z).concat(ie):Ie=ie,Ie.toString(c)},parse:function(pe){var Ie,ie=c.parse(pe),Z=ie.words;return Z[0]==1398893684&&Z[1]==1701076831&&(Ie=o.create(Z.slice(2,4)),Z.splice(0,4),ie.sigBytes-=16),M.create({ciphertext:ie,salt:Ie})}},X=n.SerializableCipher=i.extend({cfg:i.extend({format:L}),encrypt:function(pe,Ie,ie,Z){Z=this.cfg.extend(Z);var _e=pe.createEncryptor(ie,Z),Ae=_e.finalize(Ie),be=_e.cfg;return M.create({ciphertext:Ae,key:ie,iv:be.iv,algorithm:pe,mode:be.mode,padding:be.padding,blockSize:pe.blockSize,formatter:Z.format})},decrypt:function(pe,Ie,ie,Z){Z=this.cfg.extend(Z),Ie=this._parse(Ie,Z.format);var _e=pe.createDecryptor(ie,Z).finalize(Ie.ciphertext);return _e},_parse:function(pe,Ie){return typeof pe=="string"?Ie.parse(pe,this):pe}}),te=r.kdf={},Ce=te.OpenSSL={execute:function(pe,Ie,ie,Z,_e){if(Z||(Z=o.random(64/8)),_e)var Ae=d.create({keySize:Ie+ie,hasher:_e}).compute(pe,Z);else var Ae=d.create({keySize:Ie+ie}).compute(pe,Z);var be=o.create(Ae.words.slice(Ie),ie*4);return Ae.sigBytes=Ie*4,M.create({key:Ae,iv:be,salt:Z})}},De=n.PasswordBasedCipher=X.extend({cfg:X.cfg.extend({kdf:Ce}),encrypt:function(pe,Ie,ie,Z){Z=this.cfg.extend(Z);var _e=Z.kdf.execute(ie,pe.keySize,pe.ivSize,Z.salt,Z.hasher);Z.iv=_e.iv;var Ae=X.encrypt.call(this,pe,Ie,_e.key,Z);return Ae.mixIn(_e),Ae},decrypt:function(pe,Ie,ie,Z){Z=this.cfg.extend(Z),Ie=this._parse(Ie,Z.format);var _e=Z.kdf.execute(ie,pe.keySize,pe.ivSize,Ie.salt,Z.hasher);Z.iv=_e.iv;var Ae=X.decrypt.call(this,pe,Ie,_e.key,Z);return Ae}})}()})});var Pk=ae((Dg,Ak)=>{(function(e,t,r){typeof Dg=="object"?Ak.exports=Dg=t(O0(),gn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Dg,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(n,i){var o=this._cipher,a=o.blockSize;r.call(this,n,i,a,o),this._prevBlock=n.slice(i,i+a)}}),t.Decryptor=t.extend({processBlock:function(n,i){var o=this._cipher,a=o.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,o),this._prevBlock=l}});function r(n,i,o,a){var l,f=this._iv;f?(l=f.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var c=0;c<o;c++)n[i+c]^=l[c]}return s(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var Nk=ae((Lg,Rk)=>{(function(e,t,r){typeof Lg=="object"?Rk.exports=Lg=t(O0(),gn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Lg,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,i){var o=this._cipher,a=o.blockSize,l=this._iv,f=this._counter;l&&(f=this._counter=l.slice(0),this._iv=void 0);var c=f.slice(0);o.encryptBlock(c,0),f[a-1]=f[a-1]+1|0;for(var u=0;u<a;u++)n[i+u]^=c[u]}});return t.Decryptor=r,t}(),e.mode.CTR})});var Dk=ae((Bg,kk)=>{(function(e,t,r){typeof Bg=="object"?kk.exports=Bg=t(O0(),gn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Bg,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(o){if((o>>24&255)===255){var a=o>>16&255,l=o>>8&255,f=o&255;a===255?(a=0,l===255?(l=0,f===255?f=0:++f):++l):++a,o=0,o+=a<<16,o+=l<<8,o+=f}else o+=1<<24;return o}s(r,"incWord");function n(o){return(o[0]=r(o[0]))===0&&(o[1]=r(o[1])),o}s(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:function(o,a){var l=this._cipher,f=l.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0),n(u);var d=u.slice(0);l.encryptBlock(d,0);for(var p=0;p<f;p++)o[a+p]^=d[p]}});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var Bk=ae((Og,Lk)=>{(function(e,t,r){typeof Og=="object"?Lk.exports=Og=t(O0(),gn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Og,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,i){var o=this._cipher,a=o.blockSize,l=this._iv,f=this._keystream;l&&(f=this._keystream=l.slice(0),this._iv=void 0),o.encryptBlock(f,0);for(var c=0;c<a;c++)n[i+c]^=f[c]}});return t.Decryptor=r,t}(),e.mode.OFB})});var Fk=ae((Fg,Ok)=>{(function(e,t,r){typeof Fg=="object"?Ok.exports=Fg=t(O0(),gn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Fg,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(r,n){this._cipher.encryptBlock(r,n)}}),t.Decryptor=t.extend({processBlock:function(r,n){this._cipher.decryptBlock(r,n)}}),t}(),e.mode.ECB})});var Uk=ae((Mg,Mk)=>{(function(e,t,r){typeof Mg=="object"?Mk.exports=Mg=t(O0(),gn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Mg,function(e){return e.pad.AnsiX923={pad:function(t,r){var n=t.sigBytes,i=r*4,o=i-n%i,a=n+o-1;t.clamp(),t.words[a>>>2]|=o<<24-a%4*8,t.sigBytes+=o},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Ansix923})});var jk=ae((Ug,qk)=>{(function(e,t,r){typeof Ug=="object"?qk.exports=Ug=t(O0(),gn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ug,function(e){return e.pad.Iso10126={pad:function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Iso10126})});var Hk=ae((qg,$k)=>{(function(e,t,r){typeof qg=="object"?$k.exports=qg=t(O0(),gn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(qg,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var zk=ae((jg,Vk)=>{(function(e,t,r){typeof jg=="object"?Vk.exports=jg=t(O0(),gn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(jg,function(e){return e.pad.ZeroPadding={pad:function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},e.pad.ZeroPadding})});var Wk=ae(($g,Kk)=>{(function(e,t,r){typeof $g=="object"?Kk.exports=$g=t(O0(),gn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})($g,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var Yk=ae((Hg,Gk)=>{(function(e,t,r){typeof Hg=="object"?Gk.exports=Hg=t(O0(),gn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Hg,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,o=r.enc,a=o.Hex,l=r.format,f=l.Hex={stringify:function(c){return c.ciphertext.toString(a)},parse:function(c){var u=a.parse(c);return i.create({ciphertext:u})}}}(),e.format.Hex})});var Jk=ae((Vg,Xk)=>{(function(e,t,r){typeof Vg=="object"?Xk.exports=Vg=t(O0(),hc(),mc(),Ml(),gn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Vg,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,o=[],a=[],l=[],f=[],c=[],u=[],d=[],p=[],g=[],y=[];(function(){for(var T=[],I=0;I<256;I++)I<128?T[I]=I<<1:T[I]=I<<1^283;for(var P=0,M=0,I=0;I<256;I++){var N=M^M<<1^M<<2^M<<3^M<<4;N=N>>>8^N&255^99,o[P]=N,a[N]=P;var L=T[P],X=T[L],te=T[X],Ce=T[N]*257^N*16843008;l[P]=Ce<<24|Ce>>>8,f[P]=Ce<<16|Ce>>>16,c[P]=Ce<<8|Ce>>>24,u[P]=Ce;var Ce=te*16843009^X*65537^L*257^P*16843008;d[N]=Ce<<24|Ce>>>8,p[N]=Ce<<16|Ce>>>16,g[N]=Ce<<8|Ce>>>24,y[N]=Ce,P?(P=L^T[T[T[te^L]]],M^=T[T[M]]):P=M=1}})();var _=[0,1,2,4,8,16,32,64,128,27,54],S=i.AES=n.extend({_doReset:function(){var T;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var I=this._keyPriorReset=this._key,P=I.words,M=I.sigBytes/4,N=this._nRounds=M+6,L=(N+1)*4,X=this._keySchedule=[],te=0;te<L;te++)te<M?X[te]=P[te]:(T=X[te-1],te%M?M>6&&te%M==4&&(T=o[T>>>24]<<24|o[T>>>16&255]<<16|o[T>>>8&255]<<8|o[T&255]):(T=T<<8|T>>>24,T=o[T>>>24]<<24|o[T>>>16&255]<<16|o[T>>>8&255]<<8|o[T&255],T^=_[te/M|0]<<24),X[te]=X[te-M]^T);for(var Ce=this._invKeySchedule=[],De=0;De<L;De++){var te=L-De;if(De%4)var T=X[te];else var T=X[te-4];De<4||te<=4?Ce[De]=T:Ce[De]=d[o[T>>>24]]^p[o[T>>>16&255]]^g[o[T>>>8&255]]^y[o[T&255]]}}},encryptBlock:function(T,I){this._doCryptBlock(T,I,this._keySchedule,l,f,c,u,o)},decryptBlock:function(T,I){var P=T[I+1];T[I+1]=T[I+3],T[I+3]=P,this._doCryptBlock(T,I,this._invKeySchedule,d,p,g,y,a);var P=T[I+1];T[I+1]=T[I+3],T[I+3]=P},_doCryptBlock:function(T,I,P,M,N,L,X,te){for(var Ce=this._nRounds,De=T[I]^P[0],pe=T[I+1]^P[1],Ie=T[I+2]^P[2],ie=T[I+3]^P[3],Z=4,_e=1;_e<Ce;_e++){var Ae=M[De>>>24]^N[pe>>>16&255]^L[Ie>>>8&255]^X[ie&255]^P[Z++],be=M[pe>>>24]^N[Ie>>>16&255]^L[ie>>>8&255]^X[De&255]^P[Z++],Ke=M[Ie>>>24]^N[ie>>>16&255]^L[De>>>8&255]^X[pe&255]^P[Z++],ce=M[ie>>>24]^N[De>>>16&255]^L[pe>>>8&255]^X[Ie&255]^P[Z++];De=Ae,pe=be,Ie=Ke,ie=ce}var Ae=(te[De>>>24]<<24|te[pe>>>16&255]<<16|te[Ie>>>8&255]<<8|te[ie&255])^P[Z++],be=(te[pe>>>24]<<24|te[Ie>>>16&255]<<16|te[ie>>>8&255]<<8|te[De&255])^P[Z++],Ke=(te[Ie>>>24]<<24|te[ie>>>16&255]<<16|te[De>>>8&255]<<8|te[pe&255])^P[Z++],ce=(te[ie>>>24]<<24|te[De>>>16&255]<<16|te[pe>>>8&255]<<8|te[Ie&255])^P[Z++];T[I]=Ae,T[I+1]=be,T[I+2]=Ke,T[I+3]=ce},keySize:256/32});t.AES=n._createHelper(S)}(),e.AES})});var Zk=ae((zg,Qk)=>{(function(e,t,r){typeof zg=="object"?Qk.exports=zg=t(O0(),hc(),mc(),Ml(),gn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(zg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o.DES=i.extend({_doReset:function(){for(var _=this._key,S=_.words,T=[],I=0;I<56;I++){var P=a[I]-1;T[I]=S[P>>>5]>>>31-P%32&1}for(var M=this._subKeys=[],N=0;N<16;N++){for(var L=M[N]=[],X=f[N],I=0;I<24;I++)L[I/6|0]|=T[(l[I]-1+X)%28]<<31-I%6,L[4+(I/6|0)]|=T[28+(l[I+24]-1+X)%28]<<31-I%6;L[0]=L[0]<<1|L[0]>>>31;for(var I=1;I<7;I++)L[I]=L[I]>>>(I-1)*4+3;L[7]=L[7]<<5|L[7]>>>27}for(var te=this._invSubKeys=[],I=0;I<16;I++)te[I]=M[15-I]},encryptBlock:function(_,S){this._doCryptBlock(_,S,this._subKeys)},decryptBlock:function(_,S){this._doCryptBlock(_,S,this._invSubKeys)},_doCryptBlock:function(_,S,T){this._lBlock=_[S],this._rBlock=_[S+1],p.call(this,4,252645135),p.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),p.call(this,1,1431655765);for(var I=0;I<16;I++){for(var P=T[I],M=this._lBlock,N=this._rBlock,L=0,X=0;X<8;X++)L|=c[X][((N^P[X])&u[X])>>>0];this._lBlock=N,this._rBlock=M^L}var te=this._lBlock;this._lBlock=this._rBlock,this._rBlock=te,p.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),_[S]=this._lBlock,_[S+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(_,S){var T=(this._lBlock>>>_^this._rBlock)&S;this._rBlock^=T,this._lBlock^=T<<_}s(p,"exchangeLR");function g(_,S){var T=(this._rBlock>>>_^this._lBlock)&S;this._lBlock^=T,this._rBlock^=T<<_}s(g,"exchangeRL"),t.DES=i._createHelper(d);var y=o.TripleDES=i.extend({_doReset:function(){var _=this._key,S=_.words;if(S.length!==2&&S.length!==4&&S.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var T=S.slice(0,2),I=S.length<4?S.slice(0,2):S.slice(2,4),P=S.length<6?S.slice(0,2):S.slice(4,6);this._des1=d.createEncryptor(n.create(T)),this._des2=d.createEncryptor(n.create(I)),this._des3=d.createEncryptor(n.create(P))},encryptBlock:function(_,S){this._des1.encryptBlock(_,S),this._des2.decryptBlock(_,S),this._des3.encryptBlock(_,S)},decryptBlock:function(_,S){this._des3.decryptBlock(_,S),this._des2.encryptBlock(_,S),this._des1.decryptBlock(_,S)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(y)}(),e.TripleDES})});var tD=ae((Kg,eD)=>{(function(e,t,r){typeof Kg=="object"?eD.exports=Kg=t(O0(),hc(),mc(),Ml(),gn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Kg,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=i.RC4=n.extend({_doReset:function(){for(var f=this._key,c=f.words,u=f.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,g=0;p<256;p++){var y=p%u,_=c[y>>>2]>>>24-y%4*8&255;g=(g+d[p]+_)%256;var S=d[p];d[p]=d[g],d[g]=S}this._i=this._j=0},_doProcessBlock:function(f,c){f[c]^=a.call(this)},keySize:256/32,ivSize:0});function a(){for(var f=this._S,c=this._i,u=this._j,d=0,p=0;p<4;p++){c=(c+1)%256,u=(u+f[c])%256;var g=f[c];f[c]=f[u],f[u]=g,d|=f[(f[c]+f[u])%256]<<24-p*8}return this._i=c,this._j=u,d}s(a,"generateKeystreamWord"),t.RC4=n._createHelper(o);var l=i.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var f=this.cfg.drop;f>0;f--)a.call(this)}});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var nD=ae((Wg,rD)=>{(function(e,t,r){typeof Wg=="object"?rD.exports=Wg=t(O0(),hc(),mc(),Ml(),gn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Wg,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=[],a=[],l=[],f=i.Rabbit=n.extend({_doReset:function(){for(var u=this._key.words,d=this.cfg.iv,p=0;p<4;p++)u[p]=(u[p]<<8|u[p]>>>24)&16711935|(u[p]<<24|u[p]>>>8)&4278255360;var g=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],y=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var p=0;p<4;p++)c.call(this);for(var p=0;p<8;p++)y[p]^=g[p+4&7];if(d){var _=d.words,S=_[0],T=_[1],I=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,P=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,M=I>>>16|P&4294901760,N=P<<16|I&65535;y[0]^=I,y[1]^=M,y[2]^=P,y[3]^=N,y[4]^=I,y[5]^=M,y[6]^=P,y[7]^=N;for(var p=0;p<4;p++)c.call(this)}},_doProcessBlock:function(u,d){var p=this._X;c.call(this),o[0]=p[0]^p[5]>>>16^p[3]<<16,o[1]=p[2]^p[7]>>>16^p[5]<<16,o[2]=p[4]^p[1]>>>16^p[7]<<16,o[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)o[g]=(o[g]<<8|o[g]>>>24)&16711935|(o[g]<<24|o[g]>>>8)&4278255360,u[d+g]^=o[g]},blockSize:128/32,ivSize:64/32});function c(){for(var u=this._X,d=this._C,p=0;p<8;p++)a[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var p=0;p<8;p++){var g=u[p]+d[p],y=g&65535,_=g>>>16,S=((y*y>>>17)+y*_>>>15)+_*_,T=((g&4294901760)*g|0)+((g&65535)*g|0);l[p]=S^T}u[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,u[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,u[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,u[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,u[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,u[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,u[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,u[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(c,"nextState"),t.Rabbit=n._createHelper(f)}(),e.Rabbit})});var sD=ae((Gg,iD)=>{(function(e,t,r){typeof Gg=="object"?iD.exports=Gg=t(O0(),hc(),mc(),Ml(),gn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Gg,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=[],a=[],l=[],f=i.RabbitLegacy=n.extend({_doReset:function(){var u=this._key.words,d=this.cfg.iv,p=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],g=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var y=0;y<4;y++)c.call(this);for(var y=0;y<8;y++)g[y]^=p[y+4&7];if(d){var _=d.words,S=_[0],T=_[1],I=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,P=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,M=I>>>16|P&4294901760,N=P<<16|I&65535;g[0]^=I,g[1]^=M,g[2]^=P,g[3]^=N,g[4]^=I,g[5]^=M,g[6]^=P,g[7]^=N;for(var y=0;y<4;y++)c.call(this)}},_doProcessBlock:function(u,d){var p=this._X;c.call(this),o[0]=p[0]^p[5]>>>16^p[3]<<16,o[1]=p[2]^p[7]>>>16^p[5]<<16,o[2]=p[4]^p[1]>>>16^p[7]<<16,o[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)o[g]=(o[g]<<8|o[g]>>>24)&16711935|(o[g]<<24|o[g]>>>8)&4278255360,u[d+g]^=o[g]},blockSize:128/32,ivSize:64/32});function c(){for(var u=this._X,d=this._C,p=0;p<8;p++)a[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var p=0;p<8;p++){var g=u[p]+d[p],y=g&65535,_=g>>>16,S=((y*y>>>17)+y*_>>>15)+_*_,T=((g&4294901760)*g|0)+((g&65535)*g|0);l[p]=S^T}u[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,u[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,u[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,u[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,u[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,u[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,u[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,u[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(c,"nextState"),t.RabbitLegacy=n._createHelper(f)}(),e.RabbitLegacy})});var aD=ae((Yg,oD)=>{(function(e,t,r){typeof Yg=="object"?oD.exports=Yg=t(O0(),hc(),mc(),Ml(),gn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Yg,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let o=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var f={pbox:[],sbox:[]};function c(y,_){let S=_>>24&255,T=_>>16&255,I=_>>8&255,P=_&255,M=y.sbox[0][S]+y.sbox[1][T];return M=M^y.sbox[2][I],M=M+y.sbox[3][P],M}s(c,"F");function u(y,_,S){let T=_,I=S,P;for(let M=0;M<o;++M)T=T^y.pbox[M],I=c(y,T)^I,P=T,T=I,I=P;return P=T,T=I,I=P,I=I^y.pbox[o],T=T^y.pbox[o+1],{left:T,right:I}}s(u,"BlowFish_Encrypt");function d(y,_,S){let T=_,I=S,P;for(let M=o+1;M>1;--M)T=T^y.pbox[M],I=c(y,T)^I,P=T,T=I,I=P;return P=T,T=I,I=P,I=I^y.pbox[1],T=T^y.pbox[0],{left:T,right:I}}s(d,"BlowFish_Decrypt");function p(y,_,S){for(let N=0;N<4;N++){y.sbox[N]=[];for(let L=0;L<256;L++)y.sbox[N][L]=l[N][L]}let T=0;for(let N=0;N<o+2;N++)y.pbox[N]=a[N]^_[T],T++,T>=S&&(T=0);let I=0,P=0,M=0;for(let N=0;N<o+2;N+=2)M=u(y,I,P),I=M.left,P=M.right,y.pbox[N]=I,y.pbox[N+1]=P;for(let N=0;N<4;N++)for(let L=0;L<256;L+=2)M=u(y,I,P),I=M.left,P=M.right,y.sbox[N][L]=I,y.sbox[N][L+1]=P;return!0}s(p,"BlowFishInit");var g=i.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var y=this._keyPriorReset=this._key,_=y.words,S=y.sigBytes/4;p(f,_,S)}},encryptBlock:function(y,_){var S=u(f,y[_],y[_+1]);y[_]=S.left,y[_+1]=S.right},decryptBlock:function(y,_){var S=d(f,y[_],y[_+1]);y[_]=S.left,y[_+1]=S.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(g)}(),e.Blowfish})});var Ch=ae((Xg,lD)=>{(function(e,t,r){typeof Xg=="object"?lD.exports=Xg=t(O0(),bh(),sk(),ak(),hc(),ck(),mc(),I_(),Cg(),gk(),A_(),vk(),_k(),Ck(),Pg(),Sk(),Ml(),gn(),Pk(),Nk(),Dk(),Bk(),Fk(),Uk(),jk(),Hk(),zk(),Wk(),Yk(),Jk(),Zk(),tD(),nD(),sD(),aD()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(Xg,function(e){return e})});var W5=ae(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.stringArray=xi.array=xi.func=xi.error=xi.number=xi.string=xi.boolean=void 0;function wX(e){return e===!0||e===!1}s(wX,"boolean");xi.boolean=wX;function dD(e){return typeof e=="string"||e instanceof String}s(dD,"string");xi.string=dD;function IX(e){return typeof e=="number"||e instanceof Number}s(IX,"number");xi.number=IX;function AX(e){return e instanceof Error}s(AX,"error");xi.error=AX;function PX(e){return typeof e=="function"}s(PX,"func");xi.func=PX;function hD(e){return Array.isArray(e)}s(hD,"array");xi.array=hD;function RX(e){return hD(e)&&e.every(t=>dD(t))}s(RX,"stringArray");xi.stringArray=RX});var Sb=ae(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.Message=Bt.NotificationType9=Bt.NotificationType8=Bt.NotificationType7=Bt.NotificationType6=Bt.NotificationType5=Bt.NotificationType4=Bt.NotificationType3=Bt.NotificationType2=Bt.NotificationType1=Bt.NotificationType0=Bt.NotificationType=Bt.RequestType9=Bt.RequestType8=Bt.RequestType7=Bt.RequestType6=Bt.RequestType5=Bt.RequestType4=Bt.RequestType3=Bt.RequestType2=Bt.RequestType1=Bt.RequestType=Bt.RequestType0=Bt.AbstractMessageSignature=Bt.ParameterStructures=Bt.ResponseError=Bt.ErrorCodes=void 0;var Pu=W5(),k_;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(k_||(Bt.ErrorCodes=k_={}));var Zg=class Zg extends Error{constructor(t,r,n){super(r),this.code=Pu.number(t)?t:k_.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,Zg.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};s(Zg,"ResponseError");var D_=Zg;Bt.ResponseError=D_;var G5=class G5{constructor(t){this.kind=t}static is(t){return t===G5.auto||t===G5.byName||t===G5.byPosition}toString(){return this.kind}};s(G5,"ParameterStructures");var Zi=G5;Bt.ParameterStructures=Zi;Zi.auto=new Zi("auto");Zi.byPosition=new Zi("byPosition");Zi.byName=new Zi("byName");var rb=class rb{constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return Zi.auto}};s(rb,"AbstractMessageSignature");var _r=rb;Bt.AbstractMessageSignature=_r;var nb=class nb extends _r{constructor(t){super(t,0)}};s(nb,"RequestType0");var L_=nb;Bt.RequestType0=L_;var ib=class ib extends _r{constructor(t,r=Zi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};s(ib,"RequestType");var B_=ib;Bt.RequestType=B_;var sb=class sb extends _r{constructor(t,r=Zi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};s(sb,"RequestType1");var O_=sb;Bt.RequestType1=O_;var ob=class ob extends _r{constructor(t){super(t,2)}};s(ob,"RequestType2");var F_=ob;Bt.RequestType2=F_;var ab=class ab extends _r{constructor(t){super(t,3)}};s(ab,"RequestType3");var M_=ab;Bt.RequestType3=M_;var lb=class lb extends _r{constructor(t){super(t,4)}};s(lb,"RequestType4");var U_=lb;Bt.RequestType4=U_;var fb=class fb extends _r{constructor(t){super(t,5)}};s(fb,"RequestType5");var q_=fb;Bt.RequestType5=q_;var cb=class cb extends _r{constructor(t){super(t,6)}};s(cb,"RequestType6");var j_=cb;Bt.RequestType6=j_;var ub=class ub extends _r{constructor(t){super(t,7)}};s(ub,"RequestType7");var $_=ub;Bt.RequestType7=$_;var db=class db extends _r{constructor(t){super(t,8)}};s(db,"RequestType8");var H_=db;Bt.RequestType8=H_;var hb=class hb extends _r{constructor(t){super(t,9)}};s(hb,"RequestType9");var V_=hb;Bt.RequestType9=V_;var mb=class mb extends _r{constructor(t,r=Zi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};s(mb,"NotificationType");var z_=mb;Bt.NotificationType=z_;var gb=class gb extends _r{constructor(t){super(t,0)}};s(gb,"NotificationType0");var K_=gb;Bt.NotificationType0=K_;var pb=class pb extends _r{constructor(t,r=Zi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};s(pb,"NotificationType1");var W_=pb;Bt.NotificationType1=W_;var yb=class yb extends _r{constructor(t){super(t,2)}};s(yb,"NotificationType2");var G_=yb;Bt.NotificationType2=G_;var vb=class vb extends _r{constructor(t){super(t,3)}};s(vb,"NotificationType3");var Y_=vb;Bt.NotificationType3=Y_;var xb=class xb extends _r{constructor(t){super(t,4)}};s(xb,"NotificationType4");var X_=xb;Bt.NotificationType4=X_;var _b=class _b extends _r{constructor(t){super(t,5)}};s(_b,"NotificationType5");var J_=_b;Bt.NotificationType5=J_;var bb=class bb extends _r{constructor(t){super(t,6)}};s(bb,"NotificationType6");var Q_=bb;Bt.NotificationType6=Q_;var Cb=class Cb extends _r{constructor(t){super(t,7)}};s(Cb,"NotificationType7");var Z_=Cb;Bt.NotificationType7=Z_;var Tb=class Tb extends _r{constructor(t){super(t,8)}};s(Tb,"NotificationType8");var eb=Tb;Bt.NotificationType8=eb;var Eb=class Eb extends _r{constructor(t){super(t,9)}};s(Eb,"NotificationType9");var tb=Eb;Bt.NotificationType9=tb;var mD;(function(e){function t(i){let o=i;return o&&Pu.string(o.method)&&(Pu.string(o.id)||Pu.number(o.id))}s(t,"isRequest"),e.isRequest=t;function r(i){let o=i;return o&&Pu.string(o.method)&&i.id===void 0}s(r,"isNotification"),e.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(Pu.string(o.id)||Pu.number(o.id)||o.id===null)}s(n,"isResponse"),e.isResponse=n})(mD||(Bt.Message=mD={}))});var Pb=ae(gc=>{"use strict";var gD;Object.defineProperty(gc,"__esModule",{value:!0});gc.LRUCache=gc.LinkedMap=gc.Touch=void 0;var _i;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(_i||(gc.Touch=_i={}));var Ib=class Ib{constructor(){this[gD]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,r=_i.None){let n=this._map.get(t);if(n)return r!==_i.None&&this.touch(n,r),n.value}set(t,r,n=_i.None){let i=this._map.get(t);if(i)i.value=r,n!==_i.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case _i.None:this.addItemLast(i);break;case _i.First:this.addItemFirst(i);break;case _i.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}[(gD=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==_i.First&&r!==_i.Last)){if(r===_i.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===_i.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};s(Ib,"LinkedMap");var e9=Ib;gc.LinkedMap=e9;var Ab=class Ab extends e9{constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=_i.AsNew){return super.get(t,r)}peek(t){return super.get(t,_i.None)}set(t,r){return super.set(t,r,_i.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};s(Ab,"LRUCache");var wb=Ab;gc.LRUCache=wb});var yD=ae(t9=>{"use strict";Object.defineProperty(t9,"__esModule",{value:!0});t9.Disposable=void 0;var pD;(function(e){function t(r){return{dispose:r}}s(t,"create"),e.create=t})(pD||(t9.Disposable=pD={}))});var pc=ae(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0});var Rb;function Nb(){if(Rb===void 0)throw new Error("No runtime abstraction layer installed");return Rb}s(Nb,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");Rb=r}s(t,"install"),e.install=t})(Nb||(Nb={}));kb.default=Nb});var X5=ae(Y5=>{"use strict";Object.defineProperty(Y5,"__esModule",{value:!0});Y5.Emitter=Y5.Event=void 0;var NX=pc(),vD;(function(e){let t={dispose(){}};e.None=function(){return t}})(vD||(Y5.Event=vD={}));var Lb=class Lb{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,a=n.length;o<a;o++)try{r.push(n[o].apply(i[o],t))}catch(l){(0,NX.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}};s(Lb,"CallbackList");var Db=Lb,n9=class n9{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new Db),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=n9._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};s(n9,"Emitter");var r9=n9;Y5.Emitter=r9;r9._noop=function(){}});var o9=ae(J5=>{"use strict";Object.defineProperty(J5,"__esModule",{value:!0});J5.CancellationTokenSource=J5.CancellationToken=void 0;var kX=pc(),DX=W5(),Bb=X5(),i9;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Bb.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Bb.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||DX.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}s(t,"is"),e.is=t})(i9||(J5.CancellationToken=i9={}));var LX=Object.freeze(function(e,t){let r=(0,kX.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),Fb=class Fb{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?LX:(this._emitter||(this._emitter=new Bb.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}};s(Fb,"MutableToken");var s9=Fb,Mb=class Mb{get token(){return this._token||(this._token=new s9),this._token}cancel(){this._token?this._token.cancel():this._token=i9.Cancelled}dispose(){this._token?this._token instanceof s9&&this._token.dispose():this._token=i9.None}};s(Mb,"CancellationTokenSource");var Ob=Mb;J5.CancellationTokenSource=Ob});var xD=ae(Q5=>{"use strict";Object.defineProperty(Q5,"__esModule",{value:!0});Q5.SharedArrayReceiverStrategy=Q5.SharedArraySenderStrategy=void 0;var BX=o9(),Th;(function(e){e.Continue=0,e.Cancelled=1})(Th||(Th={}));var Hb=class Hb{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=Th.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,Th.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};s(Hb,"SharedArraySenderStrategy");var Ub=Hb;Q5.SharedArraySenderStrategy=Ub;var Vb=class Vb{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Th.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}};s(Vb,"SharedArrayBufferCancellationToken");var qb=Vb,zb=class zb{constructor(t){this.token=new qb(t)}cancel(){}dispose(){}};s(zb,"SharedArrayBufferCancellationTokenSource");var jb=zb,Kb=class Kb{constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new BX.CancellationTokenSource:new jb(r)}};s(Kb,"SharedArrayReceiverStrategy");var $b=Kb;Q5.SharedArrayReceiverStrategy=$b});var Yb=ae(a9=>{"use strict";Object.defineProperty(a9,"__esModule",{value:!0});a9.Semaphore=void 0;var OX=pc(),Gb=class Gb{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,OX.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};s(Gb,"Semaphore");var Wb=Gb;a9.Semaphore=Wb});var bD=ae(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.ReadableStreamMessageReader=yc.AbstractMessageReader=yc.MessageReader=void 0;var Jb=pc(),Z5=W5(),Xb=X5(),FX=Yb(),_D;(function(e){function t(r){let n=r;return n&&Z5.func(n.listen)&&Z5.func(n.dispose)&&Z5.func(n.onError)&&Z5.func(n.onClose)&&Z5.func(n.onPartialMessage)}s(t,"is"),e.is=t})(_D||(yc.MessageReader=_D={}));var eC=class eC{constructor(){this.errorEmitter=new Xb.Emitter,this.closeEmitter=new Xb.Emitter,this.partialMessageEmitter=new Xb.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Z5.string(t.message)?t.message:"unknown"}`)}};s(eC,"AbstractMessageReader");var l9=eC;yc.AbstractMessageReader=l9;var Qb;(function(e){function t(r){var c;let n,i,o,a=new Map,l,f=new Map;if(r===void 0||typeof r=="string")n=r!=null?r:"utf-8";else{if(n=(c=r.charset)!=null?c:"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,a.set(o.name,o)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,f.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)f.set(u.name,u)}return l===void 0&&(l=(0,Jb.default)().applicationJson.decoder,f.set(l.name,l)),{charset:n,contentDecoder:o,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:f}}s(t,"fromOptions"),e.fromOptions=t})(Qb||(Qb={}));var tC=class tC extends l9{constructor(t,r){super(),this.readable=t,this.options=Qb.fromOptions(r),this.buffer=(0,Jb.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new FX.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Jb.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};s(tC,"ReadableStreamMessageReader");var Zb=tC;yc.ReadableStreamMessageReader=Zb});var wD=ae(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.WriteableStreamMessageWriter=vc.AbstractMessageWriter=vc.MessageWriter=void 0;var CD=pc(),Eh=W5(),MX=Yb(),TD=X5(),UX="Content-Length: ",ED=`\r
`,SD;(function(e){function t(r){let n=r;return n&&Eh.func(n.dispose)&&Eh.func(n.onClose)&&Eh.func(n.onError)&&Eh.func(n.write)}s(t,"is"),e.is=t})(SD||(vc.MessageWriter=SD={}));var iC=class iC{constructor(){this.errorEmitter=new TD.Emitter,this.closeEmitter=new TD.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${Eh.string(t.message)?t.message:"unknown"}`)}};s(iC,"AbstractMessageWriter");var f9=iC;vc.AbstractMessageWriter=f9;var rC;(function(e){function t(r){var n,i;return r===void 0||typeof r=="string"?{charset:r!=null?r:"utf-8",contentTypeEncoder:(0,CD.default)().applicationJson.encoder}:{charset:(n=r.charset)!=null?n:"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:(i=r.contentTypeEncoder)!=null?i:(0,CD.default)().applicationJson.encoder}}s(t,"fromOptions"),e.fromOptions=t})(rC||(rC={}));var sC=class sC extends f9{constructor(t,r){super(),this.writable=t,this.options=rC.fromOptions(r),this.errorCount=0,this.writeSemaphore=new MX.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(UX,n.byteLength.toString(),ED),i.push(ED),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};s(sC,"WriteableStreamMessageWriter");var nC=sC;vc.WriteableStreamMessageWriter=nC});var ID=ae(c9=>{"use strict";Object.defineProperty(c9,"__esModule",{value:!0});c9.AbstractMessageBuffer=void 0;var qX=13,jX=10,$X=`\r
`,aC=class aC{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let c=this._chunks[n];for(i=0;i<c.length;){switch(c[i]){case qX:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case jX:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=c.byteLength,n++}if(r!==4)return;let a=this._read(o+i),l=new Map,f=this.toString(a,"ascii").split($X);if(f.length<2)return l;for(let c=0;c<f.length-2;c++){let u=f[c],d=u.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${u}`);let p=u.substr(0,d),g=u.substr(d+1).trim();l.set(t?p.toLowerCase():p,g)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],a=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let o=this._chunks[i];if(o.byteLength>t){let a=o.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return r}};s(aC,"AbstractMessageBuffer");var oC=aC;c9.AbstractMessageBuffer=oC});var kD=ae(f0=>{"use strict";Object.defineProperty(f0,"__esModule",{value:!0});f0.createMessageConnection=f0.ConnectionOptions=f0.MessageStrategy=f0.CancellationStrategy=f0.CancellationSenderStrategy=f0.CancellationReceiverStrategy=f0.RequestCancellationReceiverStrategy=f0.IdCancellationReceiverStrategy=f0.ConnectionStrategy=f0.ConnectionError=f0.ConnectionErrors=f0.LogTraceNotification=f0.SetTraceNotification=f0.TraceFormat=f0.TraceValues=f0.Trace=f0.NullLogger=f0.ProgressType=f0.ProgressToken=void 0;var AD=pc(),Dr=W5(),Qt=Sb(),PD=Pb(),Sh=X5(),lC=o9(),Ah;(function(e){e.type=new Qt.NotificationType("$/cancelRequest")})(Ah||(Ah={}));var fC;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}s(t,"is"),e.is=t})(fC||(f0.ProgressToken=fC={}));var wh;(function(e){e.type=new Qt.NotificationType("$/progress")})(wh||(wh={}));var gC=class gC{constructor(){}};s(gC,"ProgressType");var cC=gC;f0.ProgressType=cC;var uC;(function(e){function t(r){return Dr.func(r)}s(t,"is"),e.is=t})(uC||(uC={}));f0.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ir;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(ir||(f0.Trace=ir={}));var RD;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(RD||(f0.TraceValues=RD={}));(function(e){function t(n){if(!Dr.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}s(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}s(r,"toString"),e.toString=r})(ir||(f0.Trace=ir={}));var As;(function(e){e.Text="text",e.JSON="json"})(As||(f0.TraceFormat=As={}));(function(e){function t(r){return Dr.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}s(t,"fromString"),e.fromString=t})(As||(f0.TraceFormat=As={}));var dC;(function(e){e.type=new Qt.NotificationType("$/setTrace")})(dC||(f0.SetTraceNotification=dC={}));var u9;(function(e){e.type=new Qt.NotificationType("$/logTrace")})(u9||(f0.LogTraceNotification=u9={}));var Ih;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(Ih||(f0.ConnectionErrors=Ih={}));var y9=class y9 extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,y9.prototype)}};s(y9,"ConnectionError");var e3=y9;f0.ConnectionError=e3;var hC;(function(e){function t(r){let n=r;return n&&Dr.func(n.cancelUndispatched)}s(t,"is"),e.is=t})(hC||(f0.ConnectionStrategy=hC={}));var d9;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Dr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Dr.func(n.dispose))}s(t,"is"),e.is=t})(d9||(f0.IdCancellationReceiverStrategy=d9={}));var mC;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Dr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Dr.func(n.dispose))}s(t,"is"),e.is=t})(mC||(f0.RequestCancellationReceiverStrategy=mC={}));var h9;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new lC.CancellationTokenSource}});function t(r){return d9.is(r)||mC.is(r)}s(t,"is"),e.is=t})(h9||(f0.CancellationReceiverStrategy=h9={}));var m9;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Ah.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Dr.func(n.sendCancellation)&&Dr.func(n.cleanup)}s(t,"is"),e.is=t})(m9||(f0.CancellationSenderStrategy=m9={}));var g9;(function(e){e.Message=Object.freeze({receiver:h9.Message,sender:m9.Message});function t(r){let n=r;return n&&h9.is(n.receiver)&&m9.is(n.sender)}s(t,"is"),e.is=t})(g9||(f0.CancellationStrategy=g9={}));var p9;(function(e){function t(r){let n=r;return n&&Dr.func(n.handleMessage)}s(t,"is"),e.is=t})(p9||(f0.MessageStrategy=p9={}));var ND;(function(e){function t(r){let n=r;return n&&(g9.is(n.cancellationStrategy)||hC.is(n.connectionStrategy)||p9.is(n.messageStrategy))}s(t,"is"),e.is=t})(ND||(f0.ConnectionOptions=ND={}));var Vo;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Vo||(Vo={}));function HX(e,t,r,n){let i=r!==void 0?r:f0.NullLogger,o=0,a=0,l=0,f="2.0",c,u=new Map,d,p=new Map,g=new Map,y,_=new PD.LinkedMap,S=new Map,T=new Set,I=new Map,P=ir.Off,M=As.Text,N,L=Vo.New,X=new Sh.Emitter,te=new Sh.Emitter,Ce=new Sh.Emitter,De=new Sh.Emitter,pe=new Sh.Emitter,Ie=n&&n.cancellationStrategy?n.cancellationStrategy:g9.Message;function ie(Y){if(Y===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Y.toString()}s(ie,"createRequestQueueKey");function Z(Y){return Y===null?"res-unknown-"+(++l).toString():"res-"+Y.toString()}s(Z,"createResponseQueueKey");function _e(){return"not-"+(++a).toString()}s(_e,"createNotificationQueueKey");function Ae(Y,k){Qt.Message.isRequest(k)?Y.set(ie(k.id),k):Qt.Message.isResponse(k)?Y.set(Z(k.id),k):Y.set(_e(),k)}s(Ae,"addMessageToQueue");function be(Y){}s(be,"cancelUndispatched");function Ke(){return L===Vo.Listening}s(Ke,"isListening");function ce(){return L===Vo.Closed}s(ce,"isClosed");function ve(){return L===Vo.Disposed}s(ve,"isDisposed");function le(){(L===Vo.New||L===Vo.Listening)&&(L=Vo.Closed,te.fire(void 0))}s(le,"closeHandler");function Ee(Y){X.fire([Y,void 0,void 0])}s(Ee,"readErrorHandler");function mt(Y){X.fire(Y)}s(mt,"writeErrorHandler"),e.onClose(le),e.onError(Ee),t.onClose(le),t.onError(mt);function Et(){y||_.size===0||(y=(0,AD.default)().timer.setImmediate(()=>{y=void 0,ze()}))}s(Et,"triggerMessageQueue");function dt(Y){Qt.Message.isRequest(Y)?W(Y):Qt.Message.isNotification(Y)?he(Y):Qt.Message.isResponse(Y)?Je(Y):Xe(Y)}s(dt,"handleMessage");function ze(){if(_.size===0)return;let Y=_.shift();try{let k=n==null?void 0:n.messageStrategy;p9.is(k)?k.handleMessage(Y,dt):dt(Y)}finally{Et()}}s(ze,"processMessageQueue");let n0=s(Y=>{try{if(Qt.Message.isNotification(Y)&&Y.method===Ah.type.method){let k=Y.params.id,B=ie(k),Ye=_.get(B);if(Qt.Message.isRequest(Ye)){let S0=n==null?void 0:n.connectionStrategy,A0=S0&&S0.cancelUndispatched?S0.cancelUndispatched(Ye,be):void 0;if(A0&&(A0.error!==void 0||A0.result!==void 0)){_.delete(B),I.delete(k),A0.id=Ye.id,Mt(A0,Y.method,Date.now()),t.write(A0).catch(()=>i.error("Sending response for canceled message failed."));return}}let Vt=I.get(k);if(Vt!==void 0){Vt.cancel(),H(Y);return}else T.add(k)}Ae(_,Y)}finally{Et()}},"callback");function W(Y){var W0;if(ve())return;function k(u0,er,w0){let Q0={jsonrpc:f,id:Y.id};u0 instanceof Qt.ResponseError?Q0.error=u0.toJson():Q0.result=u0===void 0?null:u0,Mt(Q0,er,w0),t.write(Q0).catch(()=>i.error("Sending response failed."))}s(k,"reply");function B(u0,er,w0){let Q0={jsonrpc:f,id:Y.id,error:u0.toJson()};Mt(Q0,er,w0),t.write(Q0).catch(()=>i.error("Sending response failed."))}s(B,"replyError");function Ye(u0,er,w0){u0===void 0&&(u0=null);let Q0={jsonrpc:f,id:Y.id,result:u0};Mt(Q0,er,w0),t.write(Q0).catch(()=>i.error("Sending response failed."))}s(Ye,"replySuccess"),Lt(Y);let Vt=u.get(Y.method),S0,A0;Vt&&(S0=Vt.type,A0=Vt.handler);let Wt=Date.now();if(A0||c){let u0=(W0=Y.id)!=null?W0:String(Date.now()),er=d9.is(Ie.receiver)?Ie.receiver.createCancellationTokenSource(u0):Ie.receiver.createCancellationTokenSource(Y);Y.id!==null&&T.has(Y.id)&&er.cancel(),Y.id!==null&&I.set(u0,er);try{let w0;if(A0)if(Y.params===void 0){if(S0!==void 0&&S0.numberOfParams!==0){B(new Qt.ResponseError(Qt.ErrorCodes.InvalidParams,`Request ${Y.method} defines ${S0.numberOfParams} params but received none.`),Y.method,Wt);return}w0=A0(er.token)}else if(Array.isArray(Y.params)){if(S0!==void 0&&S0.parameterStructures===Qt.ParameterStructures.byName){B(new Qt.ResponseError(Qt.ErrorCodes.InvalidParams,`Request ${Y.method} defines parameters by name but received parameters by position`),Y.method,Wt);return}w0=A0(...Y.params,er.token)}else{if(S0!==void 0&&S0.parameterStructures===Qt.ParameterStructures.byPosition){B(new Qt.ResponseError(Qt.ErrorCodes.InvalidParams,`Request ${Y.method} defines parameters by position but received parameters by name`),Y.method,Wt);return}w0=A0(Y.params,er.token)}else c&&(w0=c(Y.method,Y.params,er.token));let Q0=w0;w0?Q0.then?Q0.then(Nt=>{I.delete(u0),k(Nt,Y.method,Wt)},Nt=>{I.delete(u0),Nt instanceof Qt.ResponseError?B(Nt,Y.method,Wt):Nt&&Dr.string(Nt.message)?B(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${Y.method} failed with message: ${Nt.message}`),Y.method,Wt):B(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${Y.method} failed unexpectedly without providing any details.`),Y.method,Wt)}):(I.delete(u0),k(w0,Y.method,Wt)):(I.delete(u0),Ye(w0,Y.method,Wt))}catch(w0){I.delete(u0),w0 instanceof Qt.ResponseError?k(w0,Y.method,Wt):w0&&Dr.string(w0.message)?B(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${Y.method} failed with message: ${w0.message}`),Y.method,Wt):B(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${Y.method} failed unexpectedly without providing any details.`),Y.method,Wt)}}else B(new Qt.ResponseError(Qt.ErrorCodes.MethodNotFound,`Unhandled method ${Y.method}`),Y.method,Wt)}s(W,"handleRequest");function Je(Y){if(!ve())if(Y.id===null)Y.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Y.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let k=Y.id,B=S.get(k);if($t(Y,B),B!==void 0){S.delete(k);try{if(Y.error){let Ye=Y.error;B.reject(new Qt.ResponseError(Ye.code,Ye.message,Ye.data))}else if(Y.result!==void 0)B.resolve(Y.result);else throw new Error("Should never happen.")}catch(Ye){Ye.message?i.error(`Response handler '${B.method}' failed with message: ${Ye.message}`):i.error(`Response handler '${B.method}' failed unexpectedly.`)}}}}s(Je,"handleResponse");function he(Y){if(ve())return;let k,B;if(Y.method===Ah.type.method){let Ye=Y.params.id;T.delete(Ye),H(Y);return}else{let Ye=p.get(Y.method);Ye&&(B=Ye.handler,k=Ye.type)}if(B||d)try{if(H(Y),B)if(Y.params===void 0)k!==void 0&&k.numberOfParams!==0&&k.parameterStructures!==Qt.ParameterStructures.byName&&i.error(`Notification ${Y.method} defines ${k.numberOfParams} params but received none.`),B();else if(Array.isArray(Y.params)){let Ye=Y.params;Y.method===wh.type.method&&Ye.length===2&&fC.is(Ye[0])?B({token:Ye[0],value:Ye[1]}):(k!==void 0&&(k.parameterStructures===Qt.ParameterStructures.byName&&i.error(`Notification ${Y.method} defines parameters by name but received parameters by position`),k.numberOfParams!==Y.params.length&&i.error(`Notification ${Y.method} defines ${k.numberOfParams} params but received ${Ye.length} arguments`)),B(...Ye))}else k!==void 0&&k.parameterStructures===Qt.ParameterStructures.byPosition&&i.error(`Notification ${Y.method} defines parameters by position but received parameters by name`),B(Y.params);else d&&d(Y.method,Y.params)}catch(Ye){Ye.message?i.error(`Notification handler '${Y.method}' failed with message: ${Ye.message}`):i.error(`Notification handler '${Y.method}' failed unexpectedly.`)}else Ce.fire(Y)}s(he,"handleNotification");function Xe(Y){if(!Y){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Y,null,4)}`);let k=Y;if(Dr.string(k.id)||Dr.number(k.id)){let B=k.id,Ye=S.get(B);Ye&&Ye.reject(new Error("The received response has neither a result nor an error property."))}}s(Xe,"handleInvalidMessage");function Ve(Y){if(Y!=null)switch(P){case ir.Verbose:return JSON.stringify(Y,null,4);case ir.Compact:return JSON.stringify(Y);default:return}}s(Ve,"stringifyTrace");function nt(Y){if(!(P===ir.Off||!N))if(M===As.Text){let k;(P===ir.Verbose||P===ir.Compact)&&Y.params&&(k=`Params: ${Ve(Y.params)}

`),N.log(`Sending request '${Y.method} - (${Y.id})'.`,k)}else vt("send-request",Y)}s(nt,"traceSendingRequest");function wt(Y){if(!(P===ir.Off||!N))if(M===As.Text){let k;(P===ir.Verbose||P===ir.Compact)&&(Y.params?k=`Params: ${Ve(Y.params)}

`:k=`No parameters provided.

`),N.log(`Sending notification '${Y.method}'.`,k)}else vt("send-notification",Y)}s(wt,"traceSendingNotification");function Mt(Y,k,B){if(!(P===ir.Off||!N))if(M===As.Text){let Ye;(P===ir.Verbose||P===ir.Compact)&&(Y.error&&Y.error.data?Ye=`Error data: ${Ve(Y.error.data)}

`:Y.result?Ye=`Result: ${Ve(Y.result)}

`:Y.error===void 0&&(Ye=`No result returned.

`)),N.log(`Sending response '${k} - (${Y.id})'. Processing request took ${Date.now()-B}ms`,Ye)}else vt("send-response",Y)}s(Mt,"traceSendingResponse");function Lt(Y){if(!(P===ir.Off||!N))if(M===As.Text){let k;(P===ir.Verbose||P===ir.Compact)&&Y.params&&(k=`Params: ${Ve(Y.params)}

`),N.log(`Received request '${Y.method} - (${Y.id})'.`,k)}else vt("receive-request",Y)}s(Lt,"traceReceivedRequest");function H(Y){if(!(P===ir.Off||!N||Y.method===u9.type.method))if(M===As.Text){let k;(P===ir.Verbose||P===ir.Compact)&&(Y.params?k=`Params: ${Ve(Y.params)}

`:k=`No parameters provided.

`),N.log(`Received notification '${Y.method}'.`,k)}else vt("receive-notification",Y)}s(H,"traceReceivedNotification");function $t(Y,k){if(!(P===ir.Off||!N))if(M===As.Text){let B;if((P===ir.Verbose||P===ir.Compact)&&(Y.error&&Y.error.data?B=`Error data: ${Ve(Y.error.data)}

`:Y.result?B=`Result: ${Ve(Y.result)}

`:Y.error===void 0&&(B=`No result returned.

`)),k){let Ye=Y.error?` Request failed: ${Y.error.message} (${Y.error.code}).`:"";N.log(`Received response '${k.method} - (${Y.id})' in ${Date.now()-k.timerStart}ms.${Ye}`,B)}else N.log(`Received response ${Y.id} without active response promise.`,B)}else vt("receive-response",Y)}s($t,"traceReceivedResponse");function vt(Y,k){if(!N||P===ir.Off)return;let B={isLSPMessage:!0,type:Y,message:k,timestamp:Date.now()};N.log(B)}s(vt,"logLSPMessage");function sr(){if(ce())throw new e3(Ih.Closed,"Connection is closed.");if(ve())throw new e3(Ih.Disposed,"Connection is disposed.")}s(sr,"throwIfClosedOrDisposed");function X0(){if(Ke())throw new e3(Ih.AlreadyListening,"Connection is already listening")}s(X0,"throwIfListening");function pr(){if(!Ke())throw new Error("Call listen() first.")}s(pr,"throwIfNotListening");function J0(Y){return Y===void 0?null:Y}s(J0,"undefinedToNull");function Gr(Y){if(Y!==null)return Y}s(Gr,"nullToUndefined");function un(Y){return Y!=null&&!Array.isArray(Y)&&typeof Y=="object"}s(un,"isNamedParam");function Fn(Y,k){switch(Y){case Qt.ParameterStructures.auto:return un(k)?Gr(k):[J0(k)];case Qt.ParameterStructures.byName:if(!un(k))throw new Error("Received parameters by name but param is not an object literal.");return Gr(k);case Qt.ParameterStructures.byPosition:return[J0(k)];default:throw new Error(`Unknown parameter structure ${Y.toString()}`)}}s(Fn,"computeSingleParam");function dn(Y,k){let B,Ye=Y.numberOfParams;switch(Ye){case 0:B=void 0;break;case 1:B=Fn(Y.parameterStructures,k[0]);break;default:B=[];for(let Vt=0;Vt<k.length&&Vt<Ye;Vt++)B.push(J0(k[Vt]));if(k.length<Ye)for(let Vt=k.length;Vt<Ye;Vt++)B.push(null);break}return B}s(dn,"computeMessageParams");let Xt={sendNotification:(Y,...k)=>{sr();let B,Ye;if(Dr.string(Y)){B=Y;let S0=k[0],A0=0,Wt=Qt.ParameterStructures.auto;Qt.ParameterStructures.is(S0)&&(A0=1,Wt=S0);let W0=k.length,u0=W0-A0;switch(u0){case 0:Ye=void 0;break;case 1:Ye=Fn(Wt,k[A0]);break;default:if(Wt===Qt.ParameterStructures.byName)throw new Error(`Received ${u0} parameters for 'by Name' notification parameter structure.`);Ye=k.slice(A0,W0).map(er=>J0(er));break}}else{let S0=k;B=Y.method,Ye=dn(Y,S0)}let Vt={jsonrpc:f,method:B,params:Ye};return wt(Vt),t.write(Vt).catch(S0=>{throw i.error("Sending notification failed."),S0})},onNotification:(Y,k)=>{sr();let B;return Dr.func(Y)?d=Y:k&&(Dr.string(Y)?(B=Y,p.set(Y,{type:void 0,handler:k})):(B=Y.method,p.set(Y.method,{type:Y,handler:k}))),{dispose:()=>{B!==void 0?p.delete(B):d=void 0}}},onProgress:(Y,k,B)=>{if(g.has(k))throw new Error(`Progress handler for token ${k} already registered`);return g.set(k,B),{dispose:()=>{g.delete(k)}}},sendProgress:(Y,k,B)=>Xt.sendNotification(wh.type,{token:k,value:B}),onUnhandledProgress:De.event,sendRequest:(Y,...k)=>{sr(),pr();let B,Ye,Vt;if(Dr.string(Y)){B=Y;let W0=k[0],u0=k[k.length-1],er=0,w0=Qt.ParameterStructures.auto;Qt.ParameterStructures.is(W0)&&(er=1,w0=W0);let Q0=k.length;lC.CancellationToken.is(u0)&&(Q0=Q0-1,Vt=u0);let Nt=Q0-er;switch(Nt){case 0:Ye=void 0;break;case 1:Ye=Fn(w0,k[er]);break;default:if(w0===Qt.ParameterStructures.byName)throw new Error(`Received ${Nt} parameters for 'by Name' request parameter structure.`);Ye=k.slice(er,Q0).map(hs=>J0(hs));break}}else{let W0=k;B=Y.method,Ye=dn(Y,W0);let u0=Y.numberOfParams;Vt=lC.CancellationToken.is(W0[u0])?W0[u0]:void 0}let S0=o++,A0;Vt&&(A0=Vt.onCancellationRequested(()=>{let W0=Ie.sender.sendCancellation(Xt,S0);return W0===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${S0}`),Promise.resolve()):W0.catch(()=>{i.log(`Sending cancellation messages for id ${S0} failed`)})}));let Wt={jsonrpc:f,id:S0,method:B,params:Ye};return nt(Wt),typeof Ie.sender.enableCancellation=="function"&&Ie.sender.enableCancellation(Wt),new Promise(async(W0,u0)=>{let er=s(Nt=>{W0(Nt),Ie.sender.cleanup(S0),A0==null||A0.dispose()},"resolveWithCleanup"),w0=s(Nt=>{u0(Nt),Ie.sender.cleanup(S0),A0==null||A0.dispose()},"rejectWithCleanup"),Q0={method:B,timerStart:Date.now(),resolve:er,reject:w0};try{await t.write(Wt),S.set(S0,Q0)}catch(Nt){throw i.error("Sending request failed."),Q0.reject(new Qt.ResponseError(Qt.ErrorCodes.MessageWriteError,Nt.message?Nt.message:"Unknown reason")),Nt}})},onRequest:(Y,k)=>{sr();let B=null;return uC.is(Y)?(B=void 0,c=Y):Dr.string(Y)?(B=null,k!==void 0&&(B=Y,u.set(Y,{handler:k,type:void 0}))):k!==void 0&&(B=Y.method,u.set(Y.method,{type:Y,handler:k})),{dispose:()=>{B!==null&&(B!==void 0?u.delete(B):c=void 0)}}},hasPendingResponse:()=>S.size>0,trace:async(Y,k,B)=>{let Ye=!1,Vt=As.Text;B!==void 0&&(Dr.boolean(B)?Ye=B:(Ye=B.sendNotification||!1,Vt=B.traceFormat||As.Text)),P=Y,M=Vt,P===ir.Off?N=void 0:N=k,Ye&&!ce()&&!ve()&&await Xt.sendNotification(dC.type,{value:ir.toString(Y)})},onError:X.event,onClose:te.event,onUnhandledNotification:Ce.event,onDispose:pe.event,end:()=>{t.end()},dispose:()=>{if(ve())return;L=Vo.Disposed,pe.fire(void 0);let Y=new Qt.ResponseError(Qt.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let k of S.values())k.reject(Y);S=new Map,I=new Map,T=new Set,_=new PD.LinkedMap,Dr.func(t.dispose)&&t.dispose(),Dr.func(e.dispose)&&e.dispose()},listen:()=>{sr(),X0(),L=Vo.Listening,e.listen(n0)},inspect:()=>{(0,AD.default)().console.log("inspect")}};return Xt.onNotification(u9.type,Y=>{if(P===ir.Off||!N)return;let k=P===ir.Verbose||P===ir.Compact;N.log(Y.message,k?Y.verbose:void 0)}),Xt.onNotification(wh.type,Y=>{let k=g.get(Y.token);k?k(Y.value):De.fire(Y)}),Xt}s(HX,"createMessageConnection");f0.createMessageConnection=HX});var v9=ae(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.ProgressType=qe.ProgressToken=qe.createMessageConnection=qe.NullLogger=qe.ConnectionOptions=qe.ConnectionStrategy=qe.AbstractMessageBuffer=qe.WriteableStreamMessageWriter=qe.AbstractMessageWriter=qe.MessageWriter=qe.ReadableStreamMessageReader=qe.AbstractMessageReader=qe.MessageReader=qe.SharedArrayReceiverStrategy=qe.SharedArraySenderStrategy=qe.CancellationToken=qe.CancellationTokenSource=qe.Emitter=qe.Event=qe.Disposable=qe.LRUCache=qe.Touch=qe.LinkedMap=qe.ParameterStructures=qe.NotificationType9=qe.NotificationType8=qe.NotificationType7=qe.NotificationType6=qe.NotificationType5=qe.NotificationType4=qe.NotificationType3=qe.NotificationType2=qe.NotificationType1=qe.NotificationType0=qe.NotificationType=qe.ErrorCodes=qe.ResponseError=qe.RequestType9=qe.RequestType8=qe.RequestType7=qe.RequestType6=qe.RequestType5=qe.RequestType4=qe.RequestType3=qe.RequestType2=qe.RequestType1=qe.RequestType0=qe.RequestType=qe.Message=qe.RAL=void 0;qe.MessageStrategy=qe.CancellationStrategy=qe.CancellationSenderStrategy=qe.CancellationReceiverStrategy=qe.ConnectionError=qe.ConnectionErrors=qe.LogTraceNotification=qe.SetTraceNotification=qe.TraceFormat=qe.TraceValues=qe.Trace=void 0;var yr=Sb();Object.defineProperty(qe,"Message",{enumerable:!0,get:function(){return yr.Message}});Object.defineProperty(qe,"RequestType",{enumerable:!0,get:function(){return yr.RequestType}});Object.defineProperty(qe,"RequestType0",{enumerable:!0,get:function(){return yr.RequestType0}});Object.defineProperty(qe,"RequestType1",{enumerable:!0,get:function(){return yr.RequestType1}});Object.defineProperty(qe,"RequestType2",{enumerable:!0,get:function(){return yr.RequestType2}});Object.defineProperty(qe,"RequestType3",{enumerable:!0,get:function(){return yr.RequestType3}});Object.defineProperty(qe,"RequestType4",{enumerable:!0,get:function(){return yr.RequestType4}});Object.defineProperty(qe,"RequestType5",{enumerable:!0,get:function(){return yr.RequestType5}});Object.defineProperty(qe,"RequestType6",{enumerable:!0,get:function(){return yr.RequestType6}});Object.defineProperty(qe,"RequestType7",{enumerable:!0,get:function(){return yr.RequestType7}});Object.defineProperty(qe,"RequestType8",{enumerable:!0,get:function(){return yr.RequestType8}});Object.defineProperty(qe,"RequestType9",{enumerable:!0,get:function(){return yr.RequestType9}});Object.defineProperty(qe,"ResponseError",{enumerable:!0,get:function(){return yr.ResponseError}});Object.defineProperty(qe,"ErrorCodes",{enumerable:!0,get:function(){return yr.ErrorCodes}});Object.defineProperty(qe,"NotificationType",{enumerable:!0,get:function(){return yr.NotificationType}});Object.defineProperty(qe,"NotificationType0",{enumerable:!0,get:function(){return yr.NotificationType0}});Object.defineProperty(qe,"NotificationType1",{enumerable:!0,get:function(){return yr.NotificationType1}});Object.defineProperty(qe,"NotificationType2",{enumerable:!0,get:function(){return yr.NotificationType2}});Object.defineProperty(qe,"NotificationType3",{enumerable:!0,get:function(){return yr.NotificationType3}});Object.defineProperty(qe,"NotificationType4",{enumerable:!0,get:function(){return yr.NotificationType4}});Object.defineProperty(qe,"NotificationType5",{enumerable:!0,get:function(){return yr.NotificationType5}});Object.defineProperty(qe,"NotificationType6",{enumerable:!0,get:function(){return yr.NotificationType6}});Object.defineProperty(qe,"NotificationType7",{enumerable:!0,get:function(){return yr.NotificationType7}});Object.defineProperty(qe,"NotificationType8",{enumerable:!0,get:function(){return yr.NotificationType8}});Object.defineProperty(qe,"NotificationType9",{enumerable:!0,get:function(){return yr.NotificationType9}});Object.defineProperty(qe,"ParameterStructures",{enumerable:!0,get:function(){return yr.ParameterStructures}});var pC=Pb();Object.defineProperty(qe,"LinkedMap",{enumerable:!0,get:function(){return pC.LinkedMap}});Object.defineProperty(qe,"LRUCache",{enumerable:!0,get:function(){return pC.LRUCache}});Object.defineProperty(qe,"Touch",{enumerable:!0,get:function(){return pC.Touch}});var VX=yD();Object.defineProperty(qe,"Disposable",{enumerable:!0,get:function(){return VX.Disposable}});var DD=X5();Object.defineProperty(qe,"Event",{enumerable:!0,get:function(){return DD.Event}});Object.defineProperty(qe,"Emitter",{enumerable:!0,get:function(){return DD.Emitter}});var LD=o9();Object.defineProperty(qe,"CancellationTokenSource",{enumerable:!0,get:function(){return LD.CancellationTokenSource}});Object.defineProperty(qe,"CancellationToken",{enumerable:!0,get:function(){return LD.CancellationToken}});var BD=xD();Object.defineProperty(qe,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return BD.SharedArraySenderStrategy}});Object.defineProperty(qe,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return BD.SharedArrayReceiverStrategy}});var yC=bD();Object.defineProperty(qe,"MessageReader",{enumerable:!0,get:function(){return yC.MessageReader}});Object.defineProperty(qe,"AbstractMessageReader",{enumerable:!0,get:function(){return yC.AbstractMessageReader}});Object.defineProperty(qe,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return yC.ReadableStreamMessageReader}});var vC=wD();Object.defineProperty(qe,"MessageWriter",{enumerable:!0,get:function(){return vC.MessageWriter}});Object.defineProperty(qe,"AbstractMessageWriter",{enumerable:!0,get:function(){return vC.AbstractMessageWriter}});Object.defineProperty(qe,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return vC.WriteableStreamMessageWriter}});var zX=ID();Object.defineProperty(qe,"AbstractMessageBuffer",{enumerable:!0,get:function(){return zX.AbstractMessageBuffer}});var Qn=kD();Object.defineProperty(qe,"ConnectionStrategy",{enumerable:!0,get:function(){return Qn.ConnectionStrategy}});Object.defineProperty(qe,"ConnectionOptions",{enumerable:!0,get:function(){return Qn.ConnectionOptions}});Object.defineProperty(qe,"NullLogger",{enumerable:!0,get:function(){return Qn.NullLogger}});Object.defineProperty(qe,"createMessageConnection",{enumerable:!0,get:function(){return Qn.createMessageConnection}});Object.defineProperty(qe,"ProgressToken",{enumerable:!0,get:function(){return Qn.ProgressToken}});Object.defineProperty(qe,"ProgressType",{enumerable:!0,get:function(){return Qn.ProgressType}});Object.defineProperty(qe,"Trace",{enumerable:!0,get:function(){return Qn.Trace}});Object.defineProperty(qe,"TraceValues",{enumerable:!0,get:function(){return Qn.TraceValues}});Object.defineProperty(qe,"TraceFormat",{enumerable:!0,get:function(){return Qn.TraceFormat}});Object.defineProperty(qe,"SetTraceNotification",{enumerable:!0,get:function(){return Qn.SetTraceNotification}});Object.defineProperty(qe,"LogTraceNotification",{enumerable:!0,get:function(){return Qn.LogTraceNotification}});Object.defineProperty(qe,"ConnectionErrors",{enumerable:!0,get:function(){return Qn.ConnectionErrors}});Object.defineProperty(qe,"ConnectionError",{enumerable:!0,get:function(){return Qn.ConnectionError}});Object.defineProperty(qe,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Qn.CancellationReceiverStrategy}});Object.defineProperty(qe,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Qn.CancellationSenderStrategy}});Object.defineProperty(qe,"CancellationStrategy",{enumerable:!0,get:function(){return Qn.CancellationStrategy}});Object.defineProperty(qe,"MessageStrategy",{enumerable:!0,get:function(){return Qn.MessageStrategy}});var KX=pc();qe.RAL=KX.default});var MD=ae(CC=>{"use strict";Object.defineProperty(CC,"__esModule",{value:!0});var OD=require("util"),Ul=v9(),_9=class _9 extends Ul.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return _9.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new OD.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};s(_9,"MessageBuffer");var x9=_9;x9.emptyBuffer=Buffer.allocUnsafe(0);var TC=class TC{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Ul.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Ul.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Ul.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),Ul.Disposable.create(()=>this.stream.off("data",t))}};s(TC,"ReadableStreamWrapper");var xC=TC,EC=class EC{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Ul.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Ul.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Ul.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let o=s(a=>{a==null?n():i(a)},"callback");typeof t=="string"?this.stream.write(t,r,o):this.stream.write(t,o)})}end(){this.stream.end()}};s(EC,"WritableStreamWrapper");var _C=EC,FD=Object.freeze({messageBuffer:Object.freeze({create:e=>new x9(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new OD.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:e=>new xC(e),asWritableStream:e=>new _C(e)}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:()=>clearImmediate(r)}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:()=>clearInterval(n)}}})});function bC(){return FD}s(bC,"RIL");(function(e){function t(){Ul.RAL.install(FD)}s(t,"install"),e.install=t})(bC||(bC={}));CC.default=bC});var ku=ae($0=>{"use strict";var WX=$0&&$0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GX=$0&&$0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&WX(t,e,r)};Object.defineProperty($0,"__esModule",{value:!0});$0.createMessageConnection=$0.createServerSocketTransport=$0.createClientSocketTransport=$0.createServerPipeTransport=$0.createClientPipeTransport=$0.generateRandomPipeName=$0.StreamMessageWriter=$0.StreamMessageReader=$0.SocketMessageWriter=$0.SocketMessageReader=$0.PortMessageWriter=$0.PortMessageReader=$0.IPCMessageWriter=$0.IPCMessageReader=void 0;var t3=MD();t3.default.install();var UD=require("path"),YX=require("os"),XX=require("crypto"),T9=require("net"),Ps=v9();GX(v9(),$0);var PC=class PC extends Ps.AbstractMessageReader{constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Ps.Disposable.create(()=>this.process.off("message",t))}};s(PC,"IPCMessageReader");var SC=PC;$0.IPCMessageReader=SC;var RC=class RC extends Ps.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};s(RC,"IPCMessageWriter");var wC=RC;$0.IPCMessageWriter=wC;var NC=class NC extends Ps.AbstractMessageReader{constructor(t){super(),this.onData=new Ps.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};s(NC,"PortMessageReader");var IC=NC;$0.PortMessageReader=IC;var kC=class kC extends Ps.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};s(kC,"PortMessageWriter");var AC=kC;$0.PortMessageWriter=AC;var DC=class DC extends Ps.ReadableStreamMessageReader{constructor(t,r="utf-8"){super((0,t3.default)().stream.asReadableStream(t),r)}};s(DC,"SocketMessageReader");var Ru=DC;$0.SocketMessageReader=Ru;var LC=class LC extends Ps.WriteableStreamMessageWriter{constructor(t,r){super((0,t3.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};s(LC,"SocketMessageWriter");var Nu=LC;$0.SocketMessageWriter=Nu;var BC=class BC extends Ps.ReadableStreamMessageReader{constructor(t,r){super((0,t3.default)().stream.asReadableStream(t),r)}};s(BC,"StreamMessageReader");var b9=BC;$0.StreamMessageReader=b9;var OC=class OC extends Ps.WriteableStreamMessageWriter{constructor(t,r){super((0,t3.default)().stream.asWritableStream(t),r)}};s(OC,"StreamMessageWriter");var C9=OC;$0.StreamMessageWriter=C9;var qD=process.env.XDG_RUNTIME_DIR,JX=new Map([["linux",107],["darwin",103]]);function QX(){let e=(0,XX.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;qD?t=UD.join(qD,`vscode-ipc-${e}.sock`):t=UD.join(YX.tmpdir(),`vscode-${e}.sock`);let r=JX.get(process.platform);return r!==void 0&&t.length>r&&(0,t3.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}s(QX,"generateRandomPipeName");$0.generateRandomPipeName=QX;function ZX(e,t="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let a=(0,T9.createServer)(l=>{a.close(),r([new Ru(l,t),new Nu(l,t)])});a.on("error",o),a.listen(e,()=>{a.removeListener("error",o),i({onConnected:()=>n})})})}s(ZX,"createClientPipeTransport");$0.createClientPipeTransport=ZX;function eJ(e,t="utf-8"){let r=(0,T9.createConnection)(e);return[new Ru(r,t),new Nu(r,t)]}s(eJ,"createServerPipeTransport");$0.createServerPipeTransport=eJ;function tJ(e,t="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let a=(0,T9.createServer)(l=>{a.close(),r([new Ru(l,t),new Nu(l,t)])});a.on("error",o),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",o),i({onConnected:()=>n})})})}s(tJ,"createClientSocketTransport");$0.createClientSocketTransport=tJ;function rJ(e,t="utf-8"){let r=(0,T9.createConnection)(e,"127.0.0.1");return[new Ru(r,t),new Nu(r,t)]}s(rJ,"createServerSocketTransport");$0.createServerSocketTransport=rJ;function nJ(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}s(nJ,"isReadableStream");function iJ(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}s(iJ,"isWritableStream");function sJ(e,t,r,n){r||(r=Ps.NullLogger);let i=nJ(e)?new b9(e):e,o=iJ(t)?new C9(t):t;return Ps.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Ps.createMessageConnection)(i,o,r,n)}s(sJ,"createMessageConnection");$0.createMessageConnection=sJ});var FC=ae((kue,jD)=>{"use strict";jD.exports=ku()});var S9=ae(($D,E9)=>{(function(e){if(typeof E9=="object"&&typeof E9.exports=="object"){var t=e(require,$D);t!==void 0&&(E9.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(U){function se(fe){return typeof fe=="string"}s(se,"is"),U.is=se})(r||(t.DocumentUri=r={}));var n;(function(U){function se(fe){return typeof fe=="string"}s(se,"is"),U.is=se})(n||(t.URI=n={}));var i;(function(U){U.MIN_VALUE=-2147483648,U.MAX_VALUE=2147483647;function se(fe){return typeof fe=="number"&&U.MIN_VALUE<=fe&&fe<=U.MAX_VALUE}s(se,"is"),U.is=se})(i||(t.integer=i={}));var o;(function(U){U.MIN_VALUE=0,U.MAX_VALUE=2147483647;function se(fe){return typeof fe=="number"&&U.MIN_VALUE<=fe&&fe<=U.MAX_VALUE}s(se,"is"),U.is=se})(o||(t.uinteger=o={}));var a;(function(U){function se(K,O){return K===Number.MAX_VALUE&&(K=o.MAX_VALUE),O===Number.MAX_VALUE&&(O=o.MAX_VALUE),{line:K,character:O}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.uinteger(O.line)&&ye.uinteger(O.character)}s(fe,"is"),U.is=fe})(a||(t.Position=a={}));var l;(function(U){function se(K,O,Te,$e){if(ye.uinteger(K)&&ye.uinteger(O)&&ye.uinteger(Te)&&ye.uinteger($e))return{start:a.create(K,O),end:a.create(Te,$e)};if(a.is(K)&&a.is(O))return{start:K,end:O};throw new Error("Range#create called with invalid arguments[".concat(K,", ").concat(O,", ").concat(Te,", ").concat($e,"]"))}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&a.is(O.start)&&a.is(O.end)}s(fe,"is"),U.is=fe})(l||(t.Range=l={}));var f;(function(U){function se(K,O){return{uri:K,range:O}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&l.is(O.range)&&(ye.string(O.uri)||ye.undefined(O.uri))}s(fe,"is"),U.is=fe})(f||(t.Location=f={}));var c;(function(U){function se(K,O,Te,$e){return{targetUri:K,targetRange:O,targetSelectionRange:Te,originSelectionRange:$e}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&l.is(O.targetRange)&&ye.string(O.targetUri)&&l.is(O.targetSelectionRange)&&(l.is(O.originSelectionRange)||ye.undefined(O.originSelectionRange))}s(fe,"is"),U.is=fe})(c||(t.LocationLink=c={}));var u;(function(U){function se(K,O,Te,$e){return{red:K,green:O,blue:Te,alpha:$e}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.numberRange(O.red,0,1)&&ye.numberRange(O.green,0,1)&&ye.numberRange(O.blue,0,1)&&ye.numberRange(O.alpha,0,1)}s(fe,"is"),U.is=fe})(u||(t.Color=u={}));var d;(function(U){function se(K,O){return{range:K,color:O}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&l.is(O.range)&&u.is(O.color)}s(fe,"is"),U.is=fe})(d||(t.ColorInformation=d={}));var p;(function(U){function se(K,O,Te){return{label:K,textEdit:O,additionalTextEdits:Te}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.string(O.label)&&(ye.undefined(O.textEdit)||N.is(O))&&(ye.undefined(O.additionalTextEdits)||ye.typedArray(O.additionalTextEdits,N.is))}s(fe,"is"),U.is=fe})(p||(t.ColorPresentation=p={}));var g;(function(U){U.Comment="comment",U.Imports="imports",U.Region="region"})(g||(t.FoldingRangeKind=g={}));var y;(function(U){function se(K,O,Te,$e,Ht,or){var tr={startLine:K,endLine:O};return ye.defined(Te)&&(tr.startCharacter=Te),ye.defined($e)&&(tr.endCharacter=$e),ye.defined(Ht)&&(tr.kind=Ht),ye.defined(or)&&(tr.collapsedText=or),tr}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.uinteger(O.startLine)&&ye.uinteger(O.startLine)&&(ye.undefined(O.startCharacter)||ye.uinteger(O.startCharacter))&&(ye.undefined(O.endCharacter)||ye.uinteger(O.endCharacter))&&(ye.undefined(O.kind)||ye.string(O.kind))}s(fe,"is"),U.is=fe})(y||(t.FoldingRange=y={}));var _;(function(U){function se(K,O){return{location:K,message:O}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.defined(O)&&f.is(O.location)&&ye.string(O.message)}s(fe,"is"),U.is=fe})(_||(t.DiagnosticRelatedInformation=_={}));var S;(function(U){U.Error=1,U.Warning=2,U.Information=3,U.Hint=4})(S||(t.DiagnosticSeverity=S={}));var T;(function(U){U.Unnecessary=1,U.Deprecated=2})(T||(t.DiagnosticTag=T={}));var I;(function(U){function se(fe){var K=fe;return ye.objectLiteral(K)&&ye.string(K.href)}s(se,"is"),U.is=se})(I||(t.CodeDescription=I={}));var P;(function(U){function se(K,O,Te,$e,Ht,or){var tr={range:K,message:O};return ye.defined(Te)&&(tr.severity=Te),ye.defined($e)&&(tr.code=$e),ye.defined(Ht)&&(tr.source=Ht),ye.defined(or)&&(tr.relatedInformation=or),tr}s(se,"create"),U.create=se;function fe(K){var O,Te=K;return ye.defined(Te)&&l.is(Te.range)&&ye.string(Te.message)&&(ye.number(Te.severity)||ye.undefined(Te.severity))&&(ye.integer(Te.code)||ye.string(Te.code)||ye.undefined(Te.code))&&(ye.undefined(Te.codeDescription)||ye.string((O=Te.codeDescription)===null||O===void 0?void 0:O.href))&&(ye.string(Te.source)||ye.undefined(Te.source))&&(ye.undefined(Te.relatedInformation)||ye.typedArray(Te.relatedInformation,_.is))}s(fe,"is"),U.is=fe})(P||(t.Diagnostic=P={}));var M;(function(U){function se(K,O){for(var Te=[],$e=2;$e<arguments.length;$e++)Te[$e-2]=arguments[$e];var Ht={title:K,command:O};return ye.defined(Te)&&Te.length>0&&(Ht.arguments=Te),Ht}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.title)&&ye.string(O.command)}s(fe,"is"),U.is=fe})(M||(t.Command=M={}));var N;(function(U){function se(Te,$e){return{range:Te,newText:$e}}s(se,"replace"),U.replace=se;function fe(Te,$e){return{range:{start:Te,end:Te},newText:$e}}s(fe,"insert"),U.insert=fe;function K(Te){return{range:Te,newText:""}}s(K,"del"),U.del=K;function O(Te){var $e=Te;return ye.objectLiteral($e)&&ye.string($e.newText)&&l.is($e.range)}s(O,"is"),U.is=O})(N||(t.TextEdit=N={}));var L;(function(U){function se(K,O,Te){var $e={label:K};return O!==void 0&&($e.needsConfirmation=O),Te!==void 0&&($e.description=Te),$e}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.string(O.label)&&(ye.boolean(O.needsConfirmation)||O.needsConfirmation===void 0)&&(ye.string(O.description)||O.description===void 0)}s(fe,"is"),U.is=fe})(L||(t.ChangeAnnotation=L={}));var X;(function(U){function se(fe){var K=fe;return ye.string(K)}s(se,"is"),U.is=se})(X||(t.ChangeAnnotationIdentifier=X={}));var te;(function(U){function se(Te,$e,Ht){return{range:Te,newText:$e,annotationId:Ht}}s(se,"replace"),U.replace=se;function fe(Te,$e,Ht){return{range:{start:Te,end:Te},newText:$e,annotationId:Ht}}s(fe,"insert"),U.insert=fe;function K(Te,$e){return{range:Te,newText:"",annotationId:$e}}s(K,"del"),U.del=K;function O(Te){var $e=Te;return N.is($e)&&(L.is($e.annotationId)||X.is($e.annotationId))}s(O,"is"),U.is=O})(te||(t.AnnotatedTextEdit=te={}));var Ce;(function(U){function se(K,O){return{textDocument:K,edits:O}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.defined(O)&&ce.is(O.textDocument)&&Array.isArray(O.edits)}s(fe,"is"),U.is=fe})(Ce||(t.TextDocumentEdit=Ce={}));var De;(function(U){function se(K,O,Te){var $e={kind:"create",uri:K};return O!==void 0&&(O.overwrite!==void 0||O.ignoreIfExists!==void 0)&&($e.options=O),Te!==void 0&&($e.annotationId=Te),$e}s(se,"create"),U.create=se;function fe(K){var O=K;return O&&O.kind==="create"&&ye.string(O.uri)&&(O.options===void 0||(O.options.overwrite===void 0||ye.boolean(O.options.overwrite))&&(O.options.ignoreIfExists===void 0||ye.boolean(O.options.ignoreIfExists)))&&(O.annotationId===void 0||X.is(O.annotationId))}s(fe,"is"),U.is=fe})(De||(t.CreateFile=De={}));var pe;(function(U){function se(K,O,Te,$e){var Ht={kind:"rename",oldUri:K,newUri:O};return Te!==void 0&&(Te.overwrite!==void 0||Te.ignoreIfExists!==void 0)&&(Ht.options=Te),$e!==void 0&&(Ht.annotationId=$e),Ht}s(se,"create"),U.create=se;function fe(K){var O=K;return O&&O.kind==="rename"&&ye.string(O.oldUri)&&ye.string(O.newUri)&&(O.options===void 0||(O.options.overwrite===void 0||ye.boolean(O.options.overwrite))&&(O.options.ignoreIfExists===void 0||ye.boolean(O.options.ignoreIfExists)))&&(O.annotationId===void 0||X.is(O.annotationId))}s(fe,"is"),U.is=fe})(pe||(t.RenameFile=pe={}));var Ie;(function(U){function se(K,O,Te){var $e={kind:"delete",uri:K};return O!==void 0&&(O.recursive!==void 0||O.ignoreIfNotExists!==void 0)&&($e.options=O),Te!==void 0&&($e.annotationId=Te),$e}s(se,"create"),U.create=se;function fe(K){var O=K;return O&&O.kind==="delete"&&ye.string(O.uri)&&(O.options===void 0||(O.options.recursive===void 0||ye.boolean(O.options.recursive))&&(O.options.ignoreIfNotExists===void 0||ye.boolean(O.options.ignoreIfNotExists)))&&(O.annotationId===void 0||X.is(O.annotationId))}s(fe,"is"),U.is=fe})(Ie||(t.DeleteFile=Ie={}));var ie;(function(U){function se(fe){var K=fe;return K&&(K.changes!==void 0||K.documentChanges!==void 0)&&(K.documentChanges===void 0||K.documentChanges.every(function(O){return ye.string(O.kind)?De.is(O)||pe.is(O)||Ie.is(O):Ce.is(O)}))}s(se,"is"),U.is=se})(ie||(t.WorkspaceEdit=ie={}));var Z=function(){function U(se,fe){this.edits=se,this.changeAnnotations=fe}return s(U,"TextEditChangeImpl"),U.prototype.insert=function(se,fe,K){var O,Te;if(K===void 0?O=N.insert(se,fe):X.is(K)?(Te=K,O=te.insert(se,fe,K)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(K),O=te.insert(se,fe,Te)),this.edits.push(O),Te!==void 0)return Te},U.prototype.replace=function(se,fe,K){var O,Te;if(K===void 0?O=N.replace(se,fe):X.is(K)?(Te=K,O=te.replace(se,fe,K)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(K),O=te.replace(se,fe,Te)),this.edits.push(O),Te!==void 0)return Te},U.prototype.delete=function(se,fe){var K,O;if(fe===void 0?K=N.del(se):X.is(fe)?(O=fe,K=te.del(se,fe)):(this.assertChangeAnnotations(this.changeAnnotations),O=this.changeAnnotations.manage(fe),K=te.del(se,O)),this.edits.push(K),O!==void 0)return O},U.prototype.add=function(se){this.edits.push(se)},U.prototype.all=function(){return this.edits},U.prototype.clear=function(){this.edits.splice(0,this.edits.length)},U.prototype.assertChangeAnnotations=function(se){if(se===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},U}(),_e=function(){function U(se){this._annotations=se===void 0?Object.create(null):se,this._counter=0,this._size=0}return s(U,"ChangeAnnotations"),U.prototype.all=function(){return this._annotations},Object.defineProperty(U.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),U.prototype.manage=function(se,fe){var K;if(X.is(se)?K=se:(K=this.nextId(),fe=se),this._annotations[K]!==void 0)throw new Error("Id ".concat(K," is already in use."));if(fe===void 0)throw new Error("No annotation provided for id ".concat(K));return this._annotations[K]=fe,this._size++,K},U.prototype.nextId=function(){return this._counter++,this._counter.toString()},U}(),Ae=function(){function U(se){var fe=this;this._textEditChanges=Object.create(null),se!==void 0?(this._workspaceEdit=se,se.documentChanges?(this._changeAnnotations=new _e(se.changeAnnotations),se.changeAnnotations=this._changeAnnotations.all(),se.documentChanges.forEach(function(K){if(Ce.is(K)){var O=new Z(K.edits,fe._changeAnnotations);fe._textEditChanges[K.textDocument.uri]=O}})):se.changes&&Object.keys(se.changes).forEach(function(K){var O=new Z(se.changes[K]);fe._textEditChanges[K]=O})):this._workspaceEdit={}}return s(U,"WorkspaceChange"),Object.defineProperty(U.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),U.prototype.getTextEditChange=function(se){if(ce.is(se)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var fe={uri:se.uri,version:se.version},K=this._textEditChanges[fe.uri];if(!K){var O=[],Te={textDocument:fe,edits:O};this._workspaceEdit.documentChanges.push(Te),K=new Z(O,this._changeAnnotations),this._textEditChanges[fe.uri]=K}return K}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var K=this._textEditChanges[se];if(!K){var O=[];this._workspaceEdit.changes[se]=O,K=new Z(O),this._textEditChanges[se]=K}return K}},U.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new _e,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},U.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},U.prototype.createFile=function(se,fe,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var O;L.is(fe)||X.is(fe)?O=fe:K=fe;var Te,$e;if(O===void 0?Te=De.create(se,K):($e=X.is(O)?O:this._changeAnnotations.manage(O),Te=De.create(se,K,$e)),this._workspaceEdit.documentChanges.push(Te),$e!==void 0)return $e},U.prototype.renameFile=function(se,fe,K,O){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Te;L.is(K)||X.is(K)?Te=K:O=K;var $e,Ht;if(Te===void 0?$e=pe.create(se,fe,O):(Ht=X.is(Te)?Te:this._changeAnnotations.manage(Te),$e=pe.create(se,fe,O,Ht)),this._workspaceEdit.documentChanges.push($e),Ht!==void 0)return Ht},U.prototype.deleteFile=function(se,fe,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var O;L.is(fe)||X.is(fe)?O=fe:K=fe;var Te,$e;if(O===void 0?Te=Ie.create(se,K):($e=X.is(O)?O:this._changeAnnotations.manage(O),Te=Ie.create(se,K,$e)),this._workspaceEdit.documentChanges.push(Te),$e!==void 0)return $e},U}();t.WorkspaceChange=Ae;var be;(function(U){function se(K){return{uri:K}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.uri)}s(fe,"is"),U.is=fe})(be||(t.TextDocumentIdentifier=be={}));var Ke;(function(U){function se(K,O){return{uri:K,version:O}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.uri)&&ye.integer(O.version)}s(fe,"is"),U.is=fe})(Ke||(t.VersionedTextDocumentIdentifier=Ke={}));var ce;(function(U){function se(K,O){return{uri:K,version:O}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.uri)&&(O.version===null||ye.integer(O.version))}s(fe,"is"),U.is=fe})(ce||(t.OptionalVersionedTextDocumentIdentifier=ce={}));var ve;(function(U){function se(K,O,Te,$e){return{uri:K,languageId:O,version:Te,text:$e}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.uri)&&ye.string(O.languageId)&&ye.integer(O.version)&&ye.string(O.text)}s(fe,"is"),U.is=fe})(ve||(t.TextDocumentItem=ve={}));var le;(function(U){U.PlainText="plaintext",U.Markdown="markdown";function se(fe){var K=fe;return K===U.PlainText||K===U.Markdown}s(se,"is"),U.is=se})(le||(t.MarkupKind=le={}));var Ee;(function(U){function se(fe){var K=fe;return ye.objectLiteral(fe)&&le.is(K.kind)&&ye.string(K.value)}s(se,"is"),U.is=se})(Ee||(t.MarkupContent=Ee={}));var mt;(function(U){U.Text=1,U.Method=2,U.Function=3,U.Constructor=4,U.Field=5,U.Variable=6,U.Class=7,U.Interface=8,U.Module=9,U.Property=10,U.Unit=11,U.Value=12,U.Enum=13,U.Keyword=14,U.Snippet=15,U.Color=16,U.File=17,U.Reference=18,U.Folder=19,U.EnumMember=20,U.Constant=21,U.Struct=22,U.Event=23,U.Operator=24,U.TypeParameter=25})(mt||(t.CompletionItemKind=mt={}));var Et;(function(U){U.PlainText=1,U.Snippet=2})(Et||(t.InsertTextFormat=Et={}));var dt;(function(U){U.Deprecated=1})(dt||(t.CompletionItemTag=dt={}));var ze;(function(U){function se(K,O,Te){return{newText:K,insert:O,replace:Te}}s(se,"create"),U.create=se;function fe(K){var O=K;return O&&ye.string(O.newText)&&l.is(O.insert)&&l.is(O.replace)}s(fe,"is"),U.is=fe})(ze||(t.InsertReplaceEdit=ze={}));var n0;(function(U){U.asIs=1,U.adjustIndentation=2})(n0||(t.InsertTextMode=n0={}));var W;(function(U){function se(fe){var K=fe;return K&&(ye.string(K.detail)||K.detail===void 0)&&(ye.string(K.description)||K.description===void 0)}s(se,"is"),U.is=se})(W||(t.CompletionItemLabelDetails=W={}));var Je;(function(U){function se(fe){return{label:fe}}s(se,"create"),U.create=se})(Je||(t.CompletionItem=Je={}));var he;(function(U){function se(fe,K){return{items:fe||[],isIncomplete:!!K}}s(se,"create"),U.create=se})(he||(t.CompletionList=he={}));var Xe;(function(U){function se(K){return K.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(se,"fromPlainText"),U.fromPlainText=se;function fe(K){var O=K;return ye.string(O)||ye.objectLiteral(O)&&ye.string(O.language)&&ye.string(O.value)}s(fe,"is"),U.is=fe})(Xe||(t.MarkedString=Xe={}));var Ve;(function(U){function se(fe){var K=fe;return!!K&&ye.objectLiteral(K)&&(Ee.is(K.contents)||Xe.is(K.contents)||ye.typedArray(K.contents,Xe.is))&&(fe.range===void 0||l.is(fe.range))}s(se,"is"),U.is=se})(Ve||(t.Hover=Ve={}));var nt;(function(U){function se(fe,K){return K?{label:fe,documentation:K}:{label:fe}}s(se,"create"),U.create=se})(nt||(t.ParameterInformation=nt={}));var wt;(function(U){function se(fe,K){for(var O=[],Te=2;Te<arguments.length;Te++)O[Te-2]=arguments[Te];var $e={label:fe};return ye.defined(K)&&($e.documentation=K),ye.defined(O)?$e.parameters=O:$e.parameters=[],$e}s(se,"create"),U.create=se})(wt||(t.SignatureInformation=wt={}));var Mt;(function(U){U.Text=1,U.Read=2,U.Write=3})(Mt||(t.DocumentHighlightKind=Mt={}));var Lt;(function(U){function se(fe,K){var O={range:fe};return ye.number(K)&&(O.kind=K),O}s(se,"create"),U.create=se})(Lt||(t.DocumentHighlight=Lt={}));var H;(function(U){U.File=1,U.Module=2,U.Namespace=3,U.Package=4,U.Class=5,U.Method=6,U.Property=7,U.Field=8,U.Constructor=9,U.Enum=10,U.Interface=11,U.Function=12,U.Variable=13,U.Constant=14,U.String=15,U.Number=16,U.Boolean=17,U.Array=18,U.Object=19,U.Key=20,U.Null=21,U.EnumMember=22,U.Struct=23,U.Event=24,U.Operator=25,U.TypeParameter=26})(H||(t.SymbolKind=H={}));var $t;(function(U){U.Deprecated=1})($t||(t.SymbolTag=$t={}));var vt;(function(U){function se(fe,K,O,Te,$e){var Ht={name:fe,kind:K,location:{uri:Te,range:O}};return $e&&(Ht.containerName=$e),Ht}s(se,"create"),U.create=se})(vt||(t.SymbolInformation=vt={}));var sr;(function(U){function se(fe,K,O,Te){return Te!==void 0?{name:fe,kind:K,location:{uri:O,range:Te}}:{name:fe,kind:K,location:{uri:O}}}s(se,"create"),U.create=se})(sr||(t.WorkspaceSymbol=sr={}));var X0;(function(U){function se(K,O,Te,$e,Ht,or){var tr={name:K,detail:O,kind:Te,range:$e,selectionRange:Ht};return or!==void 0&&(tr.children=or),tr}s(se,"create"),U.create=se;function fe(K){var O=K;return O&&ye.string(O.name)&&ye.number(O.kind)&&l.is(O.range)&&l.is(O.selectionRange)&&(O.detail===void 0||ye.string(O.detail))&&(O.deprecated===void 0||ye.boolean(O.deprecated))&&(O.children===void 0||Array.isArray(O.children))&&(O.tags===void 0||Array.isArray(O.tags))}s(fe,"is"),U.is=fe})(X0||(t.DocumentSymbol=X0={}));var pr;(function(U){U.Empty="",U.QuickFix="quickfix",U.Refactor="refactor",U.RefactorExtract="refactor.extract",U.RefactorInline="refactor.inline",U.RefactorRewrite="refactor.rewrite",U.Source="source",U.SourceOrganizeImports="source.organizeImports",U.SourceFixAll="source.fixAll"})(pr||(t.CodeActionKind=pr={}));var J0;(function(U){U.Invoked=1,U.Automatic=2})(J0||(t.CodeActionTriggerKind=J0={}));var Gr;(function(U){function se(K,O,Te){var $e={diagnostics:K};return O!=null&&($e.only=O),Te!=null&&($e.triggerKind=Te),$e}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.typedArray(O.diagnostics,P.is)&&(O.only===void 0||ye.typedArray(O.only,ye.string))&&(O.triggerKind===void 0||O.triggerKind===J0.Invoked||O.triggerKind===J0.Automatic)}s(fe,"is"),U.is=fe})(Gr||(t.CodeActionContext=Gr={}));var un;(function(U){function se(K,O,Te){var $e={title:K},Ht=!0;return typeof O=="string"?(Ht=!1,$e.kind=O):M.is(O)?$e.command=O:$e.edit=O,Ht&&Te!==void 0&&($e.kind=Te),$e}s(se,"create"),U.create=se;function fe(K){var O=K;return O&&ye.string(O.title)&&(O.diagnostics===void 0||ye.typedArray(O.diagnostics,P.is))&&(O.kind===void 0||ye.string(O.kind))&&(O.edit!==void 0||O.command!==void 0)&&(O.command===void 0||M.is(O.command))&&(O.isPreferred===void 0||ye.boolean(O.isPreferred))&&(O.edit===void 0||ie.is(O.edit))}s(fe,"is"),U.is=fe})(un||(t.CodeAction=un={}));var Fn;(function(U){function se(K,O){var Te={range:K};return ye.defined(O)&&(Te.data=O),Te}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.defined(O)&&l.is(O.range)&&(ye.undefined(O.command)||M.is(O.command))}s(fe,"is"),U.is=fe})(Fn||(t.CodeLens=Fn={}));var dn;(function(U){function se(K,O){return{tabSize:K,insertSpaces:O}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.uinteger(O.tabSize)&&ye.boolean(O.insertSpaces)}s(fe,"is"),U.is=fe})(dn||(t.FormattingOptions=dn={}));var Xt;(function(U){function se(K,O,Te){return{range:K,target:O,data:Te}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.defined(O)&&l.is(O.range)&&(ye.undefined(O.target)||ye.string(O.target))}s(fe,"is"),U.is=fe})(Xt||(t.DocumentLink=Xt={}));var Y;(function(U){function se(K,O){return{range:K,parent:O}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&l.is(O.range)&&(O.parent===void 0||U.is(O.parent))}s(fe,"is"),U.is=fe})(Y||(t.SelectionRange=Y={}));var k;(function(U){U.namespace="namespace",U.type="type",U.class="class",U.enum="enum",U.interface="interface",U.struct="struct",U.typeParameter="typeParameter",U.parameter="parameter",U.variable="variable",U.property="property",U.enumMember="enumMember",U.event="event",U.function="function",U.method="method",U.macro="macro",U.keyword="keyword",U.modifier="modifier",U.comment="comment",U.string="string",U.number="number",U.regexp="regexp",U.operator="operator",U.decorator="decorator"})(k||(t.SemanticTokenTypes=k={}));var B;(function(U){U.declaration="declaration",U.definition="definition",U.readonly="readonly",U.static="static",U.deprecated="deprecated",U.abstract="abstract",U.async="async",U.modification="modification",U.documentation="documentation",U.defaultLibrary="defaultLibrary"})(B||(t.SemanticTokenModifiers=B={}));var Ye;(function(U){function se(fe){var K=fe;return ye.objectLiteral(K)&&(K.resultId===void 0||typeof K.resultId=="string")&&Array.isArray(K.data)&&(K.data.length===0||typeof K.data[0]=="number")}s(se,"is"),U.is=se})(Ye||(t.SemanticTokens=Ye={}));var Vt;(function(U){function se(K,O){return{range:K,text:O}}s(se,"create"),U.create=se;function fe(K){var O=K;return O!=null&&l.is(O.range)&&ye.string(O.text)}s(fe,"is"),U.is=fe})(Vt||(t.InlineValueText=Vt={}));var S0;(function(U){function se(K,O,Te){return{range:K,variableName:O,caseSensitiveLookup:Te}}s(se,"create"),U.create=se;function fe(K){var O=K;return O!=null&&l.is(O.range)&&ye.boolean(O.caseSensitiveLookup)&&(ye.string(O.variableName)||O.variableName===void 0)}s(fe,"is"),U.is=fe})(S0||(t.InlineValueVariableLookup=S0={}));var A0;(function(U){function se(K,O){return{range:K,expression:O}}s(se,"create"),U.create=se;function fe(K){var O=K;return O!=null&&l.is(O.range)&&(ye.string(O.expression)||O.expression===void 0)}s(fe,"is"),U.is=fe})(A0||(t.InlineValueEvaluatableExpression=A0={}));var Wt;(function(U){function se(K,O){return{frameId:K,stoppedLocation:O}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.defined(O)&&l.is(K.stoppedLocation)}s(fe,"is"),U.is=fe})(Wt||(t.InlineValueContext=Wt={}));var W0;(function(U){U.Type=1,U.Parameter=2;function se(fe){return fe===1||fe===2}s(se,"is"),U.is=se})(W0||(t.InlayHintKind=W0={}));var u0;(function(U){function se(K){return{value:K}}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&(O.tooltip===void 0||ye.string(O.tooltip)||Ee.is(O.tooltip))&&(O.location===void 0||f.is(O.location))&&(O.command===void 0||M.is(O.command))}s(fe,"is"),U.is=fe})(u0||(t.InlayHintLabelPart=u0={}));var er;(function(U){function se(K,O,Te){var $e={position:K,label:O};return Te!==void 0&&($e.kind=Te),$e}s(se,"create"),U.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&a.is(O.position)&&(ye.string(O.label)||ye.typedArray(O.label,u0.is))&&(O.kind===void 0||W0.is(O.kind))&&O.textEdits===void 0||ye.typedArray(O.textEdits,N.is)&&(O.tooltip===void 0||ye.string(O.tooltip)||Ee.is(O.tooltip))&&(O.paddingLeft===void 0||ye.boolean(O.paddingLeft))&&(O.paddingRight===void 0||ye.boolean(O.paddingRight))}s(fe,"is"),U.is=fe})(er||(t.InlayHint=er={}));var w0;(function(U){function se(fe){return{kind:"snippet",value:fe}}s(se,"createSnippet"),U.createSnippet=se})(w0||(t.StringValue=w0={}));var Q0;(function(U){function se(fe,K,O,Te){return{insertText:fe,filterText:K,range:O,command:Te}}s(se,"create"),U.create=se})(Q0||(t.InlineCompletionItem=Q0={}));var Nt;(function(U){function se(fe){return{items:fe}}s(se,"create"),U.create=se})(Nt||(t.InlineCompletionList=Nt={}));var hs;(function(U){U.Invoked=0,U.Automatic=1})(hs||(t.InlineCompletionTriggerKind=hs={}));var tl;(function(U){function se(fe,K){return{range:fe,text:K}}s(se,"create"),U.create=se})(tl||(t.SelectedCompletionInfo=tl={}));var Mn;(function(U){function se(fe,K){return{triggerKind:fe,selectedCompletionInfo:K}}s(se,"create"),U.create=se})(Mn||(t.InlineCompletionContext=Mn={}));var Ms;(function(U){function se(fe){var K=fe;return ye.objectLiteral(K)&&n.is(K.uri)&&ye.string(K.name)}s(se,"is"),U.is=se})(Ms||(t.WorkspaceFolder=Ms={})),t.EOL=[`
`,`\r
`,"\r"];var qi;(function(U){function se(Te,$e,Ht,or){return new Co(Te,$e,Ht,or)}s(se,"create"),U.create=se;function fe(Te){var $e=Te;return!!(ye.defined($e)&&ye.string($e.uri)&&(ye.undefined($e.languageId)||ye.string($e.languageId))&&ye.uinteger($e.lineCount)&&ye.func($e.getText)&&ye.func($e.positionAt)&&ye.func($e.offsetAt))}s(fe,"is"),U.is=fe;function K(Te,$e){for(var Ht=Te.getText(),or=O($e,function(rr,dr){var qn=rr.range.start.line-dr.range.start.line;return qn===0?rr.range.start.character-dr.range.start.character:qn}),tr=Ht.length,Un=or.length-1;Un>=0;Un--){var lr=or[Un],ai=Te.offsetAt(lr.range.start),s0=Te.offsetAt(lr.range.end);if(s0<=tr)Ht=Ht.substring(0,ai)+lr.newText+Ht.substring(s0,Ht.length);else throw new Error("Overlapping edit");tr=ai}return Ht}s(K,"applyEdits"),U.applyEdits=K;function O(Te,$e){if(Te.length<=1)return Te;var Ht=Te.length/2|0,or=Te.slice(0,Ht),tr=Te.slice(Ht);O(or,$e),O(tr,$e);for(var Un=0,lr=0,ai=0;Un<or.length&&lr<tr.length;){var s0=$e(or[Un],tr[lr]);s0<=0?Te[ai++]=or[Un++]:Te[ai++]=tr[lr++]}for(;Un<or.length;)Te[ai++]=or[Un++];for(;lr<tr.length;)Te[ai++]=tr[lr++];return Te}s(O,"mergeSort")})(qi||(t.TextDocument=qi={}));var Co=function(){function U(se,fe,K,O){this._uri=se,this._languageId=fe,this._version=K,this._content=O,this._lineOffsets=void 0}return s(U,"FullTextDocument"),Object.defineProperty(U.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),U.prototype.getText=function(se){if(se){var fe=this.offsetAt(se.start),K=this.offsetAt(se.end);return this._content.substring(fe,K)}return this._content},U.prototype.update=function(se,fe){this._content=se.text,this._version=fe,this._lineOffsets=void 0},U.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var se=[],fe=this._content,K=!0,O=0;O<fe.length;O++){K&&(se.push(O),K=!1);var Te=fe.charAt(O);K=Te==="\r"||Te===`
`,Te==="\r"&&O+1<fe.length&&fe.charAt(O+1)===`
`&&O++}K&&fe.length>0&&se.push(fe.length),this._lineOffsets=se}return this._lineOffsets},U.prototype.positionAt=function(se){se=Math.max(Math.min(se,this._content.length),0);var fe=this.getLineOffsets(),K=0,O=fe.length;if(O===0)return a.create(0,se);for(;K<O;){var Te=Math.floor((K+O)/2);fe[Te]>se?O=Te:K=Te+1}var $e=K-1;return a.create($e,se-fe[$e])},U.prototype.offsetAt=function(se){var fe=this.getLineOffsets();if(se.line>=fe.length)return this._content.length;if(se.line<0)return 0;var K=fe[se.line],O=se.line+1<fe.length?fe[se.line+1]:this._content.length;return Math.max(Math.min(K+se.character,O),K)},Object.defineProperty(U.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),U}(),ye;(function(U){var se=Object.prototype.toString;function fe(s0){return typeof s0<"u"}s(fe,"defined"),U.defined=fe;function K(s0){return typeof s0>"u"}s(K,"undefined"),U.undefined=K;function O(s0){return s0===!0||s0===!1}s(O,"boolean"),U.boolean=O;function Te(s0){return se.call(s0)==="[object String]"}s(Te,"string"),U.string=Te;function $e(s0){return se.call(s0)==="[object Number]"}s($e,"number"),U.number=$e;function Ht(s0,rr,dr){return se.call(s0)==="[object Number]"&&rr<=s0&&s0<=dr}s(Ht,"numberRange"),U.numberRange=Ht;function or(s0){return se.call(s0)==="[object Number]"&&-2147483648<=s0&&s0<=2147483647}s(or,"integer"),U.integer=or;function tr(s0){return se.call(s0)==="[object Number]"&&0<=s0&&s0<=2147483647}s(tr,"uinteger"),U.uinteger=tr;function Un(s0){return se.call(s0)==="[object Function]"}s(Un,"func"),U.func=Un;function lr(s0){return s0!==null&&typeof s0=="object"}s(lr,"objectLiteral"),U.objectLiteral=lr;function ai(s0,rr){return Array.isArray(s0)&&s0.every(rr)}s(ai,"typedArray"),U.typedArray=ai})(ye||(ye={}))})});var Ar=ae(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.ProtocolNotificationType=es.ProtocolNotificationType0=es.ProtocolRequestType=es.ProtocolRequestType0=es.RegistrationType=es.MessageDirection=void 0;var r3=ku(),HD;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(HD||(es.MessageDirection=HD={}));var HC=class HC{constructor(t){this.method=t}};s(HC,"RegistrationType");var MC=HC;es.RegistrationType=MC;var VC=class VC extends r3.RequestType0{constructor(t){super(t)}};s(VC,"ProtocolRequestType0");var UC=VC;es.ProtocolRequestType0=UC;var zC=class zC extends r3.RequestType{constructor(t){super(t,r3.ParameterStructures.byName)}};s(zC,"ProtocolRequestType");var qC=zC;es.ProtocolRequestType=qC;var KC=class KC extends r3.NotificationType0{constructor(t){super(t)}};s(KC,"ProtocolNotificationType0");var jC=KC;es.ProtocolNotificationType0=jC;var WC=class WC extends r3.NotificationType{constructor(t){super(t,r3.ParameterStructures.byName)}};s(WC,"ProtocolNotificationType");var $C=WC;es.ProtocolNotificationType=$C});var w9=ae(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.objectLiteral=sn.typedArray=sn.stringArray=sn.array=sn.func=sn.error=sn.number=sn.string=sn.boolean=void 0;function oJ(e){return e===!0||e===!1}s(oJ,"boolean");sn.boolean=oJ;function VD(e){return typeof e=="string"||e instanceof String}s(VD,"string");sn.string=VD;function aJ(e){return typeof e=="number"||e instanceof Number}s(aJ,"number");sn.number=aJ;function lJ(e){return e instanceof Error}s(lJ,"error");sn.error=lJ;function fJ(e){return typeof e=="function"}s(fJ,"func");sn.func=fJ;function zD(e){return Array.isArray(e)}s(zD,"array");sn.array=zD;function cJ(e){return zD(e)&&e.every(t=>VD(t))}s(cJ,"stringArray");sn.stringArray=cJ;function uJ(e,t){return Array.isArray(e)&&e.every(t)}s(uJ,"typedArray");sn.typedArray=uJ;function dJ(e){return e!==null&&typeof e=="object"}s(dJ,"objectLiteral");sn.objectLiteral=dJ});var GD=ae(I9=>{"use strict";Object.defineProperty(I9,"__esModule",{value:!0});I9.ImplementationRequest=void 0;var KD=Ar(),WD;(function(e){e.method="textDocument/implementation",e.messageDirection=KD.MessageDirection.clientToServer,e.type=new KD.ProtocolRequestType(e.method)})(WD||(I9.ImplementationRequest=WD={}))});var JD=ae(A9=>{"use strict";Object.defineProperty(A9,"__esModule",{value:!0});A9.TypeDefinitionRequest=void 0;var YD=Ar(),XD;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=YD.MessageDirection.clientToServer,e.type=new YD.ProtocolRequestType(e.method)})(XD||(A9.TypeDefinitionRequest=XD={}))});var eL=ae(n3=>{"use strict";Object.defineProperty(n3,"__esModule",{value:!0});n3.DidChangeWorkspaceFoldersNotification=n3.WorkspaceFoldersRequest=void 0;var P9=Ar(),QD;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=P9.MessageDirection.serverToClient,e.type=new P9.ProtocolRequestType0(e.method)})(QD||(n3.WorkspaceFoldersRequest=QD={}));var ZD;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=P9.MessageDirection.clientToServer,e.type=new P9.ProtocolNotificationType(e.method)})(ZD||(n3.DidChangeWorkspaceFoldersNotification=ZD={}))});var nL=ae(R9=>{"use strict";Object.defineProperty(R9,"__esModule",{value:!0});R9.ConfigurationRequest=void 0;var tL=Ar(),rL;(function(e){e.method="workspace/configuration",e.messageDirection=tL.MessageDirection.serverToClient,e.type=new tL.ProtocolRequestType(e.method)})(rL||(R9.ConfigurationRequest=rL={}))});var oL=ae(i3=>{"use strict";Object.defineProperty(i3,"__esModule",{value:!0});i3.ColorPresentationRequest=i3.DocumentColorRequest=void 0;var N9=Ar(),iL;(function(e){e.method="textDocument/documentColor",e.messageDirection=N9.MessageDirection.clientToServer,e.type=new N9.ProtocolRequestType(e.method)})(iL||(i3.DocumentColorRequest=iL={}));var sL;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=N9.MessageDirection.clientToServer,e.type=new N9.ProtocolRequestType(e.method)})(sL||(i3.ColorPresentationRequest=sL={}))});var fL=ae(s3=>{"use strict";Object.defineProperty(s3,"__esModule",{value:!0});s3.FoldingRangeRefreshRequest=s3.FoldingRangeRequest=void 0;var k9=Ar(),aL;(function(e){e.method="textDocument/foldingRange",e.messageDirection=k9.MessageDirection.clientToServer,e.type=new k9.ProtocolRequestType(e.method)})(aL||(s3.FoldingRangeRequest=aL={}));var lL;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=k9.MessageDirection.serverToClient,e.type=new k9.ProtocolRequestType0(e.method)})(lL||(s3.FoldingRangeRefreshRequest=lL={}))});var dL=ae(D9=>{"use strict";Object.defineProperty(D9,"__esModule",{value:!0});D9.DeclarationRequest=void 0;var cL=Ar(),uL;(function(e){e.method="textDocument/declaration",e.messageDirection=cL.MessageDirection.clientToServer,e.type=new cL.ProtocolRequestType(e.method)})(uL||(D9.DeclarationRequest=uL={}))});var gL=ae(L9=>{"use strict";Object.defineProperty(L9,"__esModule",{value:!0});L9.SelectionRangeRequest=void 0;var hL=Ar(),mL;(function(e){e.method="textDocument/selectionRange",e.messageDirection=hL.MessageDirection.clientToServer,e.type=new hL.ProtocolRequestType(e.method)})(mL||(L9.SelectionRangeRequest=mL={}))});var xL=ae(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.WorkDoneProgressCancelNotification=xc.WorkDoneProgressCreateRequest=xc.WorkDoneProgress=void 0;var hJ=ku(),B9=Ar(),pL;(function(e){e.type=new hJ.ProgressType;function t(r){return r===e.type}s(t,"is"),e.is=t})(pL||(xc.WorkDoneProgress=pL={}));var yL;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=B9.MessageDirection.serverToClient,e.type=new B9.ProtocolRequestType(e.method)})(yL||(xc.WorkDoneProgressCreateRequest=yL={}));var vL;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=B9.MessageDirection.clientToServer,e.type=new B9.ProtocolNotificationType(e.method)})(vL||(xc.WorkDoneProgressCancelNotification=vL={}))});var TL=ae(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.CallHierarchyOutgoingCallsRequest=_c.CallHierarchyIncomingCallsRequest=_c.CallHierarchyPrepareRequest=void 0;var o3=Ar(),_L;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=o3.MessageDirection.clientToServer,e.type=new o3.ProtocolRequestType(e.method)})(_L||(_c.CallHierarchyPrepareRequest=_L={}));var bL;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=o3.MessageDirection.clientToServer,e.type=new o3.ProtocolRequestType(e.method)})(bL||(_c.CallHierarchyIncomingCallsRequest=bL={}));var CL;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=o3.MessageDirection.clientToServer,e.type=new o3.ProtocolRequestType(e.method)})(CL||(_c.CallHierarchyOutgoingCallsRequest=CL={}))});var PL=ae(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.SemanticTokensRefreshRequest=ts.SemanticTokensRangeRequest=ts.SemanticTokensDeltaRequest=ts.SemanticTokensRequest=ts.SemanticTokensRegistrationType=ts.TokenFormat=void 0;var ql=Ar(),EL;(function(e){e.Relative="relative"})(EL||(ts.TokenFormat=EL={}));var Ph;(function(e){e.method="textDocument/semanticTokens",e.type=new ql.RegistrationType(e.method)})(Ph||(ts.SemanticTokensRegistrationType=Ph={}));var SL;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=ql.MessageDirection.clientToServer,e.type=new ql.ProtocolRequestType(e.method),e.registrationMethod=Ph.method})(SL||(ts.SemanticTokensRequest=SL={}));var wL;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=ql.MessageDirection.clientToServer,e.type=new ql.ProtocolRequestType(e.method),e.registrationMethod=Ph.method})(wL||(ts.SemanticTokensDeltaRequest=wL={}));var IL;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=ql.MessageDirection.clientToServer,e.type=new ql.ProtocolRequestType(e.method),e.registrationMethod=Ph.method})(IL||(ts.SemanticTokensRangeRequest=IL={}));var AL;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=ql.MessageDirection.serverToClient,e.type=new ql.ProtocolRequestType0(e.method)})(AL||(ts.SemanticTokensRefreshRequest=AL={}))});var kL=ae(O9=>{"use strict";Object.defineProperty(O9,"__esModule",{value:!0});O9.ShowDocumentRequest=void 0;var RL=Ar(),NL;(function(e){e.method="window/showDocument",e.messageDirection=RL.MessageDirection.serverToClient,e.type=new RL.ProtocolRequestType(e.method)})(NL||(O9.ShowDocumentRequest=NL={}))});var BL=ae(F9=>{"use strict";Object.defineProperty(F9,"__esModule",{value:!0});F9.LinkedEditingRangeRequest=void 0;var DL=Ar(),LL;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=DL.MessageDirection.clientToServer,e.type=new DL.ProtocolRequestType(e.method)})(LL||(F9.LinkedEditingRangeRequest=LL={}))});var HL=ae(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.WillDeleteFilesRequest=bi.DidDeleteFilesNotification=bi.DidRenameFilesNotification=bi.WillRenameFilesRequest=bi.DidCreateFilesNotification=bi.WillCreateFilesRequest=bi.FileOperationPatternKind=void 0;var to=Ar(),OL;(function(e){e.file="file",e.folder="folder"})(OL||(bi.FileOperationPatternKind=OL={}));var FL;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=to.MessageDirection.clientToServer,e.type=new to.ProtocolRequestType(e.method)})(FL||(bi.WillCreateFilesRequest=FL={}));var ML;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=to.MessageDirection.clientToServer,e.type=new to.ProtocolNotificationType(e.method)})(ML||(bi.DidCreateFilesNotification=ML={}));var UL;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=to.MessageDirection.clientToServer,e.type=new to.ProtocolRequestType(e.method)})(UL||(bi.WillRenameFilesRequest=UL={}));var qL;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=to.MessageDirection.clientToServer,e.type=new to.ProtocolNotificationType(e.method)})(qL||(bi.DidRenameFilesNotification=qL={}));var jL;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=to.MessageDirection.clientToServer,e.type=new to.ProtocolNotificationType(e.method)})(jL||(bi.DidDeleteFilesNotification=jL={}));var $L;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=to.MessageDirection.clientToServer,e.type=new to.ProtocolRequestType(e.method)})($L||(bi.WillDeleteFilesRequest=$L={}))});var GL=ae(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.MonikerRequest=bc.MonikerKind=bc.UniquenessLevel=void 0;var VL=Ar(),zL;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(zL||(bc.UniquenessLevel=zL={}));var KL;(function(e){e.$import="import",e.$export="export",e.local="local"})(KL||(bc.MonikerKind=KL={}));var WL;(function(e){e.method="textDocument/moniker",e.messageDirection=VL.MessageDirection.clientToServer,e.type=new VL.ProtocolRequestType(e.method)})(WL||(bc.MonikerRequest=WL={}))});var QL=ae(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.TypeHierarchySubtypesRequest=Cc.TypeHierarchySupertypesRequest=Cc.TypeHierarchyPrepareRequest=void 0;var a3=Ar(),YL;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=a3.MessageDirection.clientToServer,e.type=new a3.ProtocolRequestType(e.method)})(YL||(Cc.TypeHierarchyPrepareRequest=YL={}));var XL;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=a3.MessageDirection.clientToServer,e.type=new a3.ProtocolRequestType(e.method)})(XL||(Cc.TypeHierarchySupertypesRequest=XL={}));var JL;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=a3.MessageDirection.clientToServer,e.type=new a3.ProtocolRequestType(e.method)})(JL||(Cc.TypeHierarchySubtypesRequest=JL={}))});var tB=ae(l3=>{"use strict";Object.defineProperty(l3,"__esModule",{value:!0});l3.InlineValueRefreshRequest=l3.InlineValueRequest=void 0;var M9=Ar(),ZL;(function(e){e.method="textDocument/inlineValue",e.messageDirection=M9.MessageDirection.clientToServer,e.type=new M9.ProtocolRequestType(e.method)})(ZL||(l3.InlineValueRequest=ZL={}));var eB;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=M9.MessageDirection.serverToClient,e.type=new M9.ProtocolRequestType0(e.method)})(eB||(l3.InlineValueRefreshRequest=eB={}))});var sB=ae(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.InlayHintRefreshRequest=Tc.InlayHintResolveRequest=Tc.InlayHintRequest=void 0;var f3=Ar(),rB;(function(e){e.method="textDocument/inlayHint",e.messageDirection=f3.MessageDirection.clientToServer,e.type=new f3.ProtocolRequestType(e.method)})(rB||(Tc.InlayHintRequest=rB={}));var nB;(function(e){e.method="inlayHint/resolve",e.messageDirection=f3.MessageDirection.clientToServer,e.type=new f3.ProtocolRequestType(e.method)})(nB||(Tc.InlayHintResolveRequest=nB={}));var iB;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=f3.MessageDirection.serverToClient,e.type=new f3.ProtocolRequestType0(e.method)})(iB||(Tc.InlayHintRefreshRequest=iB={}))});var dB=ae(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.DiagnosticRefreshRequest=ro.WorkspaceDiagnosticRequest=ro.DocumentDiagnosticRequest=ro.DocumentDiagnosticReportKind=ro.DiagnosticServerCancellationData=void 0;var uB=ku(),mJ=w9(),c3=Ar(),oB;(function(e){function t(r){let n=r;return n&&mJ.boolean(n.retriggerRequest)}s(t,"is"),e.is=t})(oB||(ro.DiagnosticServerCancellationData=oB={}));var aB;(function(e){e.Full="full",e.Unchanged="unchanged"})(aB||(ro.DocumentDiagnosticReportKind=aB={}));var lB;(function(e){e.method="textDocument/diagnostic",e.messageDirection=c3.MessageDirection.clientToServer,e.type=new c3.ProtocolRequestType(e.method),e.partialResult=new uB.ProgressType})(lB||(ro.DocumentDiagnosticRequest=lB={}));var fB;(function(e){e.method="workspace/diagnostic",e.messageDirection=c3.MessageDirection.clientToServer,e.type=new c3.ProtocolRequestType(e.method),e.partialResult=new uB.ProgressType})(fB||(ro.WorkspaceDiagnosticRequest=fB={}));var cB;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=c3.MessageDirection.serverToClient,e.type=new c3.ProtocolRequestType0(e.method)})(cB||(ro.DiagnosticRefreshRequest=cB={}))});var xB=ae(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.DidCloseNotebookDocumentNotification=qr.DidSaveNotebookDocumentNotification=qr.DidChangeNotebookDocumentNotification=qr.NotebookCellArrayChange=qr.DidOpenNotebookDocumentNotification=qr.NotebookDocumentSyncRegistrationType=qr.NotebookDocument=qr.NotebookCell=qr.ExecutionSummary=qr.NotebookCellKind=void 0;var Rh=S9(),zo=w9(),ka=Ar(),GC;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}s(t,"is"),e.is=t})(GC||(qr.NotebookCellKind=GC={}));var YC;(function(e){function t(i,o){let a={executionOrder:i};return(o===!0||o===!1)&&(a.success=o),a}s(t,"create"),e.create=t;function r(i){let o=i;return zo.objectLiteral(o)&&Rh.uinteger.is(o.executionOrder)&&(o.success===void 0||zo.boolean(o.success))}s(r,"is"),e.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}s(n,"equals"),e.equals=n})(YC||(qr.ExecutionSummary=YC={}));var U9;(function(e){function t(o,a){return{kind:o,document:a}}s(t,"create"),e.create=t;function r(o){let a=o;return zo.objectLiteral(a)&&GC.is(a.kind)&&Rh.DocumentUri.is(a.document)&&(a.metadata===void 0||zo.objectLiteral(a.metadata))}s(r,"is"),e.is=r;function n(o,a){let l=new Set;return o.document!==a.document&&l.add("document"),o.kind!==a.kind&&l.add("kind"),o.executionSummary!==a.executionSummary&&l.add("executionSummary"),(o.metadata!==void 0||a.metadata!==void 0)&&!i(o.metadata,a.metadata)&&l.add("metadata"),(o.executionSummary!==void 0||a.executionSummary!==void 0)&&!YC.equals(o.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}s(n,"diff"),e.diff=n;function i(o,a){if(o===a)return!0;if(o==null||a===null||a===void 0||typeof o!=typeof a||typeof o!="object")return!1;let l=Array.isArray(o),f=Array.isArray(a);if(l!==f)return!1;if(l&&f){if(o.length!==a.length)return!1;for(let c=0;c<o.length;c++)if(!i(o[c],a[c]))return!1}if(zo.objectLiteral(o)&&zo.objectLiteral(a)){let c=Object.keys(o),u=Object.keys(a);if(c.length!==u.length||(c.sort(),u.sort(),!i(c,u)))return!1;for(let d=0;d<c.length;d++){let p=c[d];if(!i(o[p],a[p]))return!1}}return!0}s(i,"equalsMetadata")})(U9||(qr.NotebookCell=U9={}));var hB;(function(e){function t(n,i,o,a){return{uri:n,notebookType:i,version:o,cells:a}}s(t,"create"),e.create=t;function r(n){let i=n;return zo.objectLiteral(i)&&zo.string(i.uri)&&Rh.integer.is(i.version)&&zo.typedArray(i.cells,U9.is)}s(r,"is"),e.is=r})(hB||(qr.NotebookDocument=hB={}));var u3;(function(e){e.method="notebookDocument/sync",e.messageDirection=ka.MessageDirection.clientToServer,e.type=new ka.RegistrationType(e.method)})(u3||(qr.NotebookDocumentSyncRegistrationType=u3={}));var mB;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=ka.MessageDirection.clientToServer,e.type=new ka.ProtocolNotificationType(e.method),e.registrationMethod=u3.method})(mB||(qr.DidOpenNotebookDocumentNotification=mB={}));var gB;(function(e){function t(n){let i=n;return zo.objectLiteral(i)&&Rh.uinteger.is(i.start)&&Rh.uinteger.is(i.deleteCount)&&(i.cells===void 0||zo.typedArray(i.cells,U9.is))}s(t,"is"),e.is=t;function r(n,i,o){let a={start:n,deleteCount:i};return o!==void 0&&(a.cells=o),a}s(r,"create"),e.create=r})(gB||(qr.NotebookCellArrayChange=gB={}));var pB;(function(e){e.method="notebookDocument/didChange",e.messageDirection=ka.MessageDirection.clientToServer,e.type=new ka.ProtocolNotificationType(e.method),e.registrationMethod=u3.method})(pB||(qr.DidChangeNotebookDocumentNotification=pB={}));var yB;(function(e){e.method="notebookDocument/didSave",e.messageDirection=ka.MessageDirection.clientToServer,e.type=new ka.ProtocolNotificationType(e.method),e.registrationMethod=u3.method})(yB||(qr.DidSaveNotebookDocumentNotification=yB={}));var vB;(function(e){e.method="notebookDocument/didClose",e.messageDirection=ka.MessageDirection.clientToServer,e.type=new ka.ProtocolNotificationType(e.method),e.registrationMethod=u3.method})(vB||(qr.DidCloseNotebookDocumentNotification=vB={}))});var CB=ae(q9=>{"use strict";Object.defineProperty(q9,"__esModule",{value:!0});q9.InlineCompletionRequest=void 0;var _B=Ar(),bB;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=_B.MessageDirection.clientToServer,e.type=new _B.ProtocolRequestType(e.method)})(bB||(q9.InlineCompletionRequest=bB={}))});var BO=ae(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.WorkspaceSymbolRequest=J.CodeActionResolveRequest=J.CodeActionRequest=J.DocumentSymbolRequest=J.DocumentHighlightRequest=J.ReferencesRequest=J.DefinitionRequest=J.SignatureHelpRequest=J.SignatureHelpTriggerKind=J.HoverRequest=J.CompletionResolveRequest=J.CompletionRequest=J.CompletionTriggerKind=J.PublishDiagnosticsNotification=J.WatchKind=J.RelativePattern=J.FileChangeType=J.DidChangeWatchedFilesNotification=J.WillSaveTextDocumentWaitUntilRequest=J.WillSaveTextDocumentNotification=J.TextDocumentSaveReason=J.DidSaveTextDocumentNotification=J.DidCloseTextDocumentNotification=J.DidChangeTextDocumentNotification=J.TextDocumentContentChangeEvent=J.DidOpenTextDocumentNotification=J.TextDocumentSyncKind=J.TelemetryEventNotification=J.LogMessageNotification=J.ShowMessageRequest=J.ShowMessageNotification=J.MessageType=J.DidChangeConfigurationNotification=J.ExitNotification=J.ShutdownRequest=J.InitializedNotification=J.InitializeErrorCodes=J.InitializeRequest=J.WorkDoneProgressOptions=J.TextDocumentRegistrationOptions=J.StaticRegistrationOptions=J.PositionEncodingKind=J.FailureHandlingKind=J.ResourceOperationKind=J.UnregistrationRequest=J.RegistrationRequest=J.DocumentSelector=J.NotebookCellTextDocumentFilter=J.NotebookDocumentFilter=J.TextDocumentFilter=void 0;J.MonikerRequest=J.MonikerKind=J.UniquenessLevel=J.WillDeleteFilesRequest=J.DidDeleteFilesNotification=J.WillRenameFilesRequest=J.DidRenameFilesNotification=J.WillCreateFilesRequest=J.DidCreateFilesNotification=J.FileOperationPatternKind=J.LinkedEditingRangeRequest=J.ShowDocumentRequest=J.SemanticTokensRegistrationType=J.SemanticTokensRefreshRequest=J.SemanticTokensRangeRequest=J.SemanticTokensDeltaRequest=J.SemanticTokensRequest=J.TokenFormat=J.CallHierarchyPrepareRequest=J.CallHierarchyOutgoingCallsRequest=J.CallHierarchyIncomingCallsRequest=J.WorkDoneProgressCancelNotification=J.WorkDoneProgressCreateRequest=J.WorkDoneProgress=J.SelectionRangeRequest=J.DeclarationRequest=J.FoldingRangeRefreshRequest=J.FoldingRangeRequest=J.ColorPresentationRequest=J.DocumentColorRequest=J.ConfigurationRequest=J.DidChangeWorkspaceFoldersNotification=J.WorkspaceFoldersRequest=J.TypeDefinitionRequest=J.ImplementationRequest=J.ApplyWorkspaceEditRequest=J.ExecuteCommandRequest=J.PrepareRenameRequest=J.RenameRequest=J.PrepareSupportDefaultBehavior=J.DocumentOnTypeFormattingRequest=J.DocumentRangesFormattingRequest=J.DocumentRangeFormattingRequest=J.DocumentFormattingRequest=J.DocumentLinkResolveRequest=J.DocumentLinkRequest=J.CodeLensRefreshRequest=J.CodeLensResolveRequest=J.CodeLensRequest=J.WorkspaceSymbolResolveRequest=void 0;J.InlineCompletionRequest=J.DidCloseNotebookDocumentNotification=J.DidSaveNotebookDocumentNotification=J.DidChangeNotebookDocumentNotification=J.NotebookCellArrayChange=J.DidOpenNotebookDocumentNotification=J.NotebookDocumentSyncRegistrationType=J.NotebookDocument=J.NotebookCell=J.ExecutionSummary=J.NotebookCellKind=J.DiagnosticRefreshRequest=J.WorkspaceDiagnosticRequest=J.DocumentDiagnosticRequest=J.DocumentDiagnosticReportKind=J.DiagnosticServerCancellationData=J.InlayHintRefreshRequest=J.InlayHintResolveRequest=J.InlayHintRequest=J.InlineValueRefreshRequest=J.InlineValueRequest=J.TypeHierarchySupertypesRequest=J.TypeHierarchySubtypesRequest=J.TypeHierarchyPrepareRequest=void 0;var at=Ar(),TB=S9(),In=w9(),gJ=GD();Object.defineProperty(J,"ImplementationRequest",{enumerable:!0,get:function(){return gJ.ImplementationRequest}});var pJ=JD();Object.defineProperty(J,"TypeDefinitionRequest",{enumerable:!0,get:function(){return pJ.TypeDefinitionRequest}});var NO=eL();Object.defineProperty(J,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return NO.WorkspaceFoldersRequest}});Object.defineProperty(J,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return NO.DidChangeWorkspaceFoldersNotification}});var yJ=nL();Object.defineProperty(J,"ConfigurationRequest",{enumerable:!0,get:function(){return yJ.ConfigurationRequest}});var kO=oL();Object.defineProperty(J,"DocumentColorRequest",{enumerable:!0,get:function(){return kO.DocumentColorRequest}});Object.defineProperty(J,"ColorPresentationRequest",{enumerable:!0,get:function(){return kO.ColorPresentationRequest}});var DO=fL();Object.defineProperty(J,"FoldingRangeRequest",{enumerable:!0,get:function(){return DO.FoldingRangeRequest}});Object.defineProperty(J,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return DO.FoldingRangeRefreshRequest}});var vJ=dL();Object.defineProperty(J,"DeclarationRequest",{enumerable:!0,get:function(){return vJ.DeclarationRequest}});var xJ=gL();Object.defineProperty(J,"SelectionRangeRequest",{enumerable:!0,get:function(){return xJ.SelectionRangeRequest}});var eT=xL();Object.defineProperty(J,"WorkDoneProgress",{enumerable:!0,get:function(){return eT.WorkDoneProgress}});Object.defineProperty(J,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return eT.WorkDoneProgressCreateRequest}});Object.defineProperty(J,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return eT.WorkDoneProgressCancelNotification}});var tT=TL();Object.defineProperty(J,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return tT.CallHierarchyIncomingCallsRequest}});Object.defineProperty(J,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return tT.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(J,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return tT.CallHierarchyPrepareRequest}});var d3=PL();Object.defineProperty(J,"TokenFormat",{enumerable:!0,get:function(){return d3.TokenFormat}});Object.defineProperty(J,"SemanticTokensRequest",{enumerable:!0,get:function(){return d3.SemanticTokensRequest}});Object.defineProperty(J,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return d3.SemanticTokensDeltaRequest}});Object.defineProperty(J,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return d3.SemanticTokensRangeRequest}});Object.defineProperty(J,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return d3.SemanticTokensRefreshRequest}});Object.defineProperty(J,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return d3.SemanticTokensRegistrationType}});var _J=kL();Object.defineProperty(J,"ShowDocumentRequest",{enumerable:!0,get:function(){return _J.ShowDocumentRequest}});var bJ=BL();Object.defineProperty(J,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return bJ.LinkedEditingRangeRequest}});var Du=HL();Object.defineProperty(J,"FileOperationPatternKind",{enumerable:!0,get:function(){return Du.FileOperationPatternKind}});Object.defineProperty(J,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Du.DidCreateFilesNotification}});Object.defineProperty(J,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Du.WillCreateFilesRequest}});Object.defineProperty(J,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Du.DidRenameFilesNotification}});Object.defineProperty(J,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Du.WillRenameFilesRequest}});Object.defineProperty(J,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Du.DidDeleteFilesNotification}});Object.defineProperty(J,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Du.WillDeleteFilesRequest}});var rT=GL();Object.defineProperty(J,"UniquenessLevel",{enumerable:!0,get:function(){return rT.UniquenessLevel}});Object.defineProperty(J,"MonikerKind",{enumerable:!0,get:function(){return rT.MonikerKind}});Object.defineProperty(J,"MonikerRequest",{enumerable:!0,get:function(){return rT.MonikerRequest}});var nT=QL();Object.defineProperty(J,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return nT.TypeHierarchyPrepareRequest}});Object.defineProperty(J,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return nT.TypeHierarchySubtypesRequest}});Object.defineProperty(J,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return nT.TypeHierarchySupertypesRequest}});var LO=tB();Object.defineProperty(J,"InlineValueRequest",{enumerable:!0,get:function(){return LO.InlineValueRequest}});Object.defineProperty(J,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return LO.InlineValueRefreshRequest}});var iT=sB();Object.defineProperty(J,"InlayHintRequest",{enumerable:!0,get:function(){return iT.InlayHintRequest}});Object.defineProperty(J,"InlayHintResolveRequest",{enumerable:!0,get:function(){return iT.InlayHintResolveRequest}});Object.defineProperty(J,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return iT.InlayHintRefreshRequest}});var Nh=dB();Object.defineProperty(J,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Nh.DiagnosticServerCancellationData}});Object.defineProperty(J,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Nh.DocumentDiagnosticReportKind}});Object.defineProperty(J,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Nh.DocumentDiagnosticRequest}});Object.defineProperty(J,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Nh.WorkspaceDiagnosticRequest}});Object.defineProperty(J,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Nh.DiagnosticRefreshRequest}});var Da=xB();Object.defineProperty(J,"NotebookCellKind",{enumerable:!0,get:function(){return Da.NotebookCellKind}});Object.defineProperty(J,"ExecutionSummary",{enumerable:!0,get:function(){return Da.ExecutionSummary}});Object.defineProperty(J,"NotebookCell",{enumerable:!0,get:function(){return Da.NotebookCell}});Object.defineProperty(J,"NotebookDocument",{enumerable:!0,get:function(){return Da.NotebookDocument}});Object.defineProperty(J,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Da.NotebookDocumentSyncRegistrationType}});Object.defineProperty(J,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Da.DidOpenNotebookDocumentNotification}});Object.defineProperty(J,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Da.NotebookCellArrayChange}});Object.defineProperty(J,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Da.DidChangeNotebookDocumentNotification}});Object.defineProperty(J,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Da.DidSaveNotebookDocumentNotification}});Object.defineProperty(J,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Da.DidCloseNotebookDocumentNotification}});var CJ=CB();Object.defineProperty(J,"InlineCompletionRequest",{enumerable:!0,get:function(){return CJ.InlineCompletionRequest}});var XC;(function(e){function t(r){let n=r;return In.string(n)||In.string(n.language)||In.string(n.scheme)||In.string(n.pattern)}s(t,"is"),e.is=t})(XC||(J.TextDocumentFilter=XC={}));var JC;(function(e){function t(r){let n=r;return In.objectLiteral(n)&&(In.string(n.notebookType)||In.string(n.scheme)||In.string(n.pattern))}s(t,"is"),e.is=t})(JC||(J.NotebookDocumentFilter=JC={}));var QC;(function(e){function t(r){let n=r;return In.objectLiteral(n)&&(In.string(n.notebook)||JC.is(n.notebook))&&(n.language===void 0||In.string(n.language))}s(t,"is"),e.is=t})(QC||(J.NotebookCellTextDocumentFilter=QC={}));var ZC;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!In.string(n)&&!XC.is(n)&&!QC.is(n))return!1;return!0}s(t,"is"),e.is=t})(ZC||(J.DocumentSelector=ZC={}));var EB;(function(e){e.method="client/registerCapability",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType(e.method)})(EB||(J.RegistrationRequest=EB={}));var SB;(function(e){e.method="client/unregisterCapability",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType(e.method)})(SB||(J.UnregistrationRequest=SB={}));var wB;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(wB||(J.ResourceOperationKind=wB={}));var IB;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(IB||(J.FailureHandlingKind=IB={}));var AB;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(AB||(J.PositionEncodingKind=AB={}));var PB;(function(e){function t(r){let n=r;return n&&In.string(n.id)&&n.id.length>0}s(t,"hasId"),e.hasId=t})(PB||(J.StaticRegistrationOptions=PB={}));var RB;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||ZC.is(n.documentSelector))}s(t,"is"),e.is=t})(RB||(J.TextDocumentRegistrationOptions=RB={}));var NB;(function(e){function t(n){let i=n;return In.objectLiteral(i)&&(i.workDoneProgress===void 0||In.boolean(i.workDoneProgress))}s(t,"is"),e.is=t;function r(n){let i=n;return i&&In.boolean(i.workDoneProgress)}s(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(NB||(J.WorkDoneProgressOptions=NB={}));var kB;(function(e){e.method="initialize",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(kB||(J.InitializeRequest=kB={}));var DB;(function(e){e.unknownProtocolVersion=1})(DB||(J.InitializeErrorCodes=DB={}));var LB;(function(e){e.method="initialized",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(LB||(J.InitializedNotification=LB={}));var BB;(function(e){e.method="shutdown",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType0(e.method)})(BB||(J.ShutdownRequest=BB={}));var OB;(function(e){e.method="exit",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType0(e.method)})(OB||(J.ExitNotification=OB={}));var FB;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(FB||(J.DidChangeConfigurationNotification=FB={}));var MB;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(MB||(J.MessageType=MB={}));var UB;(function(e){e.method="window/showMessage",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolNotificationType(e.method)})(UB||(J.ShowMessageNotification=UB={}));var qB;(function(e){e.method="window/showMessageRequest",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType(e.method)})(qB||(J.ShowMessageRequest=qB={}));var jB;(function(e){e.method="window/logMessage",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolNotificationType(e.method)})(jB||(J.LogMessageNotification=jB={}));var $B;(function(e){e.method="telemetry/event",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolNotificationType(e.method)})($B||(J.TelemetryEventNotification=$B={}));var HB;(function(e){e.None=0,e.Full=1,e.Incremental=2})(HB||(J.TextDocumentSyncKind=HB={}));var VB;(function(e){e.method="textDocument/didOpen",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(VB||(J.DidOpenTextDocumentNotification=VB={}));var zB;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}s(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}s(r,"isFull"),e.isFull=r})(zB||(J.TextDocumentContentChangeEvent=zB={}));var KB;(function(e){e.method="textDocument/didChange",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(KB||(J.DidChangeTextDocumentNotification=KB={}));var WB;(function(e){e.method="textDocument/didClose",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(WB||(J.DidCloseTextDocumentNotification=WB={}));var GB;(function(e){e.method="textDocument/didSave",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(GB||(J.DidSaveTextDocumentNotification=GB={}));var YB;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(YB||(J.TextDocumentSaveReason=YB={}));var XB;(function(e){e.method="textDocument/willSave",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(XB||(J.WillSaveTextDocumentNotification=XB={}));var JB;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(JB||(J.WillSaveTextDocumentWaitUntilRequest=JB={}));var QB;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(QB||(J.DidChangeWatchedFilesNotification=QB={}));var ZB;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(ZB||(J.FileChangeType=ZB={}));var eO;(function(e){function t(r){let n=r;return In.objectLiteral(n)&&(TB.URI.is(n.baseUri)||TB.WorkspaceFolder.is(n.baseUri))&&In.string(n.pattern)}s(t,"is"),e.is=t})(eO||(J.RelativePattern=eO={}));var tO;(function(e){e.Create=1,e.Change=2,e.Delete=4})(tO||(J.WatchKind=tO={}));var rO;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolNotificationType(e.method)})(rO||(J.PublishDiagnosticsNotification=rO={}));var nO;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(nO||(J.CompletionTriggerKind=nO={}));var iO;(function(e){e.method="textDocument/completion",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(iO||(J.CompletionRequest=iO={}));var sO;(function(e){e.method="completionItem/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(sO||(J.CompletionResolveRequest=sO={}));var oO;(function(e){e.method="textDocument/hover",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(oO||(J.HoverRequest=oO={}));var aO;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(aO||(J.SignatureHelpTriggerKind=aO={}));var lO;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(lO||(J.SignatureHelpRequest=lO={}));var fO;(function(e){e.method="textDocument/definition",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(fO||(J.DefinitionRequest=fO={}));var cO;(function(e){e.method="textDocument/references",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(cO||(J.ReferencesRequest=cO={}));var uO;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(uO||(J.DocumentHighlightRequest=uO={}));var dO;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(dO||(J.DocumentSymbolRequest=dO={}));var hO;(function(e){e.method="textDocument/codeAction",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(hO||(J.CodeActionRequest=hO={}));var mO;(function(e){e.method="codeAction/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(mO||(J.CodeActionResolveRequest=mO={}));var gO;(function(e){e.method="workspace/symbol",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(gO||(J.WorkspaceSymbolRequest=gO={}));var pO;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(pO||(J.WorkspaceSymbolResolveRequest=pO={}));var yO;(function(e){e.method="textDocument/codeLens",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(yO||(J.CodeLensRequest=yO={}));var vO;(function(e){e.method="codeLens/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(vO||(J.CodeLensResolveRequest=vO={}));var xO;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType0(e.method)})(xO||(J.CodeLensRefreshRequest=xO={}));var _O;(function(e){e.method="textDocument/documentLink",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(_O||(J.DocumentLinkRequest=_O={}));var bO;(function(e){e.method="documentLink/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(bO||(J.DocumentLinkResolveRequest=bO={}));var CO;(function(e){e.method="textDocument/formatting",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(CO||(J.DocumentFormattingRequest=CO={}));var TO;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(TO||(J.DocumentRangeFormattingRequest=TO={}));var EO;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(EO||(J.DocumentRangesFormattingRequest=EO={}));var SO;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(SO||(J.DocumentOnTypeFormattingRequest=SO={}));var wO;(function(e){e.Identifier=1})(wO||(J.PrepareSupportDefaultBehavior=wO={}));var IO;(function(e){e.method="textDocument/rename",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(IO||(J.RenameRequest=IO={}));var AO;(function(e){e.method="textDocument/prepareRename",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(AO||(J.PrepareRenameRequest=AO={}));var PO;(function(e){e.method="workspace/executeCommand",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(PO||(J.ExecuteCommandRequest=PO={}));var RO;(function(e){e.method="workspace/applyEdit",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType("workspace/applyEdit")})(RO||(J.ApplyWorkspaceEditRequest=RO={}))});var FO=ae(j9=>{"use strict";Object.defineProperty(j9,"__esModule",{value:!0});j9.createProtocolConnection=void 0;var OO=ku();function TJ(e,t,r,n){return OO.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,OO.createMessageConnection)(e,t,r,n)}s(TJ,"createProtocolConnection");j9.createProtocolConnection=TJ});var UO=ae(rs=>{"use strict";var EJ=rs&&rs.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$9=rs&&rs.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EJ(t,e,r)};Object.defineProperty(rs,"__esModule",{value:!0});rs.LSPErrorCodes=rs.createProtocolConnection=void 0;$9(ku(),rs);$9(S9(),rs);$9(Ar(),rs);$9(BO(),rs);var SJ=FO();Object.defineProperty(rs,"createProtocolConnection",{enumerable:!0,get:function(){return SJ.createProtocolConnection}});var MO;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(MO||(rs.LSPErrorCodes=MO={}))});var jO=ae(La=>{"use strict";var wJ=La&&La.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qO=La&&La.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wJ(t,e,r)};Object.defineProperty(La,"__esModule",{value:!0});La.createProtocolConnection=void 0;var IJ=FC();qO(FC(),La);qO(UO(),La);function AJ(e,t,r,n){return(0,IJ.createMessageConnection)(e,t,r,n)}s(AJ,"createProtocolConnection");La.createProtocolConnection=AJ});var $O=ae((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=s((a,l)=>{throw l},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(a){return Module.locateFile?Module.locateFile(a,scriptDirectory):scriptDirectory+a}s(locateFile,"locateFile");function logExceptionOnExit(a){a instanceof ExitStatus||err("exiting due to exception: "+a)}if(s(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=s((a,l)=>(a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFileSync(a,l?void 0:"utf8")),"read_"),readBinary=s(a=>{var l=read_(a,!0);return l.buffer||(l=new Uint8Array(l)),l},"readBinary"),readAsync=s((a,l,f)=>{a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFile(a,function(c,u){c?f(c):l(u.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=s((a,l)=>{if(keepRuntimeAlive())throw process.exitCode=a,l;logExceptionOnExit(l),process.exit(a)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=s(a=>{var l=new XMLHttpRequest;return l.open("GET",a,!1),l.send(null),l.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=s(a=>{var l=new XMLHttpRequest;return l.open("GET",a,!1),l.responseType="arraybuffer",l.send(null),new Uint8Array(l.response)},"readBinary")),readAsync=s((a,l,f)=>{var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?l(c.response):f()},c.onerror=f,c.send(null)},"readAsync"),setWindowTitle=s(a=>document.title=a,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(a,l,f){for(var c=l+f,u=l;a[u]&&!(u>=c);)++u;if(u-l>16&&a.buffer&&UTF8Decoder)return UTF8Decoder.decode(a.subarray(l,u));for(var d="";l<u;){var p=a[l++];if(128&p){var g=63&a[l++];if((224&p)!=192){var y=63&a[l++];if((p=(240&p)==224?(15&p)<<12|g<<6|y:(7&p)<<18|g<<12|y<<6|63&a[l++])<65536)d+=String.fromCharCode(p);else{var _=p-65536;d+=String.fromCharCode(55296|_>>10,56320|1023&_)}}else d+=String.fromCharCode((31&p)<<6|g)}else d+=String.fromCharCode(p)}return d}s(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(a,l){return a?UTF8ArrayToString(HEAPU8,a,l):""}s(UTF8ToString,"UTF8ToString");function stringToUTF8Array(a,l,f,c){if(!(c>0))return 0;for(var u=f,d=f+c-1,p=0;p<a.length;++p){var g=a.charCodeAt(p);if(g>=55296&&g<=57343&&(g=65536+((1023&g)<<10)|1023&a.charCodeAt(++p)),g<=127){if(f>=d)break;l[f++]=g}else if(g<=2047){if(f+1>=d)break;l[f++]=192|g>>6,l[f++]=128|63&g}else if(g<=65535){if(f+2>=d)break;l[f++]=224|g>>12,l[f++]=128|g>>6&63,l[f++]=128|63&g}else{if(f+3>=d)break;l[f++]=240|g>>18,l[f++]=128|g>>12&63,l[f++]=128|g>>6&63,l[f++]=128|63&g}}return l[f]=0,f-u}s(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(a,l,f){return stringToUTF8Array(a,HEAPU8,l,f)}s(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(a){for(var l=0,f=0;f<a.length;++f){var c=a.charCodeAt(f);c<=127?l++:c<=2047?l+=2:c>=55296&&c<=57343?(l+=4,++f):l+=3}return l}s(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(a){buffer=a,Module.HEAP8=HEAP8=new Int8Array(a),Module.HEAP16=HEAP16=new Int16Array(a),Module.HEAP32=HEAP32=new Int32Array(a),Module.HEAPU8=HEAPU8=new Uint8Array(a),Module.HEAPU16=HEAPU16=new Uint16Array(a),Module.HEAPU32=HEAPU32=new Uint32Array(a),Module.HEAPF32=HEAPF32=new Float32Array(a),Module.HEAPF64=HEAPF64=new Float64Array(a)}s(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}s(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}s(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}s(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}s(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}s(postRun,"postRun");function addOnPreRun(a){__ATPRERUN__.unshift(a)}s(addOnPreRun,"addOnPreRun");function addOnInit(a){__ATINIT__.unshift(a)}s(addOnInit,"addOnInit");function addOnPostRun(a){__ATPOSTRUN__.unshift(a)}s(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(a){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}s(addRunDependency,"addRunDependency");function removeRunDependency(a){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var l=dependenciesFulfilled;dependenciesFulfilled=null,l()}}s(removeRunDependency,"removeRunDependency");function abort(a){throw Module.onAbort&&Module.onAbort(a),err(a="Aborted("+a+")"),ABORT=!0,EXITSTATUS=1,a+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(a)}s(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(a){return a.startsWith(dataURIPrefix)}s(isDataURI,"isDataURI");function isFileURI(a){return a.startsWith("file://")}s(isFileURI,"isFileURI");function getBinary(a){try{if(a==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(a);throw"both async and sync fetching of the wasm failed"}catch(l){abort(l)}}s(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return a.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(a,l){readAsync(wasmBinaryFile,function(f){a(new Uint8Array(f))},l)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}s(getBinaryPromise,"getBinaryPromise");function createWasm(){var a={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function l(u,d){var p=u.exports;p=relocateExports(p,1024);var g=getDylinkMetadata(d);g.neededDynlibs&&(dynamicLibraries=g.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(p,"main"),Module.asm=p,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}s(l,"t");function f(u){l(u.instance,u.module)}s(f,"r");function c(u){return getBinaryPromise().then(function(d){return WebAssembly.instantiate(d,a)}).then(function(d){return d}).then(u,function(d){err("failed to asynchronously prepare wasm: "+d),abort(d)})}if(s(c,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(a,l)}catch(u){return err("Module.instantiateWasm callback failed with error: "+u),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?c(f):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(u){return WebAssembly.instantiateStreaming(u,a).then(f,function(d){return err("wasm streaming compile failed: "+d),err("falling back to ArrayBuffer instantiation"),c(f)})}),{}}s(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(a){this.name="ExitStatus",this.message="Program terminated with exit("+a+")",this.status=a}s(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(a,l){var f=GOT[l];return f||(f=GOT[l]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(l)||(f.required=!0),f}};function callRuntimeCallbacks(a){for(;a.length>0;)a.shift()(Module)}s(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(a){var l=0,f=0;function c(){for(var X=0,te=1;;){var Ce=a[l++];if(X+=(127&Ce)*te,te*=128,!(128&Ce))break}return X}s(c,"_");function u(){var X=c();return UTF8ArrayToString(a,(l+=X)-X,X)}s(u,"n");function d(X,te){if(X)throw new Error(te)}s(d,"s");var p="dylink.0";if(a instanceof WebAssembly.Module){var g=WebAssembly.Module.customSections(a,p);g.length===0&&(p="dylink",g=WebAssembly.Module.customSections(a,p)),d(g.length===0,"need dylink section"),f=(a=new Uint8Array(g[0])).length}else{d(new Uint32Array(new Uint8Array(a.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),d(a[8]!==0,"need the dylink section to be first"),l=9;var y=c();f=l+y,p=u()}var _={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(p=="dylink"){_.memorySize=c(),_.memoryAlign=c(),_.tableSize=c(),_.tableAlign=c();for(var S=c(),T=0;T<S;++T){var I=u();_.neededDynlibs.push(I)}}else for(d(p!=="dylink.0");l<f;){var P=a[l++],M=c();if(P===1)_.memorySize=c(),_.memoryAlign=c(),_.tableSize=c(),_.tableAlign=c();else if(P===2)for(S=c(),T=0;T<S;++T)I=u(),_.neededDynlibs.push(I);else if(P===3)for(var N=c();N--;){var L=u();256&c()&&_.tlsExports.add(L)}else if(P===4)for(N=c();N--;)u(),L=u(),(3&c())==1&&_.weakImports.add(L);else l+=M}return _}s(getDylinkMetadata,"getDylinkMetadata");function getValue(a,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":case"i8":return HEAP8[a>>0];case"i16":return HEAP16[a>>1];case"i32":case"i64":return HEAP32[a>>2];case"float":return HEAPF32[a>>2];case"double":return HEAPF64[a>>3];case"*":return HEAPU32[a>>2];default:abort("invalid type for getValue: "+l)}return null}s(getValue,"getValue");function asmjsMangle(a){return a.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(a)?a:"_"+a}s(asmjsMangle,"asmjsMangle");function mergeLibSymbols(a,l){for(var f in a)if(a.hasOwnProperty(f)){asmLibraryArg.hasOwnProperty(f)||(asmLibraryArg[f]=a[f]);var c=asmjsMangle(f);Module.hasOwnProperty(c)||(Module[c]=a[f]),f=="__main_argc_argv"&&(Module._main=a[f])}}s(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(a,l,f){var c=Module["dynCall_"+a];return f&&f.length?c.apply(null,[l].concat(f)):c.call(null,l)}s(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(a){var l=wasmTableMirror[a];return l||(a>=wasmTableMirror.length&&(wasmTableMirror.length=a+1),wasmTableMirror[a]=l=wasmTable.get(a)),l}s(getWasmTableEntry,"getWasmTableEntry");function dynCall(a,l,f){return a.includes("j")?dynCallLegacy(a,l,f):getWasmTableEntry(l).apply(null,f)}s(dynCall,"dynCall");function createInvokeFunction(a){return function(){var l=stackSave();try{return dynCall(a,arguments[0],Array.prototype.slice.call(arguments,1))}catch(f){if(stackRestore(l),f!==f+0)throw f;_setThrew(1,0)}}}s(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(a,l){return HEAPU8.fill(0,a,a+l),a}s(zeroMemory,"zeroMemory");function getMemory(a){if(runtimeInitialized)return zeroMemory(_malloc(a),a);var l=___heap_base,f=l+a+15&-16;return ___heap_base=f,GOT.__heap_base.value=f,l}s(getMemory,"getMemory");function isInternalSym(a){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(a)}s(isInternalSym,"isInternalSym");function uleb128Encode(a,l){a<128?l.push(a):l.push(a%128|128,a>>7)}s(uleb128Encode,"uleb128Encode");function sigToWasmTypes(a){for(var l={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},f={parameters:[],results:a[0]=="v"?[]:[l[a[0]]]},c=1;c<a.length;++c)f.parameters.push(l[a[c]]),a[c]==="j"&&f.parameters.push("i32");return f}s(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(a,l){var f=a.slice(0,1),c=a.slice(1),u={i:127,p:127,j:126,f:125,d:124};l.push(96),uleb128Encode(c.length,l);for(var d=0;d<c.length;++d)l.push(u[c[d]]);f=="v"?l.push(0):l.push(1,u[f])}s(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(a,l){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(l),a);var f=[1];generateFuncType(l,f);var c=[0,97,115,109,1,0,0,0,1];uleb128Encode(f.length,c),c.push.apply(c,f),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var u=new WebAssembly.Module(new Uint8Array(c));return new WebAssembly.Instance(u,{e:{f:a}}).exports.f}s(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(a,l){if(functionsInTableMap)for(var f=a;f<a+l;f++){var c=getWasmTableEntry(f);c&&functionsInTableMap.set(c,f)}}s(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(a){throw a instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":a}return wasmTable.length-1}s(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(a,l){wasmTable.set(a,l),wasmTableMirror[a]=wasmTable.get(a)}s(setWasmTableEntry,"setWasmTableEntry");function addFunction(a,l){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(a))return functionsInTableMap.get(a);var f=getEmptyTableSlot();try{setWasmTableEntry(f,a)}catch(c){if(!(c instanceof TypeError))throw c;setWasmTableEntry(f,convertJsFunctionToWasm(a,l))}return functionsInTableMap.set(a,f),f}s(addFunction,"addFunction");function updateGOT(a,l){for(var f in a)if(!isInternalSym(f)){var c=a[f];f.startsWith("orig$")&&(f=f.split("$")[1],l=!0),GOT[f]||(GOT[f]=new WebAssembly.Global({value:"i32",mutable:!0})),(l||GOT[f].value==0)&&(typeof c=="function"?GOT[f].value=addFunction(c):typeof c=="number"?GOT[f].value=c:err("unhandled export type for `"+f+"`: "+typeof c))}}s(updateGOT,"updateGOT");function relocateExports(a,l,f){var c={};for(var u in a){var d=a[u];typeof d=="object"&&(d=d.value),typeof d=="number"&&(d+=l),c[u]=d}return updateGOT(c,f),c}s(relocateExports,"relocateExports");function resolveGlobalSymbol(a,l){var f;return l&&(f=asmLibraryArg["orig$"+a]),f||(f=asmLibraryArg[a])&&f.stub&&(f=void 0),f||(f=Module[asmjsMangle(a)]),!f&&a.startsWith("invoke_")&&(f=createInvokeFunction(a.split("_")[1])),f}s(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(a,l){return Math.ceil(a/l)*l}s(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(a){var l=resolveGlobalSymbol(a,!1);return l||(l=moduleExports[a]),l}s(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(a,l){switch(l){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(l in asmLibraryArg)return asmLibraryArg[l];var f;return l in a||(a[l]=function(){return f||(f=resolveSymbol(l)),f.apply(null,arguments)}),a[l]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(s(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(s(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(a){return postInstantiation(a.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return s(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(a,l){return a.then(function(){return loadDynamicLibrary(l,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(a){loadDynamicLibrary(a,flags)}),loadModule())}s(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(a,l,f){l=l||{global:!0,nodelete:!0};var c=LDSO.loadedLibsByName[a];if(c)return l.global&&!c.global&&(c.global=!0,c.module!=="loading"&&mergeLibSymbols(c.module,a)),l.nodelete&&c.refcount!==1/0&&(c.refcount=1/0),c.refcount++,f&&(LDSO.loadedLibsByHandle[f]=c),!l.loadAsync||Promise.resolve(!0);function u(g){if(l.fs&&l.fs.findObject(g)){var y=l.fs.readFile(g,{encoding:"binary"});return y instanceof Uint8Array||(y=new Uint8Array(y)),l.loadAsync?Promise.resolve(y):y}if(g=locateFile(g),l.loadAsync)return new Promise(function(_,S){readAsync(g,T=>_(new Uint8Array(T)),S)});if(!readBinary)throw new Error(g+": file not found, and synchronous loading of external files is not available");return readBinary(g)}s(u,"n");function d(){if(typeof preloadedWasm<"u"&&preloadedWasm[a]){var g=preloadedWasm[a];return l.loadAsync?Promise.resolve(g):g}return l.loadAsync?u(a).then(function(y){return loadWebAssemblyModule(y,l,f)}):loadWebAssemblyModule(u(a),l,f)}s(d,"s");function p(g){c.global&&mergeLibSymbols(g,a),c.module=g}return s(p,"a"),c={refcount:l.nodelete?1/0:1,name:a,module:"loading",global:l.global},LDSO.loadedLibsByName[a]=c,f&&(LDSO.loadedLibsByHandle[f]=c),l.loadAsync?d().then(function(g){return p(g),!0}):(p(d()),!0)}s(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var a in GOT)if(GOT[a].value==0){var l=resolveGlobalSymbol(a,!0);if(!l&&!GOT[a].required)continue;if(typeof l=="function")GOT[a].value=addFunction(l,l.sig);else{if(typeof l!="number")throw new Error("bad export type for `"+a+"`: "+typeof l);GOT[a].value=l}}}s(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(a,l){return a.then(function(){return loadDynamicLibrary(l,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}s(preloadDylibs,"preloadDylibs");function setValue(a,l,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":case"i8":HEAP8[a>>0]=l;break;case"i16":HEAP16[a>>1]=l;break;case"i32":HEAP32[a>>2]=l;break;case"i64":tempI64=[l>>>0,(tempDouble=l,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a>>2]=tempI64[0],HEAP32[a+4>>2]=tempI64[1];break;case"float":HEAPF32[a>>2]=l;break;case"double":HEAPF64[a>>3]=l;break;case"*":HEAPU32[a>>2]=l;break;default:abort("invalid type for setValue: "+f)}}s(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}s(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}s(_abort,"_abort");function _emscripten_date_now(){return Date.now()}s(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(a,l,f){HEAPU8.copyWithin(a,l,l+f)}s(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}s(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(a){try{return wasmMemory.grow(a-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}s(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(a){var l=HEAPU8.length;a>>>=0;var f=getHeapMax();if(a>f)return!1;for(var c=1;c<=4;c*=2){var u=l*(1+.2/c);if(u=Math.min(u,a+100663296),emscripten_realloc_buffer(Math.min(f,(d=Math.max(a,u))+((p=65536)-d%p)%p)))return!0}var d,p;return!1}s(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var a=process.hrtime();return 1e3*a[0]+a[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(a,l,f){if(PATH.isAbs(l))return l;var c;if(a===-100?c=FS.cwd():c=SYSCALLS.getStreamFromFD(a).path,l.length==0){if(!f)throw new FS.ErrnoError(44);return c}return PATH.join2(c,l)},doStat:function(a,l,f){try{var c=a(l)}catch(g){if(g&&g.node&&PATH.normalize(l)!==PATH.normalize(FS.getPath(g.node)))return-54;throw g}HEAP32[f>>2]=c.dev,HEAP32[f+8>>2]=c.ino,HEAP32[f+12>>2]=c.mode,HEAPU32[f+16>>2]=c.nlink,HEAP32[f+20>>2]=c.uid,HEAP32[f+24>>2]=c.gid,HEAP32[f+28>>2]=c.rdev,tempI64=[c.size>>>0,(tempDouble=c.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+40>>2]=tempI64[0],HEAP32[f+44>>2]=tempI64[1],HEAP32[f+48>>2]=4096,HEAP32[f+52>>2]=c.blocks;var u=c.atime.getTime(),d=c.mtime.getTime(),p=c.ctime.getTime();return tempI64=[Math.floor(u/1e3)>>>0,(tempDouble=Math.floor(u/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+56>>2]=tempI64[0],HEAP32[f+60>>2]=tempI64[1],HEAPU32[f+64>>2]=u%1e3*1e3,tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+72>>2]=tempI64[0],HEAP32[f+76>>2]=tempI64[1],HEAPU32[f+80>>2]=d%1e3*1e3,tempI64=[Math.floor(p/1e3)>>>0,(tempDouble=Math.floor(p/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+88>>2]=tempI64[0],HEAP32[f+92>>2]=tempI64[1],HEAPU32[f+96>>2]=p%1e3*1e3,tempI64=[c.ino>>>0,(tempDouble=c.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+104>>2]=tempI64[0],HEAP32[f+108>>2]=tempI64[1],0},doMsync:function(a,l,f,c,u){if(!FS.isFile(l.node.mode))throw new FS.ErrnoError(43);if(2&c)return 0;var d=HEAPU8.slice(a,a+f);FS.msync(l,d,u,f,c)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(a){return UTF8ToString(a)},getStreamFromFD:function(a){var l=FS.getStream(a);if(!l)throw new FS.ErrnoError(8);return l}};function _proc_exit(a){EXITSTATUS=a,keepRuntimeAlive()||(Module.onExit&&Module.onExit(a),ABORT=!0),quit_(a,new ExitStatus(a))}s(_proc_exit,"_proc_exit");function exitJS(a,l){EXITSTATUS=a,_proc_exit(a)}s(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(a){try{var l=SYSCALLS.getStreamFromFD(a);return FS.close(l),0}catch(f){if(typeof FS>"u"||!(f instanceof FS.ErrnoError))throw f;return f.errno}}s(_fd_close,"_fd_close");function convertI32PairToI53Checked(a,l){return l+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*l:NaN}s(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(a,l,f,c,u){try{var d=convertI32PairToI53Checked(l,f);if(isNaN(d))return 61;var p=SYSCALLS.getStreamFromFD(a);return FS.llseek(p,d,c),tempI64=[p.position>>>0,(tempDouble=p.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[u>>2]=tempI64[0],HEAP32[u+4>>2]=tempI64[1],p.getdents&&d===0&&c===0&&(p.getdents=null),0}catch(g){if(typeof FS>"u"||!(g instanceof FS.ErrnoError))throw g;return g.errno}}s(_fd_seek,"_fd_seek");function doWritev(a,l,f,c){for(var u=0,d=0;d<f;d++){var p=HEAPU32[l>>2],g=HEAPU32[l+4>>2];l+=8;var y=FS.write(a,HEAP8,p,g,c);if(y<0)return-1;u+=y,c!==void 0&&(c+=y)}return u}s(doWritev,"doWritev");function _fd_write(a,l,f,c){try{var u=doWritev(SYSCALLS.getStreamFromFD(a),l,f);return HEAPU32[c>>2]=u,0}catch(d){if(typeof FS>"u"||!(d instanceof FS.ErrnoError))throw d;return d.errno}}s(_fd_write,"_fd_write");function _tree_sitter_log_callback(a,l){if(currentLogCallback){let f=UTF8ToString(l);currentLogCallback(f,a!==0)}}s(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(a,l,f,c,u){var d=currentParseCallback(l,{row:f,column:c});typeof d=="string"?(setValue(u,d.length,"i32"),stringToUTF16(d,a,10240)):setValue(u,0,"i32")}s(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(a){if(a instanceof ExitStatus||a=="unwind")return EXITSTATUS;quit_(1,a)}s(handleException,"handleException");function allocateUTF8OnStack(a){var l=lengthBytesUTF8(a)+1,f=stackAlloc(l);return stringToUTF8Array(a,HEAP8,f,l),f}s(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(a,l,f){if(f===void 0&&(f=2147483647),f<2)return 0;for(var c=l,u=(f-=2)<2*a.length?f/2:a.length,d=0;d<u;++d){var p=a.charCodeAt(d);HEAP16[l>>1]=p,l+=2}return HEAP16[l>>1]=0,l-c}s(stringToUTF16,"stringToUTF16");function AsciiToString(a){for(var l="";;){var f=HEAPU8[a++>>0];if(!f)return l;l+=String.fromCharCode(f)}}s(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(a){var l=Module._main;if(l){(a=a||[]).unshift(thisProgram);var f=a.length,c=stackAlloc(4*(f+1)),u=c>>2;a.forEach(p=>{HEAP32[u++]=allocateUTF8OnStack(p)}),HEAP32[u]=0;try{var d=l(f,c);return exitJS(d,!0),d}catch(p){return handleException(p)}}}s(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=s(function a(){calledRun||run(),calledRun||(dependenciesFulfilled=a)},"e");var dylibsLoaded=!1;function run(a){function l(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(a),postRun()))}s(l,"t"),a=a||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),l()},1)):l()))}if(s(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(l){let f;if(l){if(l.constructor!==Language)throw new Error("Argument must be a Language");{f=l[0];let c=C._ts_language_version(f);if(c<MIN_COMPATIBLE_VERSION||VERSION<c)throw new Error(`Incompatible language version ${c}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else f=0,l=null;return this.language=l,C._ts_parser_set_language(this[0],f),this}getLanguage(){return this.language}parse(l,f,c){if(typeof l=="string")currentParseCallback=s((y,_,S)=>l.slice(y,S),"currentParseCallback");else{if(typeof l!="function")throw new Error("Argument must be a string or a function");currentParseCallback=l}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let u=0,d=0;if(c&&c.includedRanges){u=c.includedRanges.length,d=C._calloc(u,SIZE_OF_RANGE);let y=d;for(let _=0;_<u;_++)marshalRange(y,c.includedRanges[_]),y+=SIZE_OF_RANGE}let p=C._ts_parser_parse_wasm(this[0],this[1],f?f[0]:0,d,u);if(!p)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let g=new Tree(INTERNAL,p,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,g}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(l){C._ts_parser_set_timeout_micros(this[0],l)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(l){if(l){if(typeof l!="function")throw new Error("Logger callback must be a function")}else l=null;return this.logCallback=l,this}getLogger(){return this.logCallback}};s(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(l,f,c,u){assertInternal(l),this[0]=f,this.language=c,this.textCallback=u}copy(){let l=C._ts_tree_copy(this[0]);return new t(INTERNAL,l,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(l){marshalEdit(l),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(l){if(l.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],l[0]);let f=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(f);if(f>0){let d=c;for(let p=0;p<f;p++)u[p]=unmarshalRange(d),d+=SIZE_OF_RANGE;C._free(c)}return u}};s(t,"Tree");let Tree=t,r=class r{constructor(l,f){assertInternal(l),this.tree=f}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(l){return this.id===l.id}child(l){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],l),unmarshalNode(this.tree)}namedChild(l){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],l),unmarshalNode(this.tree)}childForFieldId(l){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],l),unmarshalNode(this.tree)}childForFieldName(l){let f=this.tree.language.fields.indexOf(l);if(f!==-1)return this.childForFieldId(f)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let l=getValue(TRANSFER_BUFFER,"i32"),f=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(l),l>0){let c=f;for(let u=0;u<l;u++)this._children[u]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(f)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let l=getValue(TRANSFER_BUFFER,"i32"),f=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(l),l>0){let c=f;for(let u=0;u<l;u++)this._namedChildren[u]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(f)}}return this._namedChildren}descendantsOfType(l,f,c){Array.isArray(l)||(l=[l]),f||(f=ZERO_POINT),c||(c=ZERO_POINT);let u=[],d=this.tree.language.types;for(let S=0,T=d.length;S<T;S++)l.includes(d[S])&&u.push(S);let p=C._malloc(SIZE_OF_INT*u.length);for(let S=0,T=u.length;S<T;S++)setValue(p+S*SIZE_OF_INT,u[S],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],p,u.length,f.row,f.column,c.row,c.column);let g=getValue(TRANSFER_BUFFER,"i32"),y=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),_=new Array(g);if(g>0){let S=y;for(let T=0;T<g;T++)_[T]=unmarshalNode(this.tree,S),S+=SIZE_OF_NODE}return C._free(y),C._free(p),_}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(l,f=l){if(typeof l!="number"||typeof f!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,l,"i32"),setValue(c+SIZE_OF_INT,f,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(l,f=l){if(typeof l!="number"||typeof f!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,l,"i32"),setValue(c+SIZE_OF_INT,f,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(l,f=l){if(!isPoint(l)||!isPoint(f))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,l),marshalPoint(c+SIZE_OF_POINT,f),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(l,f=l){if(!isPoint(l)||!isPoint(f))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,l),marshalPoint(c+SIZE_OF_POINT,f),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let l=C._ts_node_to_string_wasm(this.tree[0]),f=AsciiToString(l);return C._free(l),f}};s(r,"Node");let Node=r,n=class n{constructor(l,f){assertInternal(l),this.tree=f,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(l){marshalNode(l),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let l=C._ts_tree_cursor_start_index_wasm(this.tree[0]),f=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,l,f)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let l=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),l===1}gotoNextSibling(){marshalTreeCursor(this);let l=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),l===1}gotoParent(){marshalTreeCursor(this);let l=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),l===1}};s(n,"TreeCursor");let TreeCursor=n,i=class i{constructor(l,f){assertInternal(l),this[0]=f,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let c=0,u=this.types.length;c<u;c++)C._ts_language_symbol_type(this[0],c)<2&&(this.types[c]=UTF8ToString(C._ts_language_symbol_name(this[0],c)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let c=0,u=this.fields.length;c<u;c++){let d=C._ts_language_field_name_for_id(this[0],c);this.fields[c]=d!==0?UTF8ToString(d):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(l){let f=this.fields.indexOf(l);return f!==-1?f:null}fieldNameForId(l){return this.fields[l]||null}idForNodeType(l,f){let c=lengthBytesUTF8(l),u=C._malloc(c+1);stringToUTF8(l,u,c+1);let d=C._ts_language_symbol_for_name(this[0],u,c,f);return C._free(u),d||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(l){let f=C._ts_language_symbol_name(this[0],l);return f?UTF8ToString(f):null}nodeTypeIsNamed(l){return!!C._ts_language_type_is_named_wasm(this[0],l)}nodeTypeIsVisible(l){return!!C._ts_language_type_is_visible_wasm(this[0],l)}query(l){let f=lengthBytesUTF8(l),c=C._malloc(f+1);stringToUTF8(l,c,f+1);let u=C._ts_query_new(this[0],c,f,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!u){let N=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),L=UTF8ToString(c,getValue(TRANSFER_BUFFER,"i32")).length,X=l.substr(L,100).split(`
`)[0],te,Ce=X.match(QUERY_WORD_REGEX)[0];switch(N){case 2:te=new RangeError(`Bad node name '${Ce}'`);break;case 3:te=new RangeError(`Bad field name '${Ce}'`);break;case 4:te=new RangeError(`Bad capture name @${Ce}`);break;case 5:te=new TypeError(`Bad pattern structure at offset ${L}: '${X}'...`),Ce="";break;default:te=new SyntaxError(`Bad syntax at offset ${L}: '${X}'...`),Ce=""}throw te.index=L,te.length=Ce.length,C._free(c),te}let d=C._ts_query_string_count(u),p=C._ts_query_capture_count(u),g=C._ts_query_pattern_count(u),y=new Array(p),_=new Array(d);for(let N=0;N<p;N++){let L=C._ts_query_capture_name_for_id(u,N,TRANSFER_BUFFER),X=getValue(TRANSFER_BUFFER,"i32");y[N]=UTF8ToString(L,X)}for(let N=0;N<d;N++){let L=C._ts_query_string_value_for_id(u,N,TRANSFER_BUFFER),X=getValue(TRANSFER_BUFFER,"i32");_[N]=UTF8ToString(L,X)}let S=new Array(g),T=new Array(g),I=new Array(g),P=new Array(g),M=new Array(g);for(let N=0;N<g;N++){let L=C._ts_query_predicates_for_pattern(u,N,TRANSFER_BUFFER),X=getValue(TRANSFER_BUFFER,"i32");P[N]=[],M[N]=[];let te=[],Ce=L;for(let De=0;De<X;De++){let pe=getValue(Ce,"i32");Ce+=SIZE_OF_INT;let Ie=getValue(Ce,"i32");if(Ce+=SIZE_OF_INT,pe===PREDICATE_STEP_TYPE_CAPTURE)te.push({type:"capture",name:y[Ie]});else if(pe===PREDICATE_STEP_TYPE_STRING)te.push({type:"string",value:_[Ie]});else if(te.length>0){if(te[0].type!=="string")throw new Error("Predicates must begin with a literal value");let ie=te[0].value,Z=!0;switch(ie){case"not-eq?":Z=!1;case"eq?":if(te.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(te.length-1));if(te[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${te[1].value}"`);if(te[2].type==="capture"){let Ke=te[1].name,ce=te[2].name;M[N].push(function(ve){let le,Ee;for(let mt of ve)mt.name===Ke&&(le=mt.node),mt.name===ce&&(Ee=mt.node);return le===void 0||Ee===void 0||le.text===Ee.text===Z})}else{let Ke=te[1].name,ce=te[2].value;M[N].push(function(ve){for(let le of ve)if(le.name===Ke)return le.node.text===ce===Z;return!0})}break;case"not-match?":Z=!1;case"match?":if(te.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${te.length-1}.`);if(te[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${te[1].value}".`);if(te[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${te[2].value}.`);let _e=te[1].name,Ae=new RegExp(te[2].value);M[N].push(function(Ke){for(let ce of Ke)if(ce.name===_e)return Ae.test(ce.node.text)===Z;return!0});break;case"set!":if(te.length<2||te.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${te.length-1}.`);if(te.some(Ke=>Ke.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');S[N]||(S[N]={}),S[N][te[1].value]=te[2]?te[2].value:null;break;case"is?":case"is-not?":if(te.length<2||te.length>3)throw new Error(`Wrong number of arguments to \`#${ie}\` predicate. Expected 1 or 2. Got ${te.length-1}.`);if(te.some(Ke=>Ke.type!=="string"))throw new Error(`Arguments to \`#${ie}\` predicate must be a strings.".`);let be=ie==="is?"?T:I;be[N]||(be[N]={}),be[N][te[1].value]=te[2]?te[2].value:null;break;default:P[N].push({operator:ie,operands:te.slice(1)})}te.length=0}}Object.freeze(S[N]),Object.freeze(T[N]),Object.freeze(I[N])}return C._free(c),new Query(INTERNAL,u,y,M,P,Object.freeze(S),Object.freeze(T),Object.freeze(I))}static load(l){let f;if(l instanceof Uint8Array)f=Promise.resolve(l);else{let u=l;if(typeof process<"u"&&process.versions&&process.versions.node){let d=require("fs");f=Promise.resolve(d.readFileSync(u))}else f=fetch(u).then(d=>d.arrayBuffer().then(p=>{if(d.ok)return new Uint8Array(p);{let g=new TextDecoder("utf-8").decode(p);throw new Error(`Language.load failed with status ${d.status}.

${g}`)}}))}let c=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return f.then(u=>c(u,{loadAsync:!0})).then(u=>{let d=Object.keys(u),p=d.find(y=>LANGUAGE_FUNCTION_REGEX.test(y)&&!y.includes("external_scanner_"));p||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(d,null,2)}`);let g=u[p]();return new i(INTERNAL,g)})}};s(i,"Language");let Language=i,o=class o{constructor(l,f,c,u,d,p,g,y){assertInternal(l),this[0]=f,this.captureNames=c,this.textPredicates=u,this.predicates=d,this.setProperties=p,this.assertedProperties=g,this.refutedProperties=y,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(l,f,c,u){f||(f=ZERO_POINT),c||(c=ZERO_POINT),u||(u={});let d=u.matchLimit;if(d===void 0)d=0;else if(typeof d!="number")throw new Error("Arguments must be numbers");marshalNode(l),C._ts_query_matches_wasm(this[0],l.tree[0],f.row,f.column,c.row,c.column,d);let p=getValue(TRANSFER_BUFFER,"i32"),g=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),y=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),_=new Array(p);this.exceededMatchLimit=!!y;let S=0,T=g;for(let I=0;I<p;I++){let P=getValue(T,"i32");T+=SIZE_OF_INT;let M=getValue(T,"i32");T+=SIZE_OF_INT;let N=new Array(M);if(T=unmarshalCaptures(this,l.tree,T,N),this.textPredicates[P].every(L=>L(N))){_[S++]={pattern:P,captures:N};let L=this.setProperties[P];L&&(_[I].setProperties=L);let X=this.assertedProperties[P];X&&(_[I].assertedProperties=X);let te=this.refutedProperties[P];te&&(_[I].refutedProperties=te)}}return _.length=S,C._free(g),_}captures(l,f,c,u){f||(f=ZERO_POINT),c||(c=ZERO_POINT),u||(u={});let d=u.matchLimit;if(d===void 0)d=0;else if(typeof d!="number")throw new Error("Arguments must be numbers");marshalNode(l),C._ts_query_captures_wasm(this[0],l.tree[0],f.row,f.column,c.row,c.column,d);let p=getValue(TRANSFER_BUFFER,"i32"),g=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),y=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),_=[];this.exceededMatchLimit=!!y;let S=[],T=g;for(let I=0;I<p;I++){let P=getValue(T,"i32");T+=SIZE_OF_INT;let M=getValue(T,"i32");T+=SIZE_OF_INT;let N=getValue(T,"i32");if(T+=SIZE_OF_INT,S.length=M,T=unmarshalCaptures(this,l.tree,T,S),this.textPredicates[P].every(L=>L(S))){let L=S[N],X=this.setProperties[P];X&&(L.setProperties=X);let te=this.assertedProperties[P];te&&(L.assertedProperties=te);let Ce=this.refutedProperties[P];Ce&&(L.refutedProperties=Ce),_.push(L)}}return C._free(g),_}predicatesForPattern(l){return this.predicates[l]}didExceedMatchLimit(){return this.exceededMatchLimit}};s(o,"Query");let Query=o;function getText(a,l,f){let c=f-l,u=a.textCallback(l,null,f);for(l+=u.length;l<f;){let d=a.textCallback(l,null,f);if(!(d&&d.length>0))break;l+=d.length,u+=d}return l>f&&(u=u.slice(0,c)),u}s(getText,"getText");function unmarshalCaptures(a,l,f,c){for(let u=0,d=c.length;u<d;u++){let p=getValue(f,"i32"),g=unmarshalNode(l,f+=SIZE_OF_INT);f+=SIZE_OF_NODE,c[u]={name:a.captureNames[p],node:g}}return f}s(unmarshalCaptures,"unmarshalCaptures");function assertInternal(a){if(a!==INTERNAL)throw new Error("Illegal constructor")}s(assertInternal,"assertInternal");function isPoint(a){return a&&typeof a.row=="number"&&typeof a.column=="number"}s(isPoint,"isPoint");function marshalNode(a){let l=TRANSFER_BUFFER;setValue(l,a.id,"i32"),l+=SIZE_OF_INT,setValue(l,a.startIndex,"i32"),l+=SIZE_OF_INT,setValue(l,a.startPosition.row,"i32"),l+=SIZE_OF_INT,setValue(l,a.startPosition.column,"i32"),l+=SIZE_OF_INT,setValue(l,a[0],"i32")}s(marshalNode,"marshalNode");function unmarshalNode(a,l=TRANSFER_BUFFER){let f=getValue(l,"i32");if(f===0)return null;let c=getValue(l+=SIZE_OF_INT,"i32"),u=getValue(l+=SIZE_OF_INT,"i32"),d=getValue(l+=SIZE_OF_INT,"i32"),p=getValue(l+=SIZE_OF_INT,"i32"),g=new Node(INTERNAL,a);return g.id=f,g.startIndex=c,g.startPosition={row:u,column:d},g[0]=p,g}s(unmarshalNode,"unmarshalNode");function marshalTreeCursor(a,l=TRANSFER_BUFFER){setValue(l+0*SIZE_OF_INT,a[0],"i32"),setValue(l+1*SIZE_OF_INT,a[1],"i32"),setValue(l+2*SIZE_OF_INT,a[2],"i32")}s(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(a){a[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),a[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),a[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}s(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(a,l){setValue(a,l.row,"i32"),setValue(a+SIZE_OF_INT,l.column,"i32")}s(marshalPoint,"marshalPoint");function unmarshalPoint(a){return{row:getValue(a,"i32"),column:getValue(a+SIZE_OF_INT,"i32")}}s(unmarshalPoint,"unmarshalPoint");function marshalRange(a,l){marshalPoint(a,l.startPosition),marshalPoint(a+=SIZE_OF_POINT,l.endPosition),setValue(a+=SIZE_OF_POINT,l.startIndex,"i32"),setValue(a+=SIZE_OF_INT,l.endIndex,"i32"),a+=SIZE_OF_INT}s(marshalRange,"marshalRange");function unmarshalRange(a){let l={};return l.startPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,l.endPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,l.startIndex=getValue(a,"i32"),a+=SIZE_OF_INT,l.endIndex=getValue(a,"i32"),l}s(unmarshalRange,"unmarshalRange");function marshalEdit(a){let l=TRANSFER_BUFFER;marshalPoint(l,a.startPosition),l+=SIZE_OF_POINT,marshalPoint(l,a.oldEndPosition),l+=SIZE_OF_POINT,marshalPoint(l,a.newEndPosition),l+=SIZE_OF_POINT,setValue(l,a.startIndex,"i32"),l+=SIZE_OF_INT,setValue(l,a.oldEndIndex,"i32"),l+=SIZE_OF_INT,setValue(l,a.newEndIndex,"i32"),l+=SIZE_OF_INT}s(marshalEdit,"marshalEdit");for(let a of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,a,{value:ParserImpl.prototype[a],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};s(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});function Bu(e){return e in aT}function VO(e){if(!(e in aT))throw new Error(`Unrecognized language: ${e}`);return aT[e]}async function PJ(e){let t,r=H9.default.resolve(H9.default.extname(__filename)!==".ts"?__dirname:H9.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await HO.promises.readFile(r)}catch(n){if(typeof n.code=="string"&&n instanceof Error&&n.name==="Error"){let i=new Error(`Could not load tree-sitter-${e}.wasm`);throw i.code="CopilotPromptLoadFailure",i.cause=n,i}throw n}return V9.default.Language.load(t)}async function RJ(e){let t=VO(e);if(!oT.has(t)){let r=await PJ(t);oT.set(t,r)}return oT.get(t)}async function lT(e,t){await V9.default.init();let r;try{r=new V9.default}catch(o){let a=o.message;if(a&&a.includes("table index is out of bounds")){let l=new Error(`Could not init Parse for language <${e}>`);throw l.cause=o,l}throw o}let n=await RJ(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}function NJ(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}function zO(e){return NJ([kJ],e).length==1}var HO,H9,V9,aT,oT,kJ,kh=C0(()=>{"use strict";HO=require("fs"),H9=P0(require("path")),V9=P0($O()),aT={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby"};s(Bu,"isSupportedLanguageId");s(VO,"languageIdToWasmLanguage");oT=new Map;s(PJ,"loadWasmLanguage");s(RJ,"getLanguage");s(lT,"parseTreeSitter");s(NJ,"innerQuery");kJ=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];s(zO,"queryPythonIsDocstring")});var KO=ae(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.bytePairEncode=Oa.BinaryMap=Oa.binaryMapKey=void 0;var DJ=s((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),o=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return o+16777216*l},"binaryMapKey");Oa.binaryMapKey=DJ;var Lh=class Lh{constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){var a;let i=n<6+r,o=(0,Oa.binaryMapKey)(t,r,n);return i?this.final.get(o):(a=this.nested.get(o))==null?void 0:a.get(t,6+r,n)}set(t,r){let n=(0,Oa.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let o=this.nested.get(n);if(o instanceof Lh)o.set(t.subarray(6),r);else{let a=new Lh;a.set(t.subarray(6),r),this.nested.set(n,a)}}};s(Lh,"BinaryMap");var fT=Lh;Oa.BinaryMap=fT;var Ba=new Int32Array(128),ki=new Int32Array(128);function LJ(e,t,r){var f;if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;Ba.length<r*2;)ki=new Int32Array(ki.length*2),Ba=new Int32Array(Ba.length*2);for(let c=0;c<r-1;c++){let u=(f=t.get(e,c,c+2))!=null?f:2147483647;u<n&&(n=u,i=c),ki[c]=c,Ba[c]=u}ki[r-1]=r-1,Ba[r-1]=2147483647,ki[r]=r,Ba[r]=2147483647;let o=r+1;function a(c,u=0){if(c+u+2<o){let d=t.get(e,ki[c],ki[c+u+2]);if(d!==void 0)return d}return 2147483647}for(s(a,"getRank");n!==2147483647;){Ba[ki[i]]=a(i,1),i>0&&(Ba[ki[i-1]]=a(i-1,1));for(let c=i+1;c<o-1;c++)ki[c]=ki[c+1];o--,i=-1,n=2147483647;for(let c=0;c<o-1;c++){let u=Ba[ki[c]];Ba[ki[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<o-1;c++)l.push(t.get(e,ki[c],ki[c+1]));return l}s(LJ,"bytePairEncode");Oa.bytePairEncode=LJ});var WO=ae(z9=>{"use strict";Object.defineProperty(z9,"__esModule",{value:!0});z9.makeTextEncoder=void 0;var dT=class dT{constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}};s(dT,"UniversalTextEncoder");var cT=dT,hT=class hT{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}};s(hT,"NodeTextEncoder");var uT=hT,BJ=s(()=>typeof Buffer<"u"?new uT:new cT,"makeTextEncoder");z9.makeTextEncoder=BJ});var GO=ae(K9=>{"use strict";Object.defineProperty(K9,"__esModule",{value:!0});K9.LRUCache=void 0;var pT=class pT{constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new gT(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};s(pT,"LRUCache");var mT=pT;K9.LRUCache=mT;var yT=class yT{constructor(t,r){this.key=t,this.value=r}};s(yT,"Node");var gT=yT});var _T=ae(G9=>{"use strict";Object.defineProperty(G9,"__esModule",{value:!0});G9.TikTokenizer=void 0;var OJ=require("fs"),FJ=require("util"),W9=KO(),MJ=WO(),UJ=GO();function qJ(e){let t=new Map;try{let n=OJ.readFileSync(e,"utf-8");return r(n),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let o=i.split(" ");if(o.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(o[0],"base64")),l=parseInt(o[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${o[1]} to integer`)}}s(r,"processBpeRanks")}s(qJ,"loadTikTokenBpe");function jJ(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(jJ,"escapeRegExp");var xT=class xT{constructor(t,r,n,i=8192){this.textEncoder=(0,MJ.makeTextEncoder)(),this.textDecoder=new FJ.TextDecoder("utf-8"),this.cache=new UJ.LRUCache(i);let o=qJ(t);this.init(o,r,n)}init(t,r,n){this.encoder=new W9.BinaryMap;for(let[i,o]of t)this.encoder.set(i,o);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>jJ(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,o]of t)this.decoder.set(o,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,o]of r)this.specialTokensDecoder.set(o,i)}findNextSpecialToken(t,r,n){let i=r,o=null;if(n&&this.specialTokensRegex)for(;o=t.slice(i).match(this.specialTokensRegex),!(!o||n&&n.includes(o[0]));)i+=o.index+1;let a=o?i+o.index:t.length;return[o,a]}encode(t,r){let n=[],i=0;for(;;){let o,a;if([o,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),o){if(i=i+this.encodeSpecialToken(n,o),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){var i;let n=(i=this.specialTokensEncoder)==null?void 0:i.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let o,a=t.substring(n,i);for(this.regex.lastIndex=0;o=this.regex.exec(a);){let l=this.cache.get(o[0]);if(l)for(let f of l)r.push(f);else{let f=this.textEncoder.encode(o[0]),c=this.encoder.get(f,0,this.textEncoder.length);if(c!==void 0)r.push(c),this.cache.set(o[0],[c]);else{let u=(0,W9.bytePairEncode)(f,this.encoder,this.textEncoder.length);for(let d of u)r.push(d);this.cache.set(o[0],u)}}}}encodeTrimSuffixByIndex(t,r,n,i,o,a,l){let f,c=t.substring(n,i);for(this.regex.lastIndex=0;f=this.regex.exec(c);){let u=f[0],d=this.cache.get(u);if(d)if(a+d.length<=o)a+=d.length,l+=u.length,r.push(...d);else{let p=o-a;a+=p,l+=u.length,r.push(...d.slice(0,p));break}else{let p=this.textEncoder.encode(u),g=this.encoder.get(p,0,p.length);if(g!==void 0)if(this.cache.set(u,[g]),a+1<=o)a++,l+=u.length,r.push(g);else break;else{let y=(0,W9.bytePairEncode)(p,this.encoder,this.textEncoder.length);if(this.cache.set(u,y),a+y.length<=o){a+=y.length,l+=u.length;for(let _ of y)r.push(_)}else{let _=o-a;a+=_,l+=u.length;for(let S=0;S<_;S++)r.push(y[S]);break}}}if(a>=o)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],o=0,a=0,l=0;for(;;){let c,u;if([c,u]=this.findNextSpecialToken(t,o,n),u>o){let{tokenCount:d,encodeLength:p}=this.encodeTrimSuffixByIndex(t,i,o,u,r,a,l);if(a=d,l=p,a>=r)break}if(c!==null){if(a++,a<=r&&(o=o+this.encodeSpecialToken(i,c),l+=c[0].length,o>=t.length)||a>=r)break}else break}let f=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:f}}encodeTrimPrefix(t,r,n){let i=[],o=0,a=0,l=0,f=new Map;for(f.set(a,l);;){let p,g;if([p,g]=this.findNextSpecialToken(t,o,n),g>o){let y,_=t.substring(o,g);for(this.regex.lastIndex=0;y=this.regex.exec(_);){let S=y[0],T=this.cache.get(S);if(T)a+=T.length,l+=S.length,i.push(...T),f.set(a,l);else{let I=this.textEncoder.encode(S),P=this.encoder.get(I);if(P!==void 0)this.cache.set(S,[P]),a++,l+=S.length,i.push(P),f.set(a,l);else{let M=(0,W9.bytePairEncode)(I,this.encoder,this.textEncoder.length);this.cache.set(S,M),a+=M.length,l+=S.length;for(let N of M)i.push(N);f.set(a,l)}}}}if(p!==null){if(o=o+this.encodeSpecialToken(i,p),a++,l+=p[0].length,f.set(a,l),o>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let c=a-r,u=0,d=0;for(let[p,g]of f)if(p>=c){u=p,d=g;break}if(u>r){let p=this.encode(t,n),g=p.slice(p.length-r);return{tokenIds:g,text:this.decode(g)}}return{tokenIds:i.slice(u),text:t.slice(d)}}decode(t){var n,i;let r=[];for(let o of t){let a=[],l=(n=this.decoder)==null?void 0:n.get(o);if(l!==void 0)a=Array.from(l);else{let f=(i=this.specialTokensDecoder)==null?void 0:i.get(o);if(f!==void 0){let c=this.textEncoder.encode(f);a=Array.from(c.subarray(0,this.textEncoder.length))}}r.push(...a)}return this.textDecoder.decode(new Uint8Array(r))}};s(xT,"TikTokenizer");var vT=xT;G9.TikTokenizer=vT});var iF=ae(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.createTokenizer=on.createByEncoderName=on.createByModelName=on.getRegexByModel=on.getRegexByEncoder=on.getSpecialTokensByModel=on.getSpecialTokensByEncoder=on.MODEL_TO_ENCODING=void 0;var X9=require("fs"),bT=require("path"),$J=_T(),HJ=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);on.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var Y9="<|endoftext|>",YO="<|fim_prefix|>",XO="<|fim_middle|>",JO="<|fim_suffix|>",QO="<|endofprompt|>",Bh="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",ZO="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",VJ=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],eF=VJ.join("|");function CT(e){let t="";if(on.MODEL_TO_ENCODING.has(e))t=on.MODEL_TO_ENCODING.get(e);else for(let[r,n]of HJ)if(e.startsWith(r)){t=n;break}return t}s(CT,"getEncoderFromModelName");async function zJ(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let n=await r.text();X9.writeFileSync(t,n)}s(zJ,"fetchAndSaveFile");function TT(e){let t=new Map([[Y9,50256]]);switch(e){case"o200k_base":t=new Map([[Y9,199999],[QO,200018]]);break;case"cl100k_base":t=new Map([[Y9,100257],[YO,100258],[XO,100259],[JO,100260],[QO,100276]]);break;case"p50k_edit":t=new Map([[Y9,50256],[YO,50281],[XO,50282],[JO,50283]]);break;default:break}return t}s(TT,"getSpecialTokensByEncoder");on.getSpecialTokensByEncoder=TT;function KJ(e){let t=CT(e);return TT(t)}s(KJ,"getSpecialTokensByModel");on.getSpecialTokensByModel=KJ;function tF(e){switch(e){case"o200k_base":return eF;case"cl100k_base":return ZO;default:break}return Bh}s(tF,"getRegexByEncoder");on.getRegexByEncoder=tF;function WJ(e){let t=CT(e);return tF(t)}s(WJ,"getRegexByModel");on.getRegexByModel=WJ;async function GJ(e,t=null){return rF(CT(e),t)}s(GJ,"createByModelName");on.createByModelName=GJ;async function rF(e,t=null){let r,n,i=TT(e);switch(e){case"o200k_base":r=eF,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=ZO,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=Bh,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=Bh,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=Bh,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=Bh,n="https://pythia.blob.core.windows.net/public/encoding/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let o=bT.basename(n),a=bT.resolve(__dirname,"..","model");X9.existsSync(a)||X9.mkdirSync(a,{recursive:!0});let l=bT.resolve(a,o);return X9.existsSync(l)||(console.log(`Downloading file from ${n}`),await zJ(n,l),console.log(`Saved file to ${l}`)),nF(l,i,r)}s(rF,"createByEncoderName");on.createByEncoderName=rF;function nF(e,t,r,n=8192){return new $J.TikTokenizer(e,t,r,n)}s(nF,"createTokenizer");on.createTokenizer=nF});var sF=ae(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.createTokenizer=an.createByEncoderName=an.createByModelName=an.getSpecialTokensByModel=an.getSpecialTokensByEncoder=an.getRegexByModel=an.getRegexByEncoder=an.MODEL_TO_ENCODING=an.TikTokenizer=void 0;var YJ=_T();Object.defineProperty(an,"TikTokenizer",{enumerable:!0,get:function(){return YJ.TikTokenizer}});var Ec=iF();Object.defineProperty(an,"MODEL_TO_ENCODING",{enumerable:!0,get:function(){return Ec.MODEL_TO_ENCODING}});Object.defineProperty(an,"getRegexByEncoder",{enumerable:!0,get:function(){return Ec.getRegexByEncoder}});Object.defineProperty(an,"getRegexByModel",{enumerable:!0,get:function(){return Ec.getRegexByModel}});Object.defineProperty(an,"getSpecialTokensByEncoder",{enumerable:!0,get:function(){return Ec.getSpecialTokensByEncoder}});Object.defineProperty(an,"getSpecialTokensByModel",{enumerable:!0,get:function(){return Ec.getSpecialTokensByModel}});Object.defineProperty(an,"createByModelName",{enumerable:!0,get:function(){return Ec.createByModelName}});Object.defineProperty(an,"createByEncoderName",{enumerable:!0,get:function(){return Ec.createByEncoderName}});Object.defineProperty(an,"createTokenizer",{enumerable:!0,get:function(){return Ec.createTokenizer}})});function Oh(e="cl100k_base"){let t=oF.get(e);return t!==void 0||(e==="mock"?t=new ST:t=new ET(e),oF.set(e,t)),t}var h3,aF,oF,wT,ET,IT,ST,lF=C0(()=>{"use strict";h3=P0(sF()),aF=require("path"),oF=new Map;s(Oh,"getTokenizer");wT=class wT{constructor(t){try{this._tokenizer=(0,h3.createTokenizer)((0,aF.join)(__dirname,`./resources/${t}.tiktoken`),(0,h3.getSpecialTokensByEncoder)(t),(0,h3.getRegexByEncoder)(t),32768)}catch(r){if(r instanceof Error){let n=new Error("Could not load tokenizer");throw n.code="CopilotPromptLoadFailure",n.cause=r,n}throw r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return"";let n=4,i=1,o=Math.min(t.length,r*n),a=t.slice(-o),l=this.tokenize(a);for(;l.length<r+2&&o<t.length;)o=Math.min(t.length,o+r*i),a=t.slice(-o),l=this.tokenize(a);return l.length<r?t:(l=l.slice(-r),this.detokenize(l))}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,o=Math.min(t.length,r*n),a=t.slice(0,o),l=this.tokenize(a);for(;l.length<r+2&&o<t.length;)o=Math.min(t.length,o+r*i),a=t.slice(0,o),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}};s(wT,"TTokenizer");ET=wT,IT=class IT{constructor(){this.hash=s(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){return this.tokenizeStrings(t).slice(-r).join("")}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}};s(IT,"MockTokenizer");ST=IT});var m3=C0(()=>{"use strict";lF()});function AT(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}function PT(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}function ns(e){return e.type==="blank"}function g3(e){return e.type==="line"}function Ou(e){return e.type==="virtual"}var Fu=C0(()=>{"use strict";s(AT,"virtualNode");s(PT,"topNode");s(ns,"isBlank");s(g3,"isLine");s(Ou,"isVirtual")});function fF(e,t){return Fa(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}function Fa(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(o=>{n(o)}),r==="bottomUp"&&t(i)}s(n,"_visit"),n(e)}function J9(e,t,r){let n=s(o=>{if(r!==void 0&&r(o))return o;{let a=o.subs.map(n).filter(l=>l!==void 0);return o.subs=a,t(o)}},"rebuild"),i=n(e);return i!==void 0?i:PT()}var p3=C0(()=>{"use strict";Fu();s(fF,"clearLabelsIf");s(Fa,"visitTree");s(J9,"rebuildTree")});function Q9(e,t){function r(n){if(g3(n)){let i=t.find(o=>o.matches(n.sourceLine));i&&(n.label=i.label)}}s(r,"visitor"),Fa(e,r,"bottomUp")}function Z9(e){function t(r){if(Ou(r)&&r.label===void 0){let n=r.subs.filter(i=>!ns(i));n.length===1&&(r.label=n[0].label)}}s(t,"visitor"),Fa(e,t,"bottomUp")}function Fh(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=s(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}function cF(e){let r=J9(e,s(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],o;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],f=n.subs[a-1];if(l.label==="opener"&&f!==void 0&&g3(f))f.subs.push(l),l.subs.forEach(c=>f.subs.push(c)),l.subs=[];else if(l.label==="closer"&&o!==void 0&&(g3(l)||Ou(l))&&l.indentation>=o.indentation){let c=i.length-1;for(;c>0&&ns(i[c]);)c-=1;if(o.subs.push(...i.splice(c+1)),l.subs.length>0){let u=o.subs.findIndex(y=>y.label!=="newVirtual"),d=o.subs.slice(0,u),p=o.subs.slice(u),g=p.length>0?[AT(l.indentation,p,"newVirtual")]:[];o.subs=[...d,...g,l]}else o.subs.push(l)}else i.push(l),ns(l)||(o=l)}return n.subs=i,n},"rebuilder"));return fF(e,n=>n==="newVirtual"),r}function uF(e,t=ns,r){return J9(e,s(function(i){if(i.subs.length<=1)return i;let o=[],a=[],l,f=!1;function c(u=!1){if(l!==void 0&&(o.length>0||!u)){let d=AT(l,a,r);o.push(d)}else a.forEach(d=>o.push(d))}s(c,"flushBlockIntoNewSubs");for(let u=0;u<i.subs.length;u++){let d=i.subs[u],p=t(d);!p&&f&&(c(),a=[]),f=p,a.push(d),ns(d)||(l=l!=null?l:d.indentation)}return c(!0),i.subs=o,i},"rebuilder"))}function y3(e){return J9(e,s(function(r){return Ou(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&Ou(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}function RT(e,t){QJ[e]=t}var JJ,t5e,QJ,v3=C0(()=>{"use strict";Fu();p3();s(Q9,"labelLines");s(Z9,"labelVirtualInherited");s(Fh,"buildLabelRules");s(cF,"combineClosersAndOpeners");s(uF,"groupBlocks");s(y3,"flattenVirtual");JJ={opener:/^[\[({]/,closer:/^[\])}]/},t5e=Fh(JJ),QJ={};s(RT,"registerLanguageSpecificParser")});function dF(e){let t=e;return Q9(t,eQ),t=cF(t),t=y3(t),Z9(t),Fa(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!ns(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}var ZJ,eQ,hF=C0(()=>{"use strict";Fu();p3();v3();ZJ={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[\[({]/,closer:/^[\])}]/},eQ=Fh(ZJ);s(dF,"processJava")});function mF(e){let t=e;if(Q9(t,rQ),ns(t))return t;function r(o){if(o.label==="heading")return 1;if(o.label==="subheading")return 2;if(o.label==="subsubheading")return 3}s(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let o of i){let a=r(o);if(a===void 0||ns(o))n[n.length-1].subs.push(o);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(o),n[a]=o;n.length>a+1;)n.pop()}}return t=uF(t),t=y3(t),Z9(t),t}var tQ,rQ,gF=C0(()=>{"use strict";Fu();v3();tQ={heading:/^# /,subheading:/^## /,subsubheading:/### /},rQ=Fh(tQ);s(mF,"processMarkdown")});var pF=C0(()=>{"use strict";Fu();p3()});var Mh=C0(()=>{"use strict";hF();gF();v3();Fu();pF();p3();v3();RT("markdown",mF);RT("java",dF)});var e7=C0(()=>{"use strict";Mh();NT()});var kT=C0(()=>{"use strict";Mh();e7()});var DT=C0(()=>{"use strict";m3()});var NT=C0(()=>{"use strict";m3();kT();DT()});function jl(){}function sQ(e,t,r,n,i){for(var o=[],a;t;)o.push(t),a=t.previousComponent,delete t.previousComponent,t=a;o.reverse();for(var l=0,f=o.length,c=0,u=0;l<f;l++){var d=o[l];if(d.removed){if(d.value=e.join(n.slice(u,u+d.count)),u+=d.count,l&&o[l-1].added){var g=o[l-1];o[l-1]=o[l],o[l]=g}}else{if(!d.added&&i){var p=r.slice(c,c+d.count);p=p.map(function(_,S){var T=n[u+S];return T.length>_.length?T:_}),d.value=e.join(p)}else d.value=e.join(r.slice(c,c+d.count));c+=d.count,d.added||(u+=d.count)}}var y=o[f-1];return f>1&&typeof y.value=="string"&&(y.added||y.removed)&&e.equals("",y.value)&&(o[f-2].value+=y.value,o.pop()),o}function t7(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t7=s(function(t){return typeof t},"_typeof"):t7=s(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),t7(e)}function LT(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var o;for(o=0;o<t.length;o+=1)if(t[o]===e)return r[o];var a;if(lQ.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),o=0;o<e.length;o+=1)a[o]=LT(e[o],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),t7(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],f;for(f in e)e.hasOwnProperty(f)&&l.push(f);for(l.sort(),o=0;o<l.length;o+=1)f=l[o],a[f]=LT(e[f],t,r,n,f);t.pop(),r.pop()}else a=e;return a}var r3e,xF,_F,bF,CF,oQ,aQ,lQ,Uh,BT,TF=C0(()=>{s(jl,"Diff");jl.prototype={diff:s(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.callback;typeof i=="function"&&(o=i,i={}),this.options=i;var a=this;function l(M){return o?(setTimeout(function(){o(void 0,M)},0),!0):M}s(l,"done"),t=this.castInput(t),r=this.castInput(r),t=this.removeEmpty(this.tokenize(t)),r=this.removeEmpty(this.tokenize(r));var f=r.length,c=t.length,u=1,d=f+c;i.maxEditLength&&(d=Math.min(d,i.maxEditLength));var p=(n=i.timeout)!==null&&n!==void 0?n:1/0,g=Date.now()+p,y=[{oldPos:-1,lastComponent:void 0}],_=this.extractCommon(y[0],r,t,0);if(y[0].oldPos+1>=c&&_+1>=f)return l([{value:this.join(r),count:r.length}]);var S=-1/0,T=1/0;function I(){for(var M=Math.max(S,-u);M<=Math.min(T,u);M+=2){var N=void 0,L=y[M-1],X=y[M+1];L&&(y[M-1]=void 0);var te=!1;if(X){var Ce=X.oldPos-M;te=X&&0<=Ce&&Ce<f}var De=L&&L.oldPos+1<c;if(!te&&!De){y[M]=void 0;continue}if(!De||te&&L.oldPos+1<X.oldPos?N=a.addToPath(X,!0,void 0,0):N=a.addToPath(L,void 0,!0,1),_=a.extractCommon(N,r,t,M),N.oldPos+1>=c&&_+1>=f)return l(sQ(a,N.lastComponent,r,t,a.useLongestToken));y[M]=N,N.oldPos+1>=c&&(T=Math.min(T,M-1)),_+1>=f&&(S=Math.max(S,M+1))}u++}if(s(I,"execEditLength"),o)s(function M(){setTimeout(function(){if(u>d||Date.now()>g)return o();I()||M()},0)},"exec")();else for(;u<=d&&Date.now()<=g;){var P=I();if(P)return P}},"diff"),addToPath:s(function(t,r,n,i){var o=t.lastComponent;return o&&o.added===r&&o.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:o.count+1,added:r,removed:n,previousComponent:o.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:o}}},"addToPath"),extractCommon:s(function(t,r,n,i){for(var o=r.length,a=n.length,l=t.oldPos,f=l-i,c=0;f+1<o&&l+1<a&&this.equals(r[f+1],n[l+1]);)f++,l++,c++;return c&&(t.lastComponent={count:c,previousComponent:t.lastComponent}),t.oldPos=l,f},"extractCommon"),equals:s(function(t,r){return this.options.comparator?this.options.comparator(t,r):t===r||this.options.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:s(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:s(function(t){return t},"castInput"),tokenize:s(function(t){return t.split("")},"tokenize"),join:s(function(t){return t.join("")},"join")};s(sQ,"buildValues");r3e=new jl,xF=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,_F=/\S/,bF=new jl;bF.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!_F.test(e)&&!_F.test(t)};bF.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&xF.test(t[r])&&xF.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};CF=new jl;CF.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var i=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};oQ=new jl;oQ.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};aQ=new jl;aQ.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};s(t7,"_typeof");lQ=Object.prototype.toString,Uh=new jl;Uh.useLongestToken=!0;Uh.tokenize=CF.tokenize;Uh.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(o,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(LT(e,null,null,i),i,"  ")};Uh.equals=function(e,t){return jl.prototype.equals.call(Uh,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};s(LT,"canonicalize");BT=new jl;BT.tokenize=function(e){return e.slice()};BT.join=BT.removeEmpty=function(e){return e}});var EF=C0(()=>{"use strict";TF();Mh();e7()});var SF=C0(()=>{"use strict";NT();EF();e7();kT();DT()});function dQ({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}function r7(e,t){var n;let r=(n=IF[t])!=null?n:cQ;if(r){let i=r.end==""?"":" "+r.end;return`${r.start} ${e}${i}`}return""}function qh(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(o=>r7(o,t)).join(`
`);return r?i+`
`:i}function AF(e){let{languageId:t}=e;return uQ.indexOf(t)===-1&&!dQ(e)?t in wF?wF[t]:r7(`Language: ${t}`,t):""}function PF(e){return e.relativePath?r7(`Path: ${e.relativePath}`,e.languageId):""}function x3(e){return e===""||e.endsWith(`
`)?e:e+`
`}var IF,cQ,uQ,wF,Mu=C0(()=>{"use strict";IF={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},legend:{start:"//",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slang:{start:"//",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},cQ={start:"//",end:""},uQ=["php","plaintext"],wF={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};s(dQ,"hasLanguageMarker");s(r7,"comment");s(qh,"commentBlockAsSingles");s(AF,"getLanguageMarker");s(PF,"getPathMarker");s(x3,"newLineEnded")});function gQ(e){return{...mQ,...e}}function OT(e,t={}){let r=gQ(t),n=Oh(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}var mQ,FT=C0(()=>{"use strict";m3();mQ={tokenizerName:"cl100k_base"};s(gQ,"cursorContextOptions");s(OT,"getCursorContext")});var RF=C0(()=>{"use strict"});var n7=C0(()=>{"use strict";$l();_3();RF()});var Uu=C0(()=>{"use strict";Mu();n7()});function yQ(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}var qT,MT,jT,UT,NF,$T,i7,vQ,xQ,_Q,HT=C0(()=>{"use strict";Uu();qT=class qT{constructor(t){this.keys=[];this.cache={};this.size=t}put(t,r){var n;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let i=(n=this.keys.shift())!=null?n:"";delete this.cache[i]}}get(t){return this.cache[t]}};s(qT,"FifoCache");MT=qT,jT=class jT{constructor(t){var r;this.stopsForLanguage=(r=_Q.get(t.languageId))!=null?r:xQ}tokenize(t){return new Set(yQ(t).filter(r=>!this.stopsForLanguage.has(r)))}};s(jT,"Tokenizer");UT=jT,NF=new MT(20),$T=class $T{constructor(t){this.referenceDoc=t,this.tokenizer=new UT(t)}get referenceTokens(){var t;return(t=this.referenceTokensCache)!=null?t:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}retrieveAllSnippets(t,r="descending"){var c;let n=[];if(t.source.length===0||this.referenceTokens.size===0)return n;let i=t.source.split(`
`),o=this.id()+":"+t.source,a=(c=NF.get(o))!=null?c:[],l=a.length==0,f=l?i.map(this.tokenizer.tokenize,this.tokenizer):[];for(let[u,[d,p]]of this.getWindowsDelineations(i).entries()){if(l){let _=new Set;f.slice(d,p).forEach(S=>S.forEach(_.add,_)),a.push(_)}let g=a[u],y=this.similarityScore(g,this.referenceTokens);if(n.length&&d>0&&n[n.length-1].endLine>d){n[n.length-1].score<y&&(n[n.length-1].score=y,n[n.length-1].startLine=d,n[n.length-1].endLine=p);continue}n.push({score:y,startLine:d,endLine:p})}return l&&NF.put(o,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}findBestMatch(t,r){if(t.source.length===0||this.referenceTokens.size===0)return[];let n=t.source.split(`
`),i=this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let o=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let l=n.slice(i[a].startLine,i[a].endLine).join(`
`);o.push({snippet:l,semantics:"snippet",provider:"similar-files",...i[a]})}return o}};s($T,"WindowedMatcher");i7=$T;s(yQ,"splitIntoWords");vQ=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),xQ=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...vQ]),_Q=new Map([])});function kF(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}var DF=C0(()=>{"use strict";p3();v3();s(kF,"getBasicWindowDelineations")});function bQ(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}var jh,o7,LF=C0(()=>{"use strict";FT();HT();DF();jh=class jh extends i7{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return kF(this.windowLength,t)}_getCursorContextInfo(t){return OT(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return bQ(t,r)}};s(jh,"FixedWindowSizeJaccardMatcher"),jh.FACTORY=s(t=>({to:r=>new jh(r,t)}),"FACTORY");o7=jh;s(bQ,"computeScore")});function b3(e,t){let r=process.env[e];if(r===void 0)return t;let n=parseInt(r);return isNaN(n)?t:n}function AQ(e,t){return o7.FACTORY(t.snippetLength).to(e)}async function OF(e,t,r){let n=AQ(e,r);return r.maxTopSnippets===0?[]:(await t.filter(o=>o.source.length<r.maxCharPerFile&&o.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(o,a)=>(await o).concat(n.findMatches(a,r.maxSnippetsPerFile).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(o=>o.score&&o.snippet&&o.score>r.threshold).sort((o,a)=>o.score-a.score).slice(-r.maxTopSnippets)}var CQ,TQ,EQ,SQ,wQ,IQ,BF,C3=C0(()=>{"use strict";LF();CQ=0,TQ=60,EQ=4,SQ=1,wQ=20,IQ=1e4;s(b3,"parseNumberFromEnv");BF={snippetLength:b3("GH_COPILOT_CPP_SNIPPET_WINDOW_SIZE",TQ),threshold:b3("GH_COPILOT_CPP_SNIPPET_THRESHOLD",CQ),maxTopSnippets:b3("GH_COPILOT_CPP_MAX_TOP_SNIPPETS",EQ),maxCharPerFile:b3("GH_COPILOT_CPP_MAX_CHARACTERS_PER_FILE",IQ),maxNumberOfFiles:b3("GH_COPILOT_CPP_MAX_NUMBER_OF_FILES",wQ),maxSnippetsPerFile:b3("GH_COPILOT_CPP_MAX_SNIPPETS_PER_FILE",SQ)};s(AQ,"getMatcher");s(OF,"getSimilarSnippets")});var FF=C0(()=>{"use strict"});var MF=C0(()=>{"use strict";FF();n7()});function UF(e,t){let r=`Use ${e}`;return qh(r,t)}function qF(e){let t=e.source.substring(0,e.offset);return RQ.test(t)}var RQ,VT=C0(()=>{"use strict";Mu();RQ=/(\.|\->|::)\w+$/;s(UF,"announceTooltipSignatureSnippet");s(qF,"endsWithAttributesOrMethod")});function Hl(e){var t;return e=e.toLowerCase(),(t=kQ[e])!=null?t:e}var $h,jF,$F,HF,kQ,_3=C0(()=>{"use strict";C3();Uu();MF();m3();VT();n7();$h=500,jF=8192-$h,$F=10,HF=15,kQ={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};s(Hl,"normalizeLanguageId")});var zT,qu,KT,Ma,ju=C0(()=>{"use strict";a7();zT=class zT extends Error{constructor(t){super(t),this.name="ProviderTimeoutError"}};s(zT,"ProviderTimeoutError");qu=zT,KT=class KT{constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,i)=>{r.aborted&&i({error:new qu("provider aborted"),providerType:this.type}),r.addEventListener("abort",()=>{i({error:new qu(`max runtime exceeded: ${WT} ms`),providerType:this.type})},{once:!0});let o=performance.now();this.buildSnippets(t).then(a=>{let l=performance.now();n({snippets:a,providerType:this.type,runtime:l-o})}).catch(a=>{i({error:a,providerType:this.type})})})}};s(KT,"SnippetProvider");Ma=KT});var GT,l7,VF=C0(()=>{"use strict";Mu();_3();Uu();ju();GT=class GT extends Ma{constructor(){super(...arguments);this.type="language"}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=Hl(n.languageId),[{provider:this.type,semantics:"snippet",snippet:x3(AF(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};s(GT,"LanguageSnippetProvider");l7=GT});var YT,f7,zF=C0(()=>{"use strict";Mu();_3();Uu();ju();YT=class YT extends Ma{constructor(){super(...arguments);this.type="path"}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=Hl(n.languageId),[{provider:this.type,semantics:"snippet",snippet:x3(PF(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};s(YT,"PathSnippetProvider");f7=YT});var XT,c7,KF=C0(()=>{"use strict";$l();ju();XT=class XT extends Ma{constructor(){super(...arguments);this.type="similar-files"}async buildSnippets(r){let{currentFile:n,similarFiles:i,options:o}=r;return o&&i&&i.length?await this.api.getSimilarSnippets(n,i,o.similarFilesOptions):[]}};s(XT,"SimilarFilesProvider");c7=XT});var JT,u7,WF=C0(()=>{"use strict";Mu();_3();Uu();VT();ju();JT=class JT extends Ma{constructor(){super(...arguments);this.type="tooltip-signature"}async buildSnippets(r){let{currentFile:n,tooltipSignature:i}=r,o=[];return n.languageId=Hl(n.languageId),i&&qF(n)&&o.push({provider:this.type,semantics:"snippet",snippet:x3(UF(i,n.languageId)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}),o}};s(JT,"TooltipSignatureSnippetProvider");u7=JT});var YF=ae(QT=>{var GF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");QT.encode=function(e){if(0<=e&&e<GF.length)return GF[e];throw new TypeError("Must be between 0 and 63: "+e)};QT.decode=function(e){var t=65,r=90,n=97,i=122,o=48,a=57,l=43,f=47,c=26,u=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+c:o<=e&&e<=a?e-o+u:e==l?62:e==f?63:-1}});var tE=ae(eE=>{var XF=YF(),ZT=5,JF=1<<ZT,QF=JF-1,ZF=JF;function DQ(e){return e<0?(-e<<1)+1:(e<<1)+0}s(DQ,"toVLQSigned");function LQ(e){var t=(e&1)===1,r=e>>1;return t?-r:r}s(LQ,"fromVLQSigned");eE.encode=s(function(t){var r="",n,i=DQ(t);do n=i&QF,i>>>=ZT,i>0&&(n|=ZF),r+=XF.encode(n);while(i>0);return r},"base64VLQ_encode");eE.decode=s(function(t,r,n){var i=t.length,o=0,a=0,l,f;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(f=XF.decode(t.charCodeAt(r++)),f===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));l=!!(f&ZF),f&=QF,o=o+(f<<a),a+=ZT}while(l);n.value=LQ(o),n.rest=r},"base64VLQ_decode")});var S3=ae(Ci=>{function BQ(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}s(BQ,"getArg");Ci.getArg=BQ;var eM=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,OQ=/^data:.+\,.+$/;function Hh(e){var t=e.match(eM);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}s(Hh,"urlParse");Ci.urlParse=Hh;function T3(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}s(T3,"urlGenerate");Ci.urlGenerate=T3;function rE(e){var t=e,r=Hh(e);if(r){if(!r.path)return e;t=r.path}for(var n=Ci.isAbsolute(t),i=t.split(/\/+/),o,a=0,l=i.length-1;l>=0;l--)o=i[l],o==="."?i.splice(l,1):o===".."?a++:a>0&&(o===""?(i.splice(l+1,a),a=0):(i.splice(l,2),a--));return t=i.join("/"),t===""&&(t=n?"/":"."),r?(r.path=t,T3(r)):t}s(rE,"normalize");Ci.normalize=rE;function tM(e,t){e===""&&(e="."),t===""&&(t=".");var r=Hh(t),n=Hh(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),T3(r);if(r||t.match(OQ))return t;if(n&&!n.host&&!n.path)return n.host=t,T3(n);var i=t.charAt(0)==="/"?t:rE(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,T3(n)):i}s(tM,"join");Ci.join=tM;Ci.isAbsolute=function(e){return e.charAt(0)==="/"||eM.test(e)};function FQ(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}s(FQ,"relative");Ci.relative=FQ;var rM=function(){var e=Object.create(null);return!("__proto__"in e)}();function nM(e){return e}s(nM,"identity");function MQ(e){return iM(e)?"$"+e:e}s(MQ,"toSetString");Ci.toSetString=rM?nM:MQ;function UQ(e){return iM(e)?e.slice(1):e}s(UQ,"fromSetString");Ci.fromSetString=rM?nM:UQ;function iM(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}s(iM,"isProtoString");function qQ(e,t,r){var n=E3(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:E3(e.name,t.name)}s(qQ,"compareByOriginalPositions");Ci.compareByOriginalPositions=qQ;function jQ(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=E3(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:E3(e.name,t.name)}s(jQ,"compareByGeneratedPositionsDeflated");Ci.compareByGeneratedPositionsDeflated=jQ;function E3(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}s(E3,"strcmp");function $Q(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=E3(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:E3(e.name,t.name)}s($Q,"compareByGeneratedPositionsInflated");Ci.compareByGeneratedPositionsInflated=$Q;function HQ(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}s(HQ,"parseSourceMapInput");Ci.parseSourceMapInput=HQ;function VQ(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=Hh(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=tM(T3(n),t)}return rE(t)}s(VQ,"computeSourceURL");Ci.computeSourceURL=VQ});var sE=ae(sM=>{var nE=S3(),iE=Object.prototype.hasOwnProperty,$u=typeof Map<"u";function Vl(){this._array=[],this._set=$u?new Map:Object.create(null)}s(Vl,"ArraySet");Vl.fromArray=s(function(t,r){for(var n=new Vl,i=0,o=t.length;i<o;i++)n.add(t[i],r);return n},"ArraySet_fromArray");Vl.prototype.size=s(function(){return $u?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");Vl.prototype.add=s(function(t,r){var n=$u?t:nE.toSetString(t),i=$u?this.has(t):iE.call(this._set,n),o=this._array.length;(!i||r)&&this._array.push(t),i||($u?this._set.set(t,o):this._set[n]=o)},"ArraySet_add");Vl.prototype.has=s(function(t){if($u)return this._set.has(t);var r=nE.toSetString(t);return iE.call(this._set,r)},"ArraySet_has");Vl.prototype.indexOf=s(function(t){if($u){var r=this._set.get(t);if(r>=0)return r}else{var n=nE.toSetString(t);if(iE.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");Vl.prototype.at=s(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");Vl.prototype.toArray=s(function(){return this._array.slice()},"ArraySet_toArray");sM.ArraySet=Vl});var lM=ae(aM=>{var oM=S3();function zQ(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,o=t.generatedColumn;return n>r||n==r&&o>=i||oM.compareByGeneratedPositionsInflated(e,t)<=0}s(zQ,"generatedPositionAfter");function d7(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}s(d7,"MappingList");d7.prototype.unsortedForEach=s(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");d7.prototype.add=s(function(t){zQ(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");d7.prototype.toArray=s(function(){return this._sorted||(this._array.sort(oM.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");aM.MappingList=d7});var oE=ae(fM=>{var Vh=tE(),ln=S3(),h7=sE().ArraySet,KQ=lM().MappingList;function no(e){e||(e={}),this._file=ln.getArg(e,"file",null),this._sourceRoot=ln.getArg(e,"sourceRoot",null),this._skipValidation=ln.getArg(e,"skipValidation",!1),this._sources=new h7,this._names=new h7,this._mappings=new KQ,this._sourcesContents=null}s(no,"SourceMapGenerator");no.prototype._version=3;no.fromSourceMap=s(function(t){var r=t.sourceRoot,n=new no({file:t.file,sourceRoot:r});return t.eachMapping(function(i){var o={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(o.source=i.source,r!=null&&(o.source=ln.relative(r,o.source)),o.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(o.name=i.name)),n.addMapping(o)}),t.sources.forEach(function(i){var o=i;r!==null&&(o=ln.relative(r,i)),n._sources.has(o)||n._sources.add(o);var a=t.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n},"SourceMapGenerator_fromSourceMap");no.prototype.addMapping=s(function(t){var r=ln.getArg(t,"generated"),n=ln.getArg(t,"original",null),i=ln.getArg(t,"source",null),o=ln.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,n,i,o),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:o})},"SourceMapGenerator_addMapping");no.prototype.setSourceContent=s(function(t,r){var n=t;this._sourceRoot!=null&&(n=ln.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[ln.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[ln.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");no.prototype.applySourceMap=s(function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var o=this._sourceRoot;o!=null&&(i=ln.relative(o,i));var a=new h7,l=new h7;this._mappings.unsortedForEach(function(f){if(f.source===i&&f.originalLine!=null){var c=t.originalPositionFor({line:f.originalLine,column:f.originalColumn});c.source!=null&&(f.source=c.source,n!=null&&(f.source=ln.join(n,f.source)),o!=null&&(f.source=ln.relative(o,f.source)),f.originalLine=c.line,f.originalColumn=c.column,c.name!=null&&(f.name=c.name))}var u=f.source;u!=null&&!a.has(u)&&a.add(u);var d=f.name;d!=null&&!l.has(d)&&l.add(d)},this),this._sources=a,this._names=l,t.sources.forEach(function(f){var c=t.sourceContentFor(f);c!=null&&(n!=null&&(f=ln.join(n,f)),o!=null&&(f=ln.relative(o,f)),this.setSourceContent(f,c))},this)},"SourceMapGenerator_applySourceMap");no.prototype._validateMapping=s(function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))}},"SourceMapGenerator_validateMapping");no.prototype._serializeMappings=s(function(){for(var t=0,r=1,n=0,i=0,o=0,a=0,l="",f,c,u,d,p=this._mappings.toArray(),g=0,y=p.length;g<y;g++){if(c=p[g],f="",c.generatedLine!==r)for(t=0;c.generatedLine!==r;)f+=";",r++;else if(g>0){if(!ln.compareByGeneratedPositionsInflated(c,p[g-1]))continue;f+=","}f+=Vh.encode(c.generatedColumn-t),t=c.generatedColumn,c.source!=null&&(d=this._sources.indexOf(c.source),f+=Vh.encode(d-a),a=d,f+=Vh.encode(c.originalLine-1-i),i=c.originalLine-1,f+=Vh.encode(c.originalColumn-n),n=c.originalColumn,c.name!=null&&(u=this._names.indexOf(c.name),f+=Vh.encode(u-o),o=u)),l+=f}return l},"SourceMapGenerator_serializeMappings");no.prototype._generateSourcesContent=s(function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=ln.relative(r,n));var i=ln.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");no.prototype.toJSON=s(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");no.prototype.toString=s(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");fM.SourceMapGenerator=no});var cM=ae(Hu=>{Hu.GREATEST_LOWER_BOUND=1;Hu.LEAST_UPPER_BOUND=2;function aE(e,t,r,n,i,o){var a=Math.floor((t-e)/2)+e,l=i(r,n[a],!0);return l===0?a:l>0?t-a>1?aE(a,t,r,n,i,o):o==Hu.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?aE(e,a,r,n,i,o):o==Hu.LEAST_UPPER_BOUND?a:e<0?-1:e}s(aE,"recursiveSearch");Hu.search=s(function(t,r,n,i){if(r.length===0)return-1;var o=aE(-1,r.length,t,r,n,i||Hu.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&n(r[o],r[o-1],!0)===0;)--o;return o},"search")});var dM=ae(uM=>{function lE(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}s(lE,"swap");function WQ(e,t){return Math.round(e+Math.random()*(t-e))}s(WQ,"randomIntInRange");function fE(e,t,r,n){if(r<n){var i=WQ(r,n),o=r-1;lE(e,i,n);for(var a=e[n],l=r;l<n;l++)t(e[l],a)<=0&&(o+=1,lE(e,o,l));lE(e,o+1,l);var f=o+1;fE(e,t,r,f-1),fE(e,t,f+1,n)}}s(fE,"doQuickSort");uM.quickSort=function(e,t){fE(e,t,0,e.length-1)}});var mM=ae(m7=>{var Rt=S3(),cE=cM(),w3=sE().ArraySet,GQ=tE(),zh=dM().quickSort;function br(e,t){var r=e;return typeof e=="string"&&(r=Rt.parseSourceMapInput(e)),r.sections!=null?new Ko(r,t):new Zn(r,t)}s(br,"SourceMapConsumer");br.fromSourceMap=function(e,t){return Zn.fromSourceMap(e,t)};br.prototype._version=3;br.prototype.__generatedMappings=null;Object.defineProperty(br.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});br.prototype.__originalMappings=null;Object.defineProperty(br.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});br.prototype._charIsMappingSeparator=s(function(t,r){var n=t.charAt(r);return n===";"||n===","},"SourceMapConsumer_charIsMappingSeparator");br.prototype._parseMappings=s(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");br.GENERATED_ORDER=1;br.ORIGINAL_ORDER=2;br.GREATEST_LOWER_BOUND=1;br.LEAST_UPPER_BOUND=2;br.prototype.eachMapping=s(function(t,r,n){var i=r||null,o=n||br.GENERATED_ORDER,a;switch(o){case br.GENERATED_ORDER:a=this._generatedMappings;break;case br.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;a.map(function(f){var c=f.source===null?null:this._sources.at(f.source);return c=Rt.computeSourceURL(l,c,this._sourceMapURL),{source:c,generatedLine:f.generatedLine,generatedColumn:f.generatedColumn,originalLine:f.originalLine,originalColumn:f.originalColumn,name:f.name===null?null:this._names.at(f.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");br.prototype.allGeneratedPositionsFor=s(function(t){var r=Rt.getArg(t,"line"),n={source:Rt.getArg(t,"source"),originalLine:r,originalColumn:Rt.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Rt.compareByOriginalPositions,cE.LEAST_UPPER_BOUND);if(o>=0){var a=this._originalMappings[o];if(t.column===void 0)for(var l=a.originalLine;a&&a.originalLine===l;)i.push({line:Rt.getArg(a,"generatedLine",null),column:Rt.getArg(a,"generatedColumn",null),lastColumn:Rt.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++o];else for(var f=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==f;)i.push({line:Rt.getArg(a,"generatedLine",null),column:Rt.getArg(a,"generatedColumn",null),lastColumn:Rt.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++o]}return i},"SourceMapConsumer_allGeneratedPositionsFor");m7.SourceMapConsumer=br;function Zn(e,t){var r=e;typeof e=="string"&&(r=Rt.parseSourceMapInput(e));var n=Rt.getArg(r,"version"),i=Rt.getArg(r,"sources"),o=Rt.getArg(r,"names",[]),a=Rt.getArg(r,"sourceRoot",null),l=Rt.getArg(r,"sourcesContent",null),f=Rt.getArg(r,"mappings"),c=Rt.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=Rt.normalize(a)),i=i.map(String).map(Rt.normalize).map(function(u){return a&&Rt.isAbsolute(a)&&Rt.isAbsolute(u)?Rt.relative(a,u):u}),this._names=w3.fromArray(o.map(String),!0),this._sources=w3.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(u){return Rt.computeSourceURL(a,u,t)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=f,this._sourceMapURL=t,this.file=c}s(Zn,"BasicSourceMapConsumer");Zn.prototype=Object.create(br.prototype);Zn.prototype.consumer=br;Zn.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=Rt.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};Zn.fromSourceMap=s(function(t,r){var n=Object.create(Zn.prototype),i=n._names=w3.fromArray(t._names.toArray(),!0),o=n._sources=w3.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(g){return Rt.computeSourceURL(n.sourceRoot,g,r)});for(var a=t._mappings.toArray().slice(),l=n.__generatedMappings=[],f=n.__originalMappings=[],c=0,u=a.length;c<u;c++){var d=a[c],p=new hM;p.generatedLine=d.generatedLine,p.generatedColumn=d.generatedColumn,d.source&&(p.source=o.indexOf(d.source),p.originalLine=d.originalLine,p.originalColumn=d.originalColumn,d.name&&(p.name=i.indexOf(d.name)),f.push(p)),l.push(p)}return zh(n.__originalMappings,Rt.compareByOriginalPositions),n},"SourceMapConsumer_fromSourceMap");Zn.prototype._version=3;Object.defineProperty(Zn.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function hM(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}s(hM,"Mapping");Zn.prototype._parseMappings=s(function(t,r){for(var n=1,i=0,o=0,a=0,l=0,f=0,c=t.length,u=0,d={},p={},g=[],y=[],_,S,T,I,P;u<c;)if(t.charAt(u)===";")n++,u++,i=0;else if(t.charAt(u)===",")u++;else{for(_=new hM,_.generatedLine=n,I=u;I<c&&!this._charIsMappingSeparator(t,I);I++);if(S=t.slice(u,I),T=d[S],T)u+=S.length;else{for(T=[];u<I;)GQ.decode(t,u,p),P=p.value,u=p.rest,T.push(P);if(T.length===2)throw new Error("Found a source, but no line and column");if(T.length===3)throw new Error("Found a source and line, but no column");d[S]=T}_.generatedColumn=i+T[0],i=_.generatedColumn,T.length>1&&(_.source=l+T[1],l+=T[1],_.originalLine=o+T[2],o=_.originalLine,_.originalLine+=1,_.originalColumn=a+T[3],a=_.originalColumn,T.length>4&&(_.name=f+T[4],f+=T[4])),y.push(_),typeof _.originalLine=="number"&&g.push(_)}zh(y,Rt.compareByGeneratedPositionsDeflated),this.__generatedMappings=y,zh(g,Rt.compareByOriginalPositions),this.__originalMappings=g},"SourceMapConsumer_parseMappings");Zn.prototype._findMapping=s(function(t,r,n,i,o,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return cE.search(t,r,o,a)},"SourceMapConsumer_findMapping");Zn.prototype.computeColumnSpans=s(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");Zn.prototype.originalPositionFor=s(function(t){var r={generatedLine:Rt.getArg(t,"line"),generatedColumn:Rt.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Rt.compareByGeneratedPositionsDeflated,Rt.getArg(t,"bias",br.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var o=Rt.getArg(i,"source",null);o!==null&&(o=this._sources.at(o),o=Rt.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var a=Rt.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:o,line:Rt.getArg(i,"originalLine",null),column:Rt.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");Zn.prototype.hasContentsOfAllSources=s(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");Zn.prototype.sourceContentFor=s(function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=Rt.relative(this.sourceRoot,i));var o;if(this.sourceRoot!=null&&(o=Rt.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(o.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!o.path||o.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");Zn.prototype.generatedPositionFor=s(function(t){var r=Rt.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Rt.getArg(t,"line"),originalColumn:Rt.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Rt.compareByOriginalPositions,Rt.getArg(t,"bias",br.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:Rt.getArg(o,"generatedLine",null),column:Rt.getArg(o,"generatedColumn",null),lastColumn:Rt.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");m7.BasicSourceMapConsumer=Zn;function Ko(e,t){var r=e;typeof e=="string"&&(r=Rt.parseSourceMapInput(e));var n=Rt.getArg(r,"version"),i=Rt.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new w3,this._names=new w3;var o={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var l=Rt.getArg(a,"offset"),f=Rt.getArg(l,"line"),c=Rt.getArg(l,"column");if(f<o.line||f===o.line&&c<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=l,{generatedOffset:{generatedLine:f+1,generatedColumn:c+1},consumer:new br(Rt.getArg(a,"map"),t)}})}s(Ko,"IndexedSourceMapConsumer");Ko.prototype=Object.create(br.prototype);Ko.prototype.constructor=br;Ko.prototype._version=3;Object.defineProperty(Ko.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}});Ko.prototype.originalPositionFor=s(function(t){var r={generatedLine:Rt.getArg(t,"line"),generatedColumn:Rt.getArg(t,"column")},n=cE.search(r,this._sections,function(o,a){var l=o.generatedLine-a.generatedOffset.generatedLine;return l||o.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");Ko.prototype.hasContentsOfAllSources=s(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");Ko.prototype.sourceContentFor=s(function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],o=i.consumer.sourceContentFor(t,!0);if(o)return o}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");Ko.prototype.generatedPositionFor=s(function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Rt.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var o={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return o}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");Ko.prototype._parseMappings=s(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],o=i.consumer._generatedMappings,a=0;a<o.length;a++){var l=o[a],f=i.consumer._sources.at(l.source);f=Rt.computeSourceURL(i.consumer.sourceRoot,f,this._sourceMapURL),this._sources.add(f),f=this._sources.indexOf(f);var c=null;l.name&&(c=i.consumer._names.at(l.name),this._names.add(c),c=this._names.indexOf(c));var u={source:f,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:c};this.__generatedMappings.push(u),typeof u.originalLine=="number"&&this.__originalMappings.push(u)}zh(this.__generatedMappings,Rt.compareByGeneratedPositionsDeflated),zh(this.__originalMappings,Rt.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");m7.IndexedSourceMapConsumer=Ko});var pM=ae(gM=>{var YQ=oE().SourceMapGenerator,g7=S3(),XQ=/(\r?\n)/,JQ=10,I3="$$$isSourceNode$$$";function Rs(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=r==null?null:r,this.name=i==null?null:i,this[I3]=!0,n!=null&&this.add(n)}s(Rs,"SourceNode");Rs.fromStringWithSourceMap=s(function(t,r,n){var i=new Rs,o=t.split(XQ),a=0,l=s(function(){var p=y(),g=y()||"";return p+g;function y(){return a<o.length?o[a++]:void 0}},"shiftNextLine"),f=1,c=0,u=null;return r.eachMapping(function(p){if(u!==null)if(f<p.generatedLine)d(u,l()),f++,c=0;else{var g=o[a]||"",y=g.substr(0,p.generatedColumn-c);o[a]=g.substr(p.generatedColumn-c),c=p.generatedColumn,d(u,y),u=p;return}for(;f<p.generatedLine;)i.add(l()),f++;if(c<p.generatedColumn){var g=o[a]||"";i.add(g.substr(0,p.generatedColumn)),o[a]=g.substr(p.generatedColumn),c=p.generatedColumn}u=p},this),a<o.length&&(u&&d(u,l()),i.add(o.splice(a).join(""))),r.sources.forEach(function(p){var g=r.sourceContentFor(p);g!=null&&(n!=null&&(p=g7.join(n,p)),i.setSourceContent(p,g))}),i;function d(p,g){if(p===null||p.source===void 0)i.add(g);else{var y=n?g7.join(n,p.source):p.source;i.add(new Rs(p.originalLine,p.originalColumn,y,g,p.name))}}s(d,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");Rs.prototype.add=s(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[I3]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");Rs.prototype.prepend=s(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[I3]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");Rs.prototype.walk=s(function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[I3]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");Rs.prototype.join=s(function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this},"SourceNode_join");Rs.prototype.replaceRight=s(function(t,r){var n=this.children[this.children.length-1];return n[I3]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");Rs.prototype.setSourceContent=s(function(t,r){this.sourceContents[g7.toSetString(t)]=r},"SourceNode_setSourceContent");Rs.prototype.walkSourceContents=s(function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][I3]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(g7.fromSetString(i[r]),this.sourceContents[i[r]])},"SourceNode_walkSourceContents");Rs.prototype.toString=s(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");Rs.prototype.toStringWithSourceMap=s(function(t){var r={code:"",line:1,column:0},n=new YQ(t),i=!1,o=null,a=null,l=null,f=null;return this.walk(function(c,u){r.code+=c,u.source!==null&&u.line!==null&&u.column!==null?((o!==u.source||a!==u.line||l!==u.column||f!==u.name)&&n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:r.line,column:r.column},name:u.name}),o=u.source,a=u.line,l=u.column,f=u.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),o=null,i=!1);for(var d=0,p=c.length;d<p;d++)c.charCodeAt(d)===JQ?(r.line++,r.column=0,d+1===p?(o=null,i=!1):i&&n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:r.line,column:r.column},name:u.name})):r.column++}),this.walkSourceContents(function(c,u){n.setSourceContent(c,u)}),{code:r.code,map:n}},"SourceNode_toStringWithSourceMap");gM.SourceNode=Rs});var yM=ae(p7=>{p7.SourceMapGenerator=oE().SourceMapGenerator;p7.SourceMapConsumer=mM().SourceMapConsumer;p7.SourceNode=pM().SourceNode});var xM=ae((P4e,vM)=>{var QQ=Object.prototype.toString,uE=typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function ZQ(e){return QQ.call(e).slice(8,-1)==="ArrayBuffer"}s(ZQ,"isArrayBuffer");function eZ(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return uE?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}s(eZ,"fromArrayBuffer");function tZ(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return uE?Buffer.from(e,t):new Buffer(e,t)}s(tZ,"fromString");function rZ(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return ZQ(e)?eZ(e,t,r):typeof e=="string"?tZ(e,t):uE?Buffer.from(e):new Buffer(e)}s(rZ,"bufferFrom");vM.exports=rZ});var IM=ae((zu,gE)=>{var nZ=yM().SourceMapConsumer,dE=require("path"),Ua;try{Ua=require("fs"),(!Ua.existsSync||!Ua.readFileSync)&&(Ua=null)}catch{}var iZ=xM();function _M(e,t){return e.require(t)}s(_M,"dynamicRequire");var bM=!1,CM=!1,hE=!1,Kh="auto",Vu={},Wh={},sZ=/^data:application\/json[^,]+base64,/,wc=[],Ic=[];function pE(){return Kh==="browser"?!0:Kh==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}s(pE,"isInBrowser");function oZ(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}s(oZ,"hasGlobalProcessEventEmitter");function aZ(){return typeof process=="object"&&process!==null?process.version:""}s(aZ,"globalProcessVersion");function lZ(){if(typeof process=="object"&&process!==null)return process.stderr}s(lZ,"globalProcessStderr");function fZ(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}s(fZ,"globalProcessExit");function y7(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}s(y7,"handlerExec");var yE=y7(wc);wc.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),e in Vu)return Vu[e];var t="";try{if(Ua)Ua.existsSync(e)&&(t=Ua.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return Vu[e]=t});function mE(e,t){if(!e)return t;var r=dE.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",o=r.slice(i.length);return i&&/^\/\w\:/.test(o)?(i+="/",i+dE.resolve(r.slice(i.length),t).replace(/\\/g,"/")):i+dE.resolve(r.slice(i.length),t)}s(mE,"supportRelativeURL");function cZ(e){var t;if(pE())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}t=yE(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,o,a;a=i.exec(t);)o=a;return o?o[1]:null}s(cZ,"retrieveSourceMapURL");var vE=y7(Ic);Ic.push(function(e){var t=cZ(e);if(!t)return null;var r;if(sZ.test(t)){var n=t.slice(t.indexOf(",")+1);r=iZ(n,"base64").toString(),t=e}else t=mE(e,t),r=yE(t);return r?{url:t,map:r}:null});function xE(e){var t=Wh[e.source];if(!t){var r=vE(e.source);r?(t=Wh[e.source]={url:r.url,map:new nZ(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,o){var a=t.map.sourcesContent[o];if(a){var l=mE(t.url,i);Vu[l]=a}})):t=Wh[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var n=t.map.originalPositionFor(e);if(n.source!==null)return n.source=mE(t.url,n.source),n}return e}s(xE,"mapSourcePosition");function EM(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=xE({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+EM(t[2])+")":e}s(EM,"mapEvalOrigin");function uZ(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",o=this.getFunctionName(),a=!0,l=this.isConstructor(),f=!(this.isToplevel()||l);if(f){var c=this.getTypeName();c==="[object Object]"&&(c="null");var u=this.getMethodName();o?(c&&o.indexOf(c)!=0&&(i+=c+"."),i+=o,u&&o.indexOf("."+u)!=o.length-u.length-1&&(i+=" [as "+u+"]")):i+=c+"."+(u||"<anonymous>")}else l?i+="new "+(o||"<anonymous>"):o?i+=o:(i+=t,a=!1);return a&&(i+=" ("+t+")"),i}s(uZ,"CallSiteToString");function TM(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=uZ,t}s(TM,"cloneCallSite");function SM(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,o=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=o.test(aZ())?0:62;n===1&&i>a&&!pE()&&!e.isEval()&&(i-=a);var l=xE({source:r,line:n,column:i});t.curPosition=l,e=TM(e);var f=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?f():t.nextPosition.name||f()},e.getFileName=function(){return l.source},e.getLineNumber=function(){return l.line},e.getColumnNumber=function(){return l.column+1},e.getScriptNameOrSourceURL=function(){return l.source},e}var c=e.isEval()&&e.getEvalOrigin();return c&&(c=EM(c),e=TM(e),e.getEvalOrigin=function(){return c}),e}s(SM,"wrapCallSite");function dZ(e,t){hE&&(Vu={},Wh={});for(var r=e.name||"Error",n=e.message||"",i=r+": "+n,o={nextPosition:null,curPosition:null},a=[],l=t.length-1;l>=0;l--)a.push(`
    at `+SM(t[l],o)),o.nextPosition=o.curPosition;return o.curPosition=o.nextPosition=null,i+a.reverse().join("")}s(dZ,"prepareStackTrace");function wM(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],n=+t[2],i=+t[3],o=Vu[r];if(!o&&Ua&&Ua.existsSync(r))try{o=Ua.readFileSync(r,"utf8")}catch{o=""}if(o){var a=o.split(/(?:\r\n|\r|\n)/)[n-1];if(a)return r+":"+n+`
`+a+`
`+new Array(i).join(" ")+"^"}}return null}s(wM,"getErrorSource");function hZ(e){var t=wM(e),r=lZ();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),fZ(1)}s(hZ,"printErrorAndExit");function mZ(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(t).length>0;if(r&&!n)return hZ(arguments[1])}return e.apply(this,arguments)}}s(mZ,"shimEmitUncaughtException");var gZ=wc.slice(0),pZ=Ic.slice(0);zu.wrapCallSite=SM;zu.getErrorSource=wM;zu.mapSourcePosition=xE;zu.retrieveSourceMap=vE;zu.install=function(e){if(e=e||{},e.environment&&(Kh=e.environment,["node","browser","auto"].indexOf(Kh)===-1))throw new Error("environment "+Kh+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(wc.length=0),wc.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(Ic.length=0),Ic.unshift(e.retrieveSourceMap)),e.hookRequire&&!pE()){var t=_M(gE,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(o,a){return Vu[a]=o,Wh[a]=void 0,r.call(this,o,a)},t.prototype._compile.__sourceMapSupport=!0)}if(hE||(hE="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),bM||(bM=!0,Error.prepareStackTrace=dZ),!CM){var n="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=_M(gE,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&oZ()&&(CM=!0,mZ())}};zu.resetRetrieveHandlers=function(){wc.length=0,Ic.length=0,wc=gZ.slice(0),Ic=pZ.slice(0),vE=y7(Ic),yE=y7(wc)}});var AM=ae(()=>{IM().install()});function yZ(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}var v7,qa,PM,bE,_E,x7,RM=C0(()=>{"use strict";v7=P0(require("path")),qa=require("worker_threads");C3();s(yZ,"sleep");PM=["getSimilarSnippets","sleep"],bE=class bE{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=OF;this.sleep=yZ;var t;!qa.isMainThread&&((t=qa.workerData)!=null&&t.port)&&(AM(),process.cwd=()=>qa.workerData.cwd,this.configureWorkerResponse(qa.workerData.port))}initWorker(){let{port1:t,port2:r}=new qa.MessageChannel;this.port=t,this.worker=new qa.Worker(v7.default.resolve(v7.default.extname(__filename)!==".ts"?__dirname:v7.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of PM)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of PM){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",async({id:r,fn:n,args:i})=>{let o=this[n];if(!o)throw new Error(`Function not found: ${n}`);try{let a=await o.apply(this,i);this.port.postMessage({id:r,res:a})}catch(a){if(!(a instanceof Error))throw a;typeof a.code=="string"?this.port.postMessage({id:r,err:a,code:a.code}):this.port.postMessage({id:r,err:a})}})}handleMessage({id:t,err:r,code:n,res:i}){let o=this.handlers.get(t);o&&(this.handlers.delete(t),r?(r.code=n,o.reject(r)):o.resolve(i))}handleError(t){var n;console.log(t);let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((n=r.message)!=null&&n.endsWith("workerProxy.js'"))&&(r=new Error("Failed to load workerProxy.js"),r.code="CopilotPromptLoadFailure");let i=new Error().stack;r.stack&&(i!=null&&i.match(/^Error\n/))&&(r.stack+=i.replace(/^Error/,""))}else(t==null?void 0:t.name)==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${t}`);for(let i of this.handlers.values())i.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((i,o)=>{var a;this.handlers.set(n,{resolve:i,reject:o}),(a=this.port)==null||a.postMessage({id:n,fn:t,args:r})})}}};s(bE,"WorkerProxy");_E=bE,x7=new _E});function xZ(e){return Promise.all(e.map(t=>t.then(_Z,bZ)))}function _Z(e){return{status:"fulfilled",value:e}}function bZ(e){return{status:"rejected",reason:e}}var WT,vZ,CE,Ku,a7=C0(()=>{"use strict";VF();zF();KF();ju();WF();RM();WT=300,vZ=[l7,f7,c7,u7],CE=class CE{constructor(t=vZ){this.startThreading=s(()=>x7.startThreading(),"startThreading");this.stopThreading=s(()=>x7.stopThreading(),"stopThreading");this.providers=t.map(r=>new r(x7))}async getSnippets(t){let r=AbortSignal.timeout(WT),n=this.providers.map(i=>i.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(n):xZ(n)}};s(CE,"SnippetOrchestrator");Ku=CE;s(xZ,"allSettledBackup");s(_Z,"createPromiseFulfilledResult");s(bZ,"createPromiseRejectedResult")});function CZ(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}function kM(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}function NM(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}function TZ(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=NM(e,r),i=NM(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}var TE,_7,EE,b7,SE,A3,J4e,DM=C0(()=>{"use strict";kh();TE=class TE{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}async getNodeMatchAtPosition(t,r,n){let i=await lT(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let f=this.nodeTypesWithBlockOrStmtChild.get(a.type),c=f==""?a.namedChildren[0]:a.childForFieldName(f);if((c==null?void 0:c.type)==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let o=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(o){if(this.languageId=="python"&&o.parent){let a=o.parent.type==":"?o.parent.parent:o.parent,l=a==null?void 0:a.nextSibling;for(;l&&l.type=="comment";){let f=l.startPosition.row==o.endPosition.row&&l.startPosition.column>=o.endPosition.column,c=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(f||c)o=l,l=l.nextSibling;else break}}if(!(o.endIndex>=o.tree.rootNode.endIndex-1&&(o.hasError()||o.parent.hasError())))return n(o)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),o=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(o!==void 0&&o<i.length){let a=o-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}};s(TE,"BaseBlockParser");_7=TE,EE=class EE extends _7{constructor(r,n,i,o,a){super(r,o,a);this.blockEmptyMatch=n;this.lineMatch=i}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,o=>{o.startIndex<n&&(n=o.startIndex);let a=r.substring(n,o.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=kM(r,n),this.isBlockStart(CZ(r,n))&&this.isBlockBodyEmpty(r,n)}};s(EE,"RegexBasedBlockParser");b7=EE;s(CZ,"getLineAtOffset");s(kM,"rewindToNearestNonWs");s(NM,"indent");s(TZ,"outdented");SE=class SE extends _7{constructor(r,n,i,o,a,l,f){super(r,n,i);this.startKeywords=o;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=f}isBlockEmpty(r,n){var o,a;let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(((o=r.parent)==null?void 0:o.type)=="class_definition"||((a=r.parent)==null?void 0:a.type)=="function_definition")&&r.children.length==1&&zO(r.parent))}async isEmptyBlockStart(r,n){var o,a,l,f;if(n>r.length)throw new RangeError("Invalid offset");for(let c=n;c<r.length&&r.charAt(c)!=`
`;c++)if(/\S/.test(r.charAt(c)))return!1;n=kM(r,n);let i=await lT(this.languageId,r);try{let c=i.rootNode.descendantForIndex(n-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let y=c;for(;y.parent;){if(y.type=="function_signature"||y.type=="method_signature"){let _=c.nextSibling;return _&&y.hasError()&&TZ(y,_,r)?!0:!y.children.find(T=>T.type==";")&&y.endIndex<=n}y=y.parent}}let u=null,d=null,p=null,g=c;for(;g!=null;){if(g.type==this.blockNodeType){d=g;break}if(this.nodeMatch[g.type]){p=g;break}if(g.type=="ERROR"){u=g;break}g=g.parent}if(d!=null){if(!d.parent||!this.nodeMatch[d.parent.type])return!1;if(this.languageId=="python"){let y=d.previousSibling;if(y!=null&&y.hasError()&&(y.text.startsWith('"""')||y.text.startsWith("'''")))return!0}return this.isBlockEmpty(d,n)}if(u!=null){if(((o=u.previousSibling)==null?void 0:o.type)=="module"||((a=u.previousSibling)==null?void 0:a.type)=="internal_module"||((l=u.previousSibling)==null?void 0:l.type)=="def")return!0;let y=[...u.children].reverse(),_=y.find(T=>this.startKeywords.includes(T.type)),S=y.find(T=>T.type==this.blockNodeType);if(_){switch(this.languageId){case"python":{_.type=="try"&&c.type=="identifier"&&c.text.length>4&&(S=(f=y.find(P=>P.hasError()))==null?void 0:f.children.find(P=>P.type=="block"));let T,I=0;for(let P of u.children){if(P.type==":"&&I==0){T=P;break}P.type=="("&&(I+=1),P.type==")"&&(I-=1)}if(T&&_.endIndex<=T.startIndex&&T.nextSibling){if(_.type=="def"){let P=T.nextSibling;if(P.type=='"'||P.type=="'"||P.type=="ERROR"&&(P.text=='"""'||P.text=="'''"))return!0}return!1}break}case"javascript":{let T=y.find(M=>M.type=="formal_parameters");if(_.type=="class"&&T)return!0;let I=y.find(M=>M.type=="{");if(I&&I.startIndex>_.endIndex&&I.nextSibling!=null||y.find(M=>M.type=="do")&&_.type=="while"||_.type=="=>"&&_.nextSibling&&_.nextSibling.type!="{")return!1;break}case"typescript":{let T=y.find(P=>P.type=="{");if(T&&T.startIndex>_.endIndex&&T.nextSibling!=null||y.find(P=>P.type=="do")&&_.type=="while"||_.type=="=>"&&_.nextSibling&&_.nextSibling.type!="{")return!1;break}}return S&&S.startIndex>_.endIndex?this.isBlockEmpty(S,n):!0}}if(p!=null){let y=this.nodeMatch[p.type],_=p.children.slice().reverse().find(S=>S.type==y);if(_)return this.isBlockEmpty(_,n);if(this.nodeTypesWithBlockOrStmtChild.has(p.type)){let S=this.nodeTypesWithBlockOrStmtChild.get(p.type),T=S==""?p.children[0]:p.childForFieldName(S);if(T&&T.type!=this.blockNodeType&&T.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}};s(SE,"TreeSitterBasedBlockParser");A3=SE,J4e={python:new A3("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new A3("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new A3("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new A3("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new b7("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new b7("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map)}});var $l=C0(()=>{"use strict";SF();Mh();Mu();a7();kh();DM();_3();FT();HT();C3();Uu();ju();m3()});var AE=ae((She,BM)=>{"use strict";BM.exports=s(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var FM=ae((Ihe,OM)=>{"use strict";var AZ=AE();function PZ(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=AZ(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}s(PZ,"parsePath");OM.exports=PZ});var qM=ae((Phe,UM)=>{"use strict";var RZ=FM();function NZ(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}s(NZ,"_interopDefaultLegacy");var kZ=NZ(RZ),DZ="text/plain",LZ="us-ascii",MM=s((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),BZ=s((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:o}=r.groups,a=n.split(";");o=t?"":o;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let f=(a.shift()||"").toLowerCase(),u=[...a.map(d=>{let[p,g=""]=d.split("=").map(y=>y.trim());return p==="charset"&&(g=g.toLowerCase(),g===LZ)?"":`${p}${g?`=${g}`:""}`}).filter(Boolean)];return l&&u.push("base64"),(u.length>0||f&&f!==DZ)&&u.unshift(f),`data:${u.join(";")},${l?i.trim():i}${o?`#${o}`:""}`},"normalizeDataURL");function OZ(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return BZ(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,f="";for(;;){let u=a.exec(i.pathname);if(!u)break;let d=u[0],p=u.index,g=i.pathname.slice(l,p);f+=g.replace(/\/{2,}/g,"/"),f+=d,l=p+d.length}let c=i.pathname.slice(l,i.pathname.length);f+=c.replace(/\/{2,}/g,"/"),i.pathname=f}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];MM(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])MM(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let o=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!o.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}s(OZ,"normalizeUrl");var PE=s((e,t=!1)=>{let r=/^(?:([a-z_][a-z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:]([\~,\.\w,\-,\_,\/]+?(?:\.git|\/)?)$/,n=s(o=>{let a=new Error(o);throw a.subject_url=e,a},"throwErr");(typeof e!="string"||!e.trim())&&n("Invalid url."),e.length>PE.MAX_INPUT_LENGTH&&n("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),t&&(typeof t!="object"&&(t={stripHash:!1}),e=OZ(e,t));let i=kZ.default(e);if(i.parse_failed){let o=i.href.match(r);o?(i.protocols=["ssh"],i.protocol="ssh",i.resource=o[2],i.host=o[2],i.user=o[1],i.pathname=`/${o[3]}`,i.parse_failed=!1):n("URL parsing failed.")}return i},"parseUrl");PE.MAX_INPUT_LENGTH=2048;UM.exports=PE});var HM=ae((Nhe,$M)=>{"use strict";var FZ=AE();function jM(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=FZ(e);if(e=e.substring(e.indexOf("://")+3),jM(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}s(jM,"isSsh");$M.exports=jM});var KM=ae((Dhe,zM)=>{"use strict";var MZ=qM(),VM=HM();function UZ(e){var t=MZ(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),VM(t.protocols)||t.protocols.length===0&&VM(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}s(UZ,"gitUp");zM.exports=UZ});var GM=ae((Bhe,WM)=>{"use strict";var qZ=KM();function RE(e){if(typeof e!="string")throw new Error("The url must be a string.");var t=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;t.test(e)&&(e="https://github.com/"+e);var r=qZ(e),n=r.resource.split("."),i=null;switch(r.toString=function(T){return RE.stringify(this,T)},r.source=n.length>2?n.slice(1-n.length).join("."):r.source=r.resource,r.git_suffix=/\.git$/.test(r.pathname),r.name=decodeURIComponent((r.pathname||r.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),r.owner=decodeURIComponent(r.user),r.source){case"git.cloudforge.com":r.owner=r.user,r.organization=n[0],r.source="cloudforge.com";break;case"visualstudio.com":if(r.resource==="vs-ssh.visualstudio.com"){i=r.name.split("/"),i.length===4&&(r.organization=i[1],r.owner=i[2],r.name=i[3],r.full_name=i[2]+"/"+i[3]);break}else{i=r.name.split("/"),i.length===2?(r.owner=i[1],r.name=i[1],r.full_name="_git/"+r.name):i.length===3?(r.name=i[2],i[0]==="DefaultCollection"?(r.owner=i[2],r.organization=i[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=i[0],r.full_name=r.owner+"/_git/"+r.name)):i.length===4&&(r.organization=i[0],r.owner=i[1],r.name=i[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name);break}case"dev.azure.com":case"azure.com":if(r.resource==="ssh.dev.azure.com"){i=r.name.split("/"),i.length===4&&(r.organization=i[1],r.owner=i[2],r.name=i[3]);break}else{i=r.name.split("/"),i.length===5?(r.organization=i[0],r.owner=i[1],r.name=i[4],r.full_name="_git/"+r.name):i.length===3?(r.name=i[2],i[0]==="DefaultCollection"?(r.owner=i[2],r.organization=i[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=i[0],r.full_name=r.owner+"/_git/"+r.name)):i.length===4&&(r.organization=i[0],r.owner=i[1],r.name=i[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name),r.query&&r.query.path&&(r.filepath=r.query.path.replace(/^\/+/g,"")),r.query&&r.query.version&&(r.ref=r.query.version.replace(/^GB/,""));break}default:i=r.name.split("/");var o=i.length-1;if(i.length>=2){var a=i.indexOf("-",2),l=i.indexOf("blob",2),f=i.indexOf("tree",2),c=i.indexOf("commit",2),u=i.indexOf("issues",2),d=i.indexOf("src",2),p=i.indexOf("raw",2),g=i.indexOf("edit",2);o=a>0?a-1:l>0&&f>0?Math.min(l-1,f-1):l>0?l-1:u>0?u-1:f>0?f-1:c>0?c-1:d>0?d-1:p>0?p-1:g>0?g-1:o,r.owner=i.slice(0,o).join("/"),r.name=i[o],c&&u<0&&(r.commit=i[o+2])}r.ref="",r.filepathtype="",r.filepath="";var y=i.length>o&&i[o+1]==="-"?o+1:o;i.length>y+2&&["raw","src","blob","tree","edit"].indexOf(i[y+1])>=0&&(r.filepathtype=i[y+1],r.ref=i[y+2],i.length>y+3&&(r.filepath=i.slice(y+3).join("/"))),r.organization=r.owner;break}r.full_name||(r.full_name=r.owner,r.name&&(r.full_name&&(r.full_name+="/"),r.full_name+=r.name)),r.owner.startsWith("scm/")&&(r.source="bitbucket-server",r.owner=r.owner.replace("scm/",""),r.organization=r.owner,r.full_name=r.owner+"/"+r.name);var _=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,S=_.exec(r.pathname);return S!=null&&(r.source="bitbucket-server",S[1]==="users"?r.owner="~"+S[2]:r.owner=S[2],r.organization=r.owner,r.name=S[3],i=S[4].split("/"),i.length>1&&(["raw","browse"].indexOf(i[1])>=0?(r.filepathtype=i[1],i.length>2&&(r.filepath=i.slice(2).join("/"))):i[1]==="commits"&&i.length>2&&(r.commit=i[2])),r.full_name=r.owner+"/"+r.name,r.query.at?r.ref=r.query.at:r.ref=""),r}s(RE,"gitUrlParse");RE.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var o=e.token?jZ(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+o+e.resource+r+"/"+$Z(e)+i;default:return e.href}};function jZ(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}s(jZ,"buildToken");function $Z(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}s($Z,"buildPath");WM.exports=RE});var Gu=ae((Gh,NE)=>{(function(e,t){if(typeof Gh=="object"&&typeof NE=="object")NE.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof Gh=="object"?Gh:e)[n]=r[n]}})(Gh,()=>(()=>{"use strict";var e={470:i=>{function o(f){if(typeof f!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(f))}s(o,"e");function a(f,c){for(var u,d="",p=0,g=-1,y=0,_=0;_<=f.length;++_){if(_<f.length)u=f.charCodeAt(_);else{if(u===47)break;u=47}if(u===47){if(!(g===_-1||y===1))if(g!==_-1&&y===2){if(d.length<2||p!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var S=d.lastIndexOf("/");if(S!==d.length-1){S===-1?(d="",p=0):p=(d=d.slice(0,S)).length-1-d.lastIndexOf("/"),g=_,y=0;continue}}else if(d.length===2||d.length===1){d="",p=0,g=_,y=0;continue}}c&&(d.length>0?d+="/..":d="..",p=2)}else d.length>0?d+="/"+f.slice(g+1,_):d=f.slice(g+1,_),p=_-g-1;g=_,y=0}else u===46&&y!==-1?++y:y=-1}return d}s(a,"r");var l={resolve:function(){for(var f,c="",u=!1,d=arguments.length-1;d>=-1&&!u;d--){var p;d>=0?p=arguments[d]:(f===void 0&&(f=process.cwd()),p=f),o(p),p.length!==0&&(c=p+"/"+c,u=p.charCodeAt(0)===47)}return c=a(c,!u),u?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(f){if(o(f),f.length===0)return".";var c=f.charCodeAt(0)===47,u=f.charCodeAt(f.length-1)===47;return(f=a(f,!c)).length!==0||c||(f="."),f.length>0&&u&&(f+="/"),c?"/"+f:f},isAbsolute:function(f){return o(f),f.length>0&&f.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var f,c=0;c<arguments.length;++c){var u=arguments[c];o(u),u.length>0&&(f===void 0?f=u:f+="/"+u)}return f===void 0?".":l.normalize(f)},relative:function(f,c){if(o(f),o(c),f===c||(f=l.resolve(f))===(c=l.resolve(c)))return"";for(var u=1;u<f.length&&f.charCodeAt(u)===47;++u);for(var d=f.length,p=d-u,g=1;g<c.length&&c.charCodeAt(g)===47;++g);for(var y=c.length-g,_=p<y?p:y,S=-1,T=0;T<=_;++T){if(T===_){if(y>_){if(c.charCodeAt(g+T)===47)return c.slice(g+T+1);if(T===0)return c.slice(g+T)}else p>_&&(f.charCodeAt(u+T)===47?S=T:T===0&&(S=0));break}var I=f.charCodeAt(u+T);if(I!==c.charCodeAt(g+T))break;I===47&&(S=T)}var P="";for(T=u+S+1;T<=d;++T)T!==d&&f.charCodeAt(T)!==47||(P.length===0?P+="..":P+="/..");return P.length>0?P+c.slice(g+S):(g+=S,c.charCodeAt(g)===47&&++g,c.slice(g))},_makeLong:function(f){return f},dirname:function(f){if(o(f),f.length===0)return".";for(var c=f.charCodeAt(0),u=c===47,d=-1,p=!0,g=f.length-1;g>=1;--g)if((c=f.charCodeAt(g))===47){if(!p){d=g;break}}else p=!1;return d===-1?u?"/":".":u&&d===1?"//":f.slice(0,d)},basename:function(f,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');o(f);var u,d=0,p=-1,g=!0;if(c!==void 0&&c.length>0&&c.length<=f.length){if(c.length===f.length&&c===f)return"";var y=c.length-1,_=-1;for(u=f.length-1;u>=0;--u){var S=f.charCodeAt(u);if(S===47){if(!g){d=u+1;break}}else _===-1&&(g=!1,_=u+1),y>=0&&(S===c.charCodeAt(y)?--y==-1&&(p=u):(y=-1,p=_))}return d===p?p=_:p===-1&&(p=f.length),f.slice(d,p)}for(u=f.length-1;u>=0;--u)if(f.charCodeAt(u)===47){if(!g){d=u+1;break}}else p===-1&&(g=!1,p=u+1);return p===-1?"":f.slice(d,p)},extname:function(f){o(f);for(var c=-1,u=0,d=-1,p=!0,g=0,y=f.length-1;y>=0;--y){var _=f.charCodeAt(y);if(_!==47)d===-1&&(p=!1,d=y+1),_===46?c===-1?c=y:g!==1&&(g=1):c!==-1&&(g=-1);else if(!p){u=y+1;break}}return c===-1||d===-1||g===0||g===1&&c===d-1&&c===u+1?"":f.slice(c,d)},format:function(f){if(f===null||typeof f!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return function(c,u){var d=u.dir||u.root,p=u.base||(u.name||"")+(u.ext||"");return d?d===u.root?d+p:d+"/"+p:p}(0,f)},parse:function(f){o(f);var c={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return c;var u,d=f.charCodeAt(0),p=d===47;p?(c.root="/",u=1):u=0;for(var g=-1,y=0,_=-1,S=!0,T=f.length-1,I=0;T>=u;--T)if((d=f.charCodeAt(T))!==47)_===-1&&(S=!1,_=T+1),d===46?g===-1?g=T:I!==1&&(I=1):g!==-1&&(I=-1);else if(!S){y=T+1;break}return g===-1||_===-1||I===0||I===1&&g===_-1&&g===y+1?_!==-1&&(c.base=c.name=y===0&&p?f.slice(1,_):f.slice(y,_)):(y===0&&p?(c.name=f.slice(1,g),c.base=f.slice(1,_)):(c.name=f.slice(y,g),c.base=f.slice(y,_)),c.ext=f.slice(g,_)),y>0?c.dir=f.slice(0,y-1):p&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};l.posix=l,i.exports=l},674:(i,o)=>{if(Object.defineProperty(o,"__esModule",{value:!0}),o.isWindows=void 0,typeof process=="object")o.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;o.isWindows=a.indexOf("Windows")>=0}},796:function(i,o,a){var l,f,c=this&&this.__extends||(l=s(function(ie,Z){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_e,Ae){_e.__proto__=Ae}||function(_e,Ae){for(var be in Ae)Object.prototype.hasOwnProperty.call(Ae,be)&&(_e[be]=Ae[be])},l(ie,Z)},"n"),function(ie,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");function _e(){this.constructor=ie}s(_e,"r"),l(ie,Z),ie.prototype=Z===null?Object.create(Z):(_e.prototype=Z.prototype,new _e)});Object.defineProperty(o,"__esModule",{value:!0}),o.uriToFsPath=o.URI=void 0;var u=a(674),d=/^\w[\w\d+.-]*$/,p=/^\//,g=/^\/\//;function y(ie,Z){if(!ie.scheme&&Z)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(ie.authority,'", path: "').concat(ie.path,'", query: "').concat(ie.query,'", fragment: "').concat(ie.fragment,'"}'));if(ie.scheme&&!d.test(ie.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ie.path){if(ie.authority){if(!p.test(ie.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(g.test(ie.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(y,"f");var _="",S="/",T=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,I=function(){function ie(Z,_e,Ae,be,Ke,ce){ce===void 0&&(ce=!1),typeof Z=="object"?(this.scheme=Z.scheme||_,this.authority=Z.authority||_,this.path=Z.path||_,this.query=Z.query||_,this.fragment=Z.fragment||_):(this.scheme=function(ve,le){return ve||le?ve:"file"}(Z,ce),this.authority=_e||_,this.path=function(ve,le){switch(ve){case"https":case"http":case"file":le?le[0]!==S&&(le=S+le):le=S}return le}(this.scheme,Ae||_),this.query=be||_,this.fragment=Ke||_,y(this,ce))}return s(ie,"t"),ie.isUri=function(Z){return Z instanceof ie||!!Z&&typeof Z.authority=="string"&&typeof Z.fragment=="string"&&typeof Z.path=="string"&&typeof Z.query=="string"&&typeof Z.scheme=="string"&&typeof Z.fsPath=="string"&&typeof Z.with=="function"&&typeof Z.toString=="function"},Object.defineProperty(ie.prototype,"fsPath",{get:function(){return te(this,!1)},enumerable:!1,configurable:!0}),ie.prototype.with=function(Z){if(!Z)return this;var _e=Z.scheme,Ae=Z.authority,be=Z.path,Ke=Z.query,ce=Z.fragment;return _e===void 0?_e=this.scheme:_e===null&&(_e=_),Ae===void 0?Ae=this.authority:Ae===null&&(Ae=_),be===void 0?be=this.path:be===null&&(be=_),Ke===void 0?Ke=this.query:Ke===null&&(Ke=_),ce===void 0?ce=this.fragment:ce===null&&(ce=_),_e===this.scheme&&Ae===this.authority&&be===this.path&&Ke===this.query&&ce===this.fragment?this:new M(_e,Ae,be,Ke,ce)},ie.parse=function(Z,_e){_e===void 0&&(_e=!1);var Ae=T.exec(Z);return Ae?new M(Ae[2]||_,Ie(Ae[4]||_),Ie(Ae[5]||_),Ie(Ae[7]||_),Ie(Ae[9]||_),_e):new M(_,_,_,_,_)},ie.file=function(Z){var _e=_;if(u.isWindows&&(Z=Z.replace(/\\/g,S)),Z[0]===S&&Z[1]===S){var Ae=Z.indexOf(S,2);Ae===-1?(_e=Z.substring(2),Z=S):(_e=Z.substring(2,Ae),Z=Z.substring(Ae)||S)}return new M("file",_e,Z,_,_)},ie.from=function(Z){var _e=new M(Z.scheme,Z.authority,Z.path,Z.query,Z.fragment);return y(_e,!0),_e},ie.prototype.toString=function(Z){return Z===void 0&&(Z=!1),Ce(this,Z)},ie.prototype.toJSON=function(){return this},ie.revive=function(Z){if(Z){if(Z instanceof ie)return Z;var _e=new M(Z);return _e._formatted=Z.external,_e._fsPath=Z._sep===P?Z.fsPath:null,_e}return Z},ie}();o.URI=I;var P=u.isWindows?1:void 0,M=function(ie){function Z(){var _e=ie!==null&&ie.apply(this,arguments)||this;return _e._formatted=null,_e._fsPath=null,_e}return s(Z,"e"),c(Z,ie),Object.defineProperty(Z.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=te(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),Z.prototype.toString=function(_e){return _e===void 0&&(_e=!1),_e?Ce(this,!0):(this._formatted||(this._formatted=Ce(this,!1)),this._formatted)},Z.prototype.toJSON=function(){var _e={$mid:1};return this._fsPath&&(_e.fsPath=this._fsPath,_e._sep=P),this._formatted&&(_e.external=this._formatted),this.path&&(_e.path=this.path),this.scheme&&(_e.scheme=this.scheme),this.authority&&(_e.authority=this.authority),this.query&&(_e.query=this.query),this.fragment&&(_e.fragment=this.fragment),_e},Z}(I),N=((f={})[58]="%3A",f[47]="%2F",f[63]="%3F",f[35]="%23",f[91]="%5B",f[93]="%5D",f[64]="%40",f[33]="%21",f[36]="%24",f[38]="%26",f[39]="%27",f[40]="%28",f[41]="%29",f[42]="%2A",f[43]="%2B",f[44]="%2C",f[59]="%3B",f[61]="%3D",f[32]="%20",f);function L(ie,Z,_e){for(var Ae=void 0,be=-1,Ke=0;Ke<ie.length;Ke++){var ce=ie.charCodeAt(Ke);if(ce>=97&&ce<=122||ce>=65&&ce<=90||ce>=48&&ce<=57||ce===45||ce===46||ce===95||ce===126||Z&&ce===47||_e&&ce===91||_e&&ce===93||_e&&ce===58)be!==-1&&(Ae+=encodeURIComponent(ie.substring(be,Ke)),be=-1),Ae!==void 0&&(Ae+=ie.charAt(Ke));else{Ae===void 0&&(Ae=ie.substr(0,Ke));var ve=N[ce];ve!==void 0?(be!==-1&&(Ae+=encodeURIComponent(ie.substring(be,Ke)),be=-1),Ae+=ve):be===-1&&(be=Ke)}}return be!==-1&&(Ae+=encodeURIComponent(ie.substring(be))),Ae!==void 0?Ae:ie}s(L,"m");function X(ie){for(var Z=void 0,_e=0;_e<ie.length;_e++){var Ae=ie.charCodeAt(_e);Ae===35||Ae===63?(Z===void 0&&(Z=ie.substr(0,_e)),Z+=N[Ae]):Z!==void 0&&(Z+=ie[_e])}return Z!==void 0?Z:ie}s(X,"b");function te(ie,Z){var _e;return _e=ie.authority&&ie.path.length>1&&ie.scheme==="file"?"//".concat(ie.authority).concat(ie.path):ie.path.charCodeAt(0)===47&&(ie.path.charCodeAt(1)>=65&&ie.path.charCodeAt(1)<=90||ie.path.charCodeAt(1)>=97&&ie.path.charCodeAt(1)<=122)&&ie.path.charCodeAt(2)===58?Z?ie.path.substr(1):ie.path[1].toLowerCase()+ie.path.substr(2):ie.path,u.isWindows&&(_e=_e.replace(/\//g,"\\")),_e}s(te,"C");function Ce(ie,Z){var _e=Z?X:L,Ae="",be=ie.scheme,Ke=ie.authority,ce=ie.path,ve=ie.query,le=ie.fragment;if(be&&(Ae+=be,Ae+=":"),(Ke||be==="file")&&(Ae+=S,Ae+=S),Ke){var Ee=Ke.indexOf("@");if(Ee!==-1){var mt=Ke.substr(0,Ee);Ke=Ke.substr(Ee+1),(Ee=mt.lastIndexOf(":"))===-1?Ae+=_e(mt,!1,!1):(Ae+=_e(mt.substr(0,Ee),!1,!1),Ae+=":",Ae+=_e(mt.substr(Ee+1),!1,!0)),Ae+="@"}(Ee=(Ke=Ke.toLowerCase()).lastIndexOf(":"))===-1?Ae+=_e(Ke,!1,!0):(Ae+=_e(Ke.substr(0,Ee),!1,!0),Ae+=Ke.substr(Ee))}if(ce){if(ce.length>=3&&ce.charCodeAt(0)===47&&ce.charCodeAt(2)===58)(Et=ce.charCodeAt(1))>=65&&Et<=90&&(ce="/".concat(String.fromCharCode(Et+32),":").concat(ce.substr(3)));else if(ce.length>=2&&ce.charCodeAt(1)===58){var Et;(Et=ce.charCodeAt(0))>=65&&Et<=90&&(ce="".concat(String.fromCharCode(Et+32),":").concat(ce.substr(2)))}Ae+=_e(ce,!0,!1)}return ve&&(Ae+="?",Ae+=_e(ve,!1,!1)),le&&(Ae+="#",Ae+=Z?le:L(le,!1,!1)),Ae}s(Ce,"A");function De(ie){try{return decodeURIComponent(ie)}catch{return ie.length>3?ie.substr(0,3)+De(ie.substr(3)):ie}}s(De,"w"),o.uriToFsPath=te;var pe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Ie(ie){return ie.match(pe)?ie.replace(pe,function(Z){return De(Z)}):ie}s(Ie,"x")},679:function(i,o,a){var l=this&&this.__spreadArray||function(p,g,y){if(y||arguments.length===2)for(var _,S=0,T=g.length;S<T;S++)!_&&S in g||(_||(_=Array.prototype.slice.call(g,0,S)),_[S]=g[S]);return p.concat(_||Array.prototype.slice.call(g))};Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;var f,c=a(470),u=c.posix||c,d="/";(f=o.Utils||(o.Utils={})).joinPath=function(p){for(var g=[],y=1;y<arguments.length;y++)g[y-1]=arguments[y];return p.with({path:u.join.apply(u,l([p.path],g,!1))})},f.resolvePath=function(p){for(var g=[],y=1;y<arguments.length;y++)g[y-1]=arguments[y];var _=p.path,S=!1;_[0]!==d&&(_=d+_,S=!0);var T=u.resolve.apply(u,l([_],g,!1));return S&&T[0]===d&&!p.authority&&(T=T.substring(1)),p.with({path:T})},f.dirname=function(p){if(p.path.length===0||p.path===d)return p;var g=u.dirname(p.path);return g.length===1&&g.charCodeAt(0)===46&&(g=""),p.with({path:g})},f.basename=function(p){return u.basename(p.path)},f.extname=function(p){return u.extname(p.path)}}},t={};function r(i){var o=t[i];if(o!==void 0)return o.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,r),a.exports}s(r,"r");var n={};return(()=>{var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=i.URI=void 0;var o=r(796);Object.defineProperty(i,"URI",{enumerable:!0,get:function(){return o.URI}});var a=r(679);Object.defineProperty(i,"Utils",{enumerable:!0,get:function(){return a.Utils}})})(),n})())});var UE=ae((Whe,ZM)=>{"use strict";var QM=require("fs"),ME;function zZ(){try{return QM.statSync("/.dockerenv"),!0}catch{return!1}}s(zZ,"hasDockerEnv");function KZ(){try{return QM.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}s(KZ,"hasDockerCGroup");ZM.exports=()=>(ME===void 0&&(ME=zZ()||KZ()),ME)});var rU=ae((Yhe,qE)=>{"use strict";var WZ=require("os"),GZ=require("fs"),eU=UE(),tU=s(()=>{if(process.platform!=="linux")return!1;if(WZ.release().toLowerCase().includes("microsoft"))return!eU();try{return GZ.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!eU():!1}catch{return!1}},"isWsl");process.env.__IS_WSL_TEST__?qE.exports=tU:qE.exports=tU()});var iU=ae((Jhe,nU)=>{"use strict";nU.exports=(e,t,r)=>{let n=s(i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}});var uU=ae((Zhe,cU)=>{var YZ=require("path"),XZ=require("child_process"),{promises:S7,constants:fU}=require("fs"),E7=rU(),JZ=UE(),$E=iU(),sU=YZ.join(__dirname,"xdg-open"),{platform:R3,arch:oU}=process,QZ=s(()=>{try{return S7.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv"),jE;function ZZ(){return jE===void 0&&(jE=QZ()||JZ()),jE}s(ZZ,"isInsideContainer");var eee=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await S7.access(r,fU.F_OK),n=!0}catch{}if(!n)return e;let i=await S7.readFile(r,{encoding:"utf8"}),o=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return o?(t=o.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),aU=s(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(i){r=i}throw r},"pTryEach"),w7=s(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return aU(e.app,l=>w7({...e,app:l}));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return aU(t,l=>w7({...e,app:{name:l,arguments:r}}));let n,i=[],o={};if(R3==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(R3==="win32"||E7&&!ZZ()&&!t){let l=await eee();n=E7?`${l}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),E7||(o.windowsVerbatimArguments=!0);let f=["Start"];e.wait&&f.push("-Wait"),t?(f.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&f.push(`"${e.target}"`),r.length>0&&(r=r.map(c=>`"\`"${c}\`""`),f.push(r.join(","))),e.target=Buffer.from(f.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let l=!__dirname||__dirname==="/",f=!1;try{await S7.access(sU,fU.X_OK),f=!0}catch{}n=process.versions.electron||R3==="android"||l||!f?"xdg-open":sU}r.length>0&&i.push(...r),e.wait||(o.stdio="ignore",o.detached=!0)}e.target&&i.push(e.target),R3==="darwin"&&r.length>0&&i.push("--args",...r);let a=XZ.spawn(n,i,o);return e.wait?new Promise((l,f)=>{a.once("error",f),a.once("close",c=>{if(!e.allowNonzeroExitCode&&c>0){f(new Error(`Exited with code ${c}`));return}l(a)})}):(a.unref(),a)},"baseOpen"),HE=s((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return w7({...t,target:e})},"open"),tee=s((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return w7({...t,app:{name:e,arguments:r}})},"openApp");function lU(e){if(typeof e=="string"||Array.isArray(e))return e;let{[oU]:t}=e;if(!t)throw new Error(`${oU} is not supported`);return t}s(lU,"detectArchBinary");function VE({[R3]:e},{wsl:t}){if(t&&E7)return lU(t);if(!e)throw new Error(`${R3} is not supported`);return lU(e)}s(VE,"detectPlatformBinary");var I7={};$E(I7,"chrome",()=>VE({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));$E(I7,"firefox",()=>VE({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));$E(I7,"edge",()=>VE({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));HE.apps=I7;HE.openApp=tee;cU.exports=HE});var gU=ae((u8e,mU)=>{var N3=1e3,k3=N3*60,D3=k3*60,Zu=D3*24,nee=Zu*7,iee=Zu*365.25;mU.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return see(e);if(r==="number"&&isFinite(e))return t.long?aee(e):oee(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function see(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*iee;case"weeks":case"week":case"w":return r*nee;case"days":case"day":case"d":return r*Zu;case"hours":case"hour":case"hrs":case"hr":case"h":return r*D3;case"minutes":case"minute":case"mins":case"min":case"m":return r*k3;case"seconds":case"second":case"secs":case"sec":case"s":return r*N3;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}s(see,"parse");function oee(e){var t=Math.abs(e);return t>=Zu?Math.round(e/Zu)+"d":t>=D3?Math.round(e/D3)+"h":t>=k3?Math.round(e/k3)+"m":t>=N3?Math.round(e/N3)+"s":e+"ms"}s(oee,"fmtShort");function aee(e){var t=Math.abs(e);return t>=Zu?A7(e,t,Zu,"day"):t>=D3?A7(e,t,D3,"hour"):t>=k3?A7(e,t,k3,"minute"):t>=N3?A7(e,t,N3,"second"):e+" ms"}s(aee,"fmtLong");function A7(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}s(A7,"plural")});var GE=ae((h8e,pU)=>{function lee(e){r.debug=r,r.default=r,r.coerce=f,r.disable=o,r.enable=i,r.enabled=a,r.humanize=gU(),r.destroy=c,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return r.colors[Math.abs(d)%r.colors.length]}s(t,"selectColor"),r.selectColor=t;function r(u){let d,p=null,g,y;function _(...S){if(!_.enabled)return;let T=_,I=Number(new Date),P=I-(d||I);T.diff=P,T.prev=d,T.curr=I,d=I,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let M=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(L,X)=>{if(L==="%%")return"%";M++;let te=r.formatters[X];if(typeof te=="function"){let Ce=S[M];L=te.call(T,Ce),S.splice(M,1),M--}return L}),r.formatArgs.call(T,S),(T.log||r.log).apply(T,S)}return s(_,"debug"),_.namespace=u,_.useColors=r.useColors(),_.color=r.selectColor(u),_.extend=n,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(g!==r.namespaces&&(g=r.namespaces,y=r.enabled(u)),y),set:S=>{p=S}}),typeof r.init=="function"&&r.init(_),_}s(r,"createDebug");function n(u,d){let p=r(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}s(n,"extend");function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d,p=(typeof u=="string"?u:"").split(/[\s,]+/),g=p.length;for(d=0;d<g;d++)p[d]&&(u=p[d].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}s(i,"enable");function o(){let u=[...r.names.map(l),...r.skips.map(l).map(d=>"-"+d)].join(",");return r.enable(""),u}s(o,"disable");function a(u){if(u[u.length-1]==="*")return!0;let d,p;for(d=0,p=r.skips.length;d<p;d++)if(r.skips[d].test(u))return!1;for(d=0,p=r.names.length;d<p;d++)if(r.names[d].test(u))return!0;return!1}s(a,"enabled");function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}s(l,"toNamespace");function f(u){return u instanceof Error?u.stack||u.message:u}s(f,"coerce");function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s(c,"destroy"),r.enable(r.load()),r}s(lee,"setup");pU.exports=lee});var yU=ae((ks,P7)=>{ks.formatArgs=cee;ks.save=uee;ks.load=dee;ks.useColors=fee;ks.storage=hee();ks.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ks.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function fee(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}s(fee,"useColors");function cee(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+P7.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}s(cee,"formatArgs");ks.log=console.debug||console.log||(()=>{});function uee(e){try{e?ks.storage.setItem("debug",e):ks.storage.removeItem("debug")}catch{}}s(uee,"save");function dee(){let e;try{e=ks.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}s(dee,"load");function hee(){try{return localStorage}catch{}}s(hee,"localstorage");P7.exports=GE()(ks);var{formatters:mee}=P7.exports;mee.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var xU=ae((p8e,vU)=>{"use strict";vU.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var CU=ae((y8e,bU)=>{"use strict";var gee=require("os"),_U=require("tty"),io=xU(),{env:An}=process,Rc;io("no-color")||io("no-colors")||io("color=false")||io("color=never")?Rc=0:(io("color")||io("colors")||io("color=true")||io("color=always"))&&(Rc=1);"FORCE_COLOR"in An&&(An.FORCE_COLOR==="true"?Rc=1:An.FORCE_COLOR==="false"?Rc=0:Rc=An.FORCE_COLOR.length===0?1:Math.min(parseInt(An.FORCE_COLOR,10),3));function YE(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}s(YE,"translateLevel");function XE(e,t){if(Rc===0)return 0;if(io("color=16m")||io("color=full")||io("color=truecolor"))return 3;if(io("color=256"))return 2;if(e&&!t&&Rc===void 0)return 0;let r=Rc||0;if(An.TERM==="dumb")return r;if(process.platform==="win32"){let n=gee.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in An)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in An)||An.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in An)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(An.TEAMCITY_VERSION)?1:0;if(An.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in An){let n=parseInt((An.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(An.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(An.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(An.TERM)||"COLORTERM"in An?1:r}s(XE,"supportsColor");function pee(e){let t=XE(e,e&&e.isTTY);return YE(t)}s(pee,"getSupportLevel");bU.exports={supportsColor:pee,stdout:YE(XE(!0,_U.isatty(1))),stderr:YE(XE(!0,_U.isatty(2)))}});var EU=ae((ei,N7)=>{var yee=require("tty"),R7=require("util");ei.init=Eee;ei.log=bee;ei.formatArgs=xee;ei.save=Cee;ei.load=Tee;ei.useColors=vee;ei.destroy=R7.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ei.colors=[6,2,3,4,5,1];try{let e=CU();e&&(e.stderr||e).level>=2&&(ei.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ei.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function vee(){return"colors"in ei.inspectOpts?!!ei.inspectOpts.colors:yee.isatty(process.stderr.fd)}s(vee,"useColors");function xee(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${t} \x1B[0m`;e[0]=o+e[0].split(`
`).join(`
`+o),e.push(i+"m+"+N7.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=_ee()+t+" "+e[0]}s(xee,"formatArgs");function _ee(){return ei.inspectOpts.hideDate?"":new Date().toISOString()+" "}s(_ee,"getDate");function bee(...e){return process.stderr.write(R7.format(...e)+`
`)}s(bee,"log");function Cee(e){e?process.env.DEBUG=e:delete process.env.DEBUG}s(Cee,"save");function Tee(){return process.env.DEBUG}s(Tee,"load");function Eee(e){e.inspectOpts={};let t=Object.keys(ei.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=ei.inspectOpts[t[r]]}s(Eee,"init");N7.exports=GE()(ei);var{formatters:TU}=N7.exports;TU.o=function(e){return this.inspectOpts.colors=this.useColors,R7.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};TU.O=function(e){return this.inspectOpts.colors=this.useColors,R7.inspect(e,this.inspectOpts)}});var ed=ae((_8e,JE)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?JE.exports=yU():JE.exports=EU()});var sS=ae((b8e,AU)=>{var e8=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,See=typeof AbortController=="function",r8,k7=See?AbortController:(r8=class{constructor(){this.signal=new SU}abort(){this.signal.dispatchEvent("abort")}},s(r8,"AbortController"),r8),wee=typeof AbortSignal=="function",Iee=typeof k7.AbortSignal=="function",n8,SU=wee?AbortSignal:Iee?k7.AbortController:(n8=class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},s(n8,"AbortSignal"),n8),tS=new Set,QE=s((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;D7(r)&&rS(r,`${e} option`,`options.${t}`,B3)},"deprecatedOption"),ZE=s((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(D7(r)){let{prototype:n}=B3,{get:i}=Object.getOwnPropertyDescriptor(n,e);rS(r,`${e} method`,`cache.${t}()`,i)}},"deprecatedMethod"),Aee=s((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(D7(r)){let{prototype:n}=B3,{get:i}=Object.getOwnPropertyDescriptor(n,e);rS(r,`${e} property`,`cache.${t}`,i)}},"deprecatedProperty"),wU=s((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),D7=s(e=>!tS.has(e),"shouldWarn"),rS=s((e,t,r,n)=>{tS.add(e);let i=`The ${t} is deprecated. Please use ${r} instead.`;wU(i,"DeprecationWarning",e,n)},"warn"),td=s(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),IU=s(e=>td(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?L3:null:null,"getUintArray"),nS=class nS extends Array{constructor(t){super(t),this.fill(0)}};s(nS,"ZeroArray");var L3=nS,iS=class iS{constructor(t){if(t===0)return[];let r=IU(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};s(iS,"Stack");var eS=iS,t8=class t8{constructor(t={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:o,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:f,dispose:c,disposeAfter:u,noDisposeOnSet:d,noUpdateTTL:p,maxSize:g=0,sizeCalculation:y,fetchMethod:_,fetchContext:S,noDeleteOnFetchRejection:T,noDeleteOnStaleGet:I}=t,{length:P,maxAge:M,stale:N}=t instanceof t8?{}:t;if(r!==0&&!td(r))throw new TypeError("max option must be a nonnegative integer");let L=r?IU(r):Array;if(!L)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=g,this.sizeCalculation=y||P,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=_||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=S,!this.fetchMethod&&S!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new L(r),this.prev=new L(r),this.head=0,this.tail=0,this.free=new eS(r),this.initialFill=1,this.size=0,typeof c=="function"&&(this.dispose=c),typeof u=="function"?(this.disposeAfter=u,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!d,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!T,this.maxSize!==0){if(!td(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!f||!!N,this.noDeleteOnStaleGet=!!I,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=td(i)||i===0?i:1,this.ttlAutopurge=!!o,this.ttl=n||M||0,this.ttl){if(!td(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let X="LRU_CACHE_UNBOUNDED";D7(X)&&(tS.add(X),wU("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",X,t8))}N&&QE("stale","allowStale"),M&&QE("maxAge","ttl"),P&&QE("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new L3(this.max),this.starts=new L3(this.max),this.setItemTTL=(n,i,o=e8.now())=>{if(this.starts[n]=i!==0?o:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?e8.now():0};let t=0,r=s(()=>{let n=e8.now();if(this.ttlResolution>0){t=n;let i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new L3(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,i)=>{if(!td(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,t),!td(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return ZE("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let l=e8.now()-this.starts[r];a.start=Math.floor(Date.now()-l)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let i=Date.now()-n.start;n.start=e8.now()-i}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,l),this.maxSize&&a>this.maxSize)return this;let c=this.size===0?void 0:this.keyMap.get(t);if(c===void 0)c=this.newIndex(),this.keyList[c]=t,this.valList[c]=r,this.keyMap.set(t,c),this.next[this.tail]=c,this.prev[c]=this.tail,this.tail=c,this.size++,this.addItemSize(c,a),f=!1;else{let u=this.valList[c];r!==u&&(this.isBackgroundFetch(u)?u.__abortController.abort():o||(this.dispose(u,t,"set"),this.disposeAfter&&this.disposed.push([u,t,"set"])),this.removeItemSize(c),this.valList[c]=r,this.addItemSize(c,a)),this.moveToTail(c)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),f||this.setItemTTL(c,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(t,r,n,i){let o=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(o))return o;let a=new k7,l={signal:a.signal,options:n,context:i},f=s(p=>(a.signal.aborted||this.set(t,p,l.options),p),"cb"),c=s(p=>{if(this.valList[r]===d&&(!n.noDeleteOnFetchRejection||d.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=d.__staleWhileFetching),d.__returned===d)throw p},"eb"),u=s(p=>p(this.fetchMethod(t,o,l)),"pcall"),d=new Promise(u).then(f,c);return d.__abortController=a,d.__staleWhileFetching=o,d.__returned=null,r===void 0?(this.set(t,d,l.options),r=this.keyMap.get(t)):this.valList[r]=d,d}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,fetchContext:d=this.fetchContext,forceRefresh:p=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let g={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:f,noUpdateTTL:c,noDeleteOnFetchRejection:u},y=this.keyMap.get(t);if(y===void 0){let _=this.backgroundFetch(t,y,g,d);return _.__returned=_}else{let _=this.valList[y];if(this.isBackgroundFetch(_))return r&&_.__staleWhileFetching!==void 0?_.__staleWhileFetching:_.__returned=_;if(!p&&!this.isStale(y))return this.moveToTail(y),n&&this.updateItemAge(y),_;let S=this.backgroundFetch(t,y,g,d);return r&&S.__staleWhileFetching!==void 0?S.__staleWhileFetching:S.__returned=S}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let o=this.keyMap.get(t);if(o!==void 0){let a=this.valList[o],l=this.isBackgroundFetch(a);return this.isStale(o)?l?r?a.__staleWhileFetching:void 0:(i||this.delete(t),r?a:void 0):l?void 0:(this.moveToTail(o),n&&this.updateItemAge(o),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return ZE("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return ZE("reset","clear"),this.clear}get length(){return Aee("length","size"),this.size}static get AbortController(){return k7}static get AbortSignal(){return SU}};s(t8,"LRUCache");var B3=t8;AU.exports=B3});var uS=ae((T8e,PU)=>{"use strict";var lS=class lS extends Error{constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}};s(lS,"FetchBaseError");var i8=lS,fS=class fS extends i8{constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}};s(fS,"FetchError");var oS=fS,cS=class cS extends i8{constructor(t,r="aborted"){super(t,r,"AbortError")}};s(cS,"AbortError");var aS=cS;PU.exports={FetchBaseError:i8,FetchError:oS,AbortError:aS}});var zl=ae((S8e,NU)=>{"use strict";var{constants:{MAX_LENGTH:Pee}}=require("buffer"),{pipeline:L7,PassThrough:Ree}=require("stream"),{promisify:Nee}=require("util"),{createGunzip:kee,createInflate:Dee,createBrotliDecompress:Lee,constants:{Z_SYNC_FLUSH:RU}}=require("zlib"),Bee=ed()("helix-fetch:utils"),Oee=Nee(L7),Fee=s((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),Mee=s((e,t,r,n)=>{if(!Fee(e,t))return r;let i=s(o=>{o&&(Bee(`encountered error while decoding stream: ${o}`),n(o))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return L7(r,kee({flush:RU,finishFlush:RU}),i);case"deflate":case"x-deflate":return L7(r,Dee(),i);case"br":return L7(r,Lee(),i);default:return r}},"decodeStream"),Uee=s(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),B7=s((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?qee(e,t):jee(e,t);default:return 0}},"calcSize"),qee=s((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:B7(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),jee=s((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let i in e)n.push(i);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(i=>{if(r+=B7(i,t),typeof e[i]=="object"&&e[i]!==null){if(t.has(e[i]))return;t.add(e[i])}r+=B7(e[i],t)}),r},"calcObjectSize"),$ee=s(e=>B7(e,new WeakSet),"sizeof"),Hee=s(async e=>{let t=new Ree,r=0,n=[];return t.on("data",i=>{if(r+i.length>Pee)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await Oee(e,t),Buffer.concat(n,r)},"streamToBuffer");NU.exports={decodeStream:Mee,isPlainObject:Uee,sizeof:$ee,streamToBuffer:Hee}});var F7=ae((I8e,BU)=>{"use strict";var{PassThrough:kU,Readable:Kl}=require("stream"),{types:{isAnyArrayBuffer:LU}}=require("util"),{FetchError:Vee,FetchBaseError:zee}=uS(),{streamToBuffer:Kee}=zl(),Wee=Buffer.alloc(0),so=Symbol("Body internals"),Gee=s(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),DU=s(async e=>{if(e[so].disturbed)throw new TypeError("Already read");if(e[so].error)throw new TypeError(`Stream had error: ${e[so].error.message}`);e[so].disturbed=!0;let{stream:t}=e[so];return t===null?Wee:Kee(t)},"consume"),dS=class dS{constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=Kl.from(t.toString()):t instanceof Kl?r=t:Buffer.isBuffer(t)?r=Kl.from(t):LU(t)?r=Kl.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=Kl.from(t):r=Kl.from(String(t)),this[so]={stream:r,disturbed:!1,error:null},t instanceof Kl&&r.on("error",n=>{let i=n instanceof zee?n:new Vee(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[so].error=i})}get body(){return this[so].stream}get bodyUsed(){return this[so].disturbed}async buffer(){return DU(this)}async arrayBuffer(){return Gee(await this.buffer())}async text(){return(await DU(this)).toString()}async json(){return JSON.parse(await this.text())}};s(dS,"Body");var O7=dS;Object.defineProperties(O7.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var Yee=s(e=>{if(e[so].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[so],r=t;if(t instanceof Kl){r=new kU;let n=new kU;t.pipe(r),t.pipe(n),e[so].stream=n}return r},"cloneStream"),Xee=s(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||LU(e)||e instanceof Kl?null:"text/plain; charset=utf-8","guessContentType");BU.exports={Body:O7,cloneStream:Yee,guessContentType:Xee}});var O3=ae((P8e,UU)=>{"use strict";var{validateHeaderName:OU,validateHeaderValue:FU}=require("http"),{isPlainObject:Jee}=zl(),Wl=Symbol("Headers internals"),s8=s(e=>{let t=typeof e!="string"?String(e):e;if(typeof OU=="function")OU(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),MU=s((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof FU=="function")FU(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),U7=class U7{constructor(t={}){if(this[Wl]={map:new Map},t instanceof U7)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(Jee(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[Wl].map.set(s8(t),MU(r,t))}has(t){return this[Wl].map.has(s8(t))}get(t){let r=this[Wl].map.get(s8(t));return r===void 0?null:r}append(t,r){let n=s8(t),i=MU(r,t),o=this[Wl].map.get(n);this[Wl].map.set(n,o?`${o}, ${i}`:i)}delete(t){this[Wl].map.delete(s8(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[Wl].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[Wl].map)}};s(U7,"Headers");var M7=U7;Object.defineProperties(M7.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));UU.exports={Headers:M7}});var pS=ae((N8e,qU)=>{"use strict";var{EventEmitter:Qee}=require("events"),Wo=Symbol("AbortSignal internals"),hS=class hS{constructor(){this[Wo]={eventEmitter:new Qee,onabort:null,aborted:!1}}get aborted(){return this[Wo].aborted}get onabort(){return this[Wo].onabort}set onabort(t){this[Wo].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[Wo].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[Wo].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[Wo][n]=="function"&&this[n](r),this[Wo].eventEmitter.emit(t,r)}fire(){this[Wo].aborted=!0,this.dispatchEvent("abort")}};s(hS,"AbortSignal");var F3=hS;Object.defineProperties(F3.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var mS=class mS extends F3{constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[Wo].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[Wo].timerId)}};s(mS,"TimeoutSignal");var j7=mS;Object.defineProperties(j7.prototype,{clear:{enumerable:!0}});var q7=Symbol("AbortController internals"),gS=class gS{constructor(){this[q7]={signal:new F3}}get signal(){return this[q7].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[q7].signal.aborted||this[q7].signal.fire()}};s(gS,"AbortController");var $7=gS;Object.defineProperties($7.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});qU.exports={AbortController:$7,AbortSignal:F3,TimeoutSignal:j7}});var o8=ae((D8e,HU)=>{"use strict";var{randomBytes:Zee}=require("crypto"),{Readable:ete}=require("stream"),vS=s(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),tte=s(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),jU=s(e=>`--${e}--\r
\r
`,"getFooter"),$U=s((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,vS(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*rte(e,t){for(let[r,n]of e)yield $U(t,r,n),vS(n)?yield*n.stream():yield n,yield`\r
`;yield jU(t)}s(rte,"formDataIterator");var nte=s((e,t)=>{let r=0;for(let[n,i]of e)r+=Buffer.byteLength($U(t,n,i)),r+=vS(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(jU(t)),r},"getFormDataLength"),xS=class xS{constructor(t){this.fd=t,this.boundary=Zee(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=nte(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return ete.from(rte(this.fd,this.boundary))}};s(xS,"FormDataSerializer");var yS=xS;HU.exports={isFormData:tte,FormDataSerializer:yS}});var zU=ae((B8e,VU)=>{"use strict";var{AbortSignal:ite}=pS(),{Body:ste,cloneStream:ote,guessContentType:ate}=F7(),{Headers:lte}=O3(),{isPlainObject:fte}=zl(),{isFormData:cte,FormDataSerializer:ute}=o8(),dte=20,Nc=Symbol("Request internals"),a8=class a8 extends ste{constructor(t,r={}){let n=t instanceof a8?t:null,i=n?new URL(n.url):new URL(t),o=r.method||n&&n.method||"GET";if(o=o.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(o))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?ote(n):null),l=new lte(r.headers||n&&n.headers||{});if(cte(a)&&!l.has("content-type")){let d=new ute(a);a=d.stream(),l.set("content-type",d.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",d.length())}if(!l.has("content-type"))if(fte(a))a=JSON.stringify(a),l.set("content-type","application/json");else{let d=ate(a);d&&l.set("content-type",d)}super(a);let f=n?n.signal:null;if("signal"in r&&(f=r.signal),f&&!(f instanceof ite))throw new TypeError("signal needs to be an instance of AbortSignal");let c=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(c))throw new TypeError(`'${c}' is not a valid redirect option`);let u=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(u))throw new TypeError(`'${u}' is not a valid cache option`);this[Nc]={init:{...r},method:o,redirect:c,cache:u,headers:l,parsedURL:i,signal:f},r.follow===void 0?!n||n.follow===void 0?this.follow=dte:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[Nc].method}get url(){return this[Nc].parsedURL.toString()}get headers(){return this[Nc].headers}get redirect(){return this[Nc].redirect}get cache(){return this[Nc].cache}get signal(){return this[Nc].signal}clone(){return new a8(this)}get init(){return this[Nc].init}get[Symbol.toStringTag](){return this.constructor.name}};s(a8,"Request");var H7=a8;Object.defineProperties(H7.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});VU.exports={Request:H7}});var _S=ae((F8e,KU)=>{"use strict";var{Body:hte,cloneStream:mte,guessContentType:gte}=F7(),{Headers:pte}=O3(),{isPlainObject:yte}=zl(),{isFormData:vte,FormDataSerializer:xte}=o8(),Go=Symbol("Response internals"),l8=class l8 extends hte{constructor(t=null,r={}){let n=new pte(r.headers),i=t;if(vte(i)&&!n.has("content-type")){let o=new xte(i);i=o.stream(),n.set("content-type",o.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",o.length())}if(i!==null&&!n.has("content-type"))if(yte(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let o=gte(i);o&&n.set("content-type",o)}super(i),this[Go]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[Go].url||""}get status(){return this[Go].status}get statusText(){return this[Go].statusText}get ok(){return this[Go].status>=200&&this[Go].status<300}get redirected(){return this[Go].counter>0}get headers(){return this[Go].headers}get httpVersion(){return this[Go].httpVersion}get decoded(){return this[Go].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new l8(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new l8(mte(this),{...this[Go]})}get[Symbol.toStringTag](){return this.constructor.name}};s(l8,"Response");var V7=l8;Object.defineProperties(V7.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});KU.exports={Response:V7}});var GU=ae((U8e,WU)=>{"use strict";var _te=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),bte=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),Cte=new Set([500,502,503,504]),Tte={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},Ete={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function rd(e){let t=parseInt(e,10);return isFinite(t)?t:0}s(rd,"toNumberOrZero");function Ste(e){return e?Cte.has(e.status):!0}s(Ste,"isErrorResponse");function bS(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[i,o]=n.split(/=/,2);t[i.trim()]=o===void 0?!0:o.trim().replace(/^"|"$/g,"")}return t}s(bS,"parseCacheControl");function wte(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}s(wte,"formatCacheControl");var f8;WU.exports=(f8=class{constructor(t,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:o,ignoreCargoCult:a,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=o!==void 0?o:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=bS(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=bS(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":wte(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&bte.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||_te.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=bS(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)Tte[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return rd(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return rd(this._rescc["s-maxage"])}if(this._rescc["max-age"])return rd(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+rd(this._rescc["stale-if-error"]),n=t+rd(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+rd(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+rd(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(o=>!/^\s*W\//.test(o));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&Ste(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!Ete[a]?r.headers[a]:this._resHeaders[a];let o=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,o,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}},s(f8,"CachePolicy"),f8)});var QU=ae((j8e,JU)=>{"use strict";var Ite=GU(),{Headers:Ate}=O3(),YU=s(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),XU=s(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),TS=class TS{constructor(t,r,n){this.policy=new Ite(YU(t),XU(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(YU(t))}responseHeaders(t){return new Ate(this.policy.responseHeaders(XU(t)))}timeToLive(){return this.policy.timeToLive()}};s(TS,"CachePolicyWrapper");var CS=TS;JU.exports=CS});var tq=ae((H8e,eq)=>{"use strict";var{Readable:Pte}=require("stream"),{Headers:ZU}=O3(),{Response:Rte}=_S(),kc=Symbol("CacheableResponse internals"),Nte=s(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),z7=class z7 extends Rte{constructor(t,r){super(t,r);let n=new ZU(r.headers);this[kc]={headers:n,bufferedBody:t}}get headers(){return this[kc].headers}set headers(t){if(t instanceof ZU)this[kc].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return Pte.from(this[kc].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[kc].bufferedBody}async arrayBuffer(){return Nte(this[kc].bufferedBody)}async text(){return this[kc].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:i,httpVersion:o,decoded:a,counter:l}=this;return new z7(this[kc].bufferedBody,{url:t,status:r,statusText:n,headers:i,httpVersion:o,decoded:a,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}};s(z7,"CacheableResponse");var ES=z7,kte=s(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:i,headers:o,httpVersion:a,decoded:l,counter:f}=e;return new ES(t,{url:r,status:n,statusText:i,headers:o,httpVersion:a,decoded:l,counter:f})},"cacheableResponse");eq.exports={cacheableResponse:kte}});var K7=ae((z8e,rq)=>{"use strict";var wS=class wS extends Error{get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};s(wS,"RequestAbortedError");var SS=wS;rq.exports={RequestAbortedError:SS}});var aq=ae((W8e,oq)=>{"use strict";var iq=require("http"),sq=require("https"),{Readable:Dte}=require("stream"),Gl=ed()("helix-fetch:h1"),{RequestAbortedError:nq}=K7(),{decodeStream:Lte}=zl(),Bte=s((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new sq.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new iq.Agent(n),r.httpAgent):void 0},"getAgent"),Ote=s(e=>{e.h1={}},"setupContext"),Fte=s(async({h1:e})=>{e.httpAgent&&(Gl("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(Gl("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),Mte=s((e,t,r)=>{let{statusCode:n,statusMessage:i,httpVersion:o,httpVersionMajor:a,httpVersionMinor:l,headers:f}=e,c=t?Lte(n,f,e,r):e;return{statusCode:n,statusText:i,httpVersion:o,httpVersionMajor:a,httpVersionMinor:l,headers:f,readable:c,decoded:!!(t&&c!==e)}},"createResponse"),Ute=s(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?sq:iq,i=Bte(e,t.protocol),o={...r,agent:i},{socket:a,body:l}=o;return a&&(delete o.socket,a.assigned||(a.assigned=!0,i?o.agent=new Proxy(i,{get:(f,c)=>c==="createConnection"&&!a.inUse?(u,d)=>{Gl(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,d(null,a)}:f[c]}):o.createConnection=(f,c)=>{Gl(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,c(null,a)})),new Promise((f,c)=>{Gl(`${o.method} ${t.href}`);let u,{signal:d}=o,p=s(()=>{d.removeEventListener("abort",p),a&&!a.inUse&&(Gl(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(new nq),u&&u.abort()},"onAbortSignal");if(d){if(d.aborted){c(new nq);return}d.addEventListener("abort",p)}u=n(t,o),u.once("response",g=>{d&&d.removeEventListener("abort",p),a&&!a.inUse&&(Gl(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f(Mte(g,o.decode,c))}),u.once("error",g=>{d&&d.removeEventListener("abort",p),a&&!a.inUse&&(Gl(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u.aborted||(Gl(`${o.method} ${t.href} failed with: ${g.message}`),u.abort(),c(g))}),l instanceof Dte?l.pipe(u):(l&&u.write(l),u.end())})},"h1Request");oq.exports={request:Ute,setupContext:Ote,resetContext:Fte}});var uq=ae((Y8e,cq)=>{"use strict";var{connect:qte,constants:jte}=require("http2"),{Readable:$te}=require("stream"),Cr=ed()("helix-fetch:h2"),{RequestAbortedError:lq}=K7(),{decodeStream:Hte}=zl(),{NGHTTP2_CANCEL:c8}=jte,Vte=5*60*1e3,zte=5e3,Kte=s(e=>{e.h2={sessionCache:{}}},"setupContext"),Wte=s(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),Cr(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),fq=s((e,t,r,n=()=>{})=>{let i={...e},o=i[":status"];delete i[":status"];let a=r?Hte(o,e,t,n):t;return{statusCode:o,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),Gte=s((e,t,r,n,i,o)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:l,pushedStreamIdleTimeout:f=zte}}}=e,c=i[":path"],u=`${t}${c}`;Cr(`received PUSH_PROMISE: ${u}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${o}`),a&&a(u,i,s(()=>{n.close(c8)},"rejectPush")),n.on("push",(d,p)=>{Cr(`received push headers for ${t}${c}, stream #${n.id}, headers: ${JSON.stringify(d)}, flags: ${p}`),n.setTimeout(f,()=>{Cr(`closing pushed stream #${n.id} after ${f} ms of inactivity`),n.close(c8)}),l&&l(u,i,fq(d,n,r))}),n.on("aborted",()=>{Cr(`pushed stream #${n.id} aborted`)}),n.on("error",d=>{Cr(`pushed stream #${n.id} encountered error: ${d}`)}),n.on("frameError",(d,p,g)=>{Cr(`pushed stream #${n.id} encountered frameError: type: ${d}, code: ${p}, id: ${g}`)})},"handlePush"),Yte=s(async(e,t,r)=>{let{origin:n,pathname:i,search:o,hash:a}=t,l=`${i}${o}${a}`,{options:{h2:f={}},h2:{sessionCache:c}}=e,{idleSessionTimeout:u=Vte,pushPromiseHandler:d,pushHandler:p}=f,g={...r},{method:y,headers:_,socket:S,body:T,decode:I}=g;return S&&delete g.socket,_.host&&(_[":authority"]=_.host,delete _.host),new Promise((P,M)=>{let N=c[n];if(!N||N.closed||N.destroyed){let De=!(e.options.rejectUnauthorized===!1||f.rejectUnauthorized===!1),pe={...f,rejectUnauthorized:De};S&&!S.inUse&&(pe.createConnection=()=>(Cr(`reusing socket #${S.id} (${S.servername})`),S.inUse=!0,S)),N=qte(n,{...pe,settings:{enablePush:!!(d||p)}}),N.setMaxListeners(1e3),N.setTimeout(u,()=>{Cr(`closing session ${n} after ${u} ms of inactivity`),N.close()}),N.once("connect",()=>{Cr(`session ${n} established`),Cr(`caching session ${n}`),c[n]=N}),N.on("localSettings",ie=>{Cr(`session ${n} localSettings: ${JSON.stringify(ie)}`)}),N.on("remoteSettings",ie=>{Cr(`session ${n} remoteSettings: ${JSON.stringify(ie)}`)}),N.once("close",()=>{Cr(`session ${n} closed`),c[n]===N&&(Cr(`discarding cached session ${n}`),delete c[n])}),N.once("error",ie=>{Cr(`session ${n} encountered error: ${ie}`),c[n]===N&&(Cr(`discarding cached session ${n}`),delete c[n])}),N.on("frameError",(ie,Z,_e)=>{Cr(`session ${n} encountered frameError: type: ${ie}, code: ${Z}, id: ${_e}`)}),N.once("goaway",(ie,Z,_e)=>{Cr(`session ${n} received GOAWAY frame: errorCode: ${ie}, lastStreamID: ${Z}, opaqueData: ${_e?_e.toString():void 0}`)}),N.on("stream",(ie,Z,_e)=>{Gte(e,n,I,ie,Z,_e)})}else S&&S.id!==N.socket.id&&!S.inUse&&(Cr(`discarding redundant socket used for ALPN: #${S.id} ${S.servername}`),S.destroy());Cr(`${y} ${t.host}${l}`);let L,{signal:X}=g,te=s(()=>{X.removeEventListener("abort",te),M(new lq),L&&L.close(c8)},"onAbortSignal");if(X){if(X.aborted){M(new lq);return}X.addEventListener("abort",te)}let Ce=s(De=>{Cr(`session ${n} encountered error during ${g.method} ${t.href}: ${De}`),M(De)},"onSessionError");N.once("error",Ce),L=N.request({":method":y,":path":l,..._}),L.once("response",De=>{N.off("error",Ce),X&&X.removeEventListener("abort",te),P(fq(De,L,g.decode,M))}),L.once("error",De=>{N.off("error",Ce),X&&X.removeEventListener("abort",te),L.rstCode!==c8&&(Cr(`${g.method} ${t.href} failed with: ${De.message}`),L.close(c8),M(De))}),L.once("frameError",(De,pe,Ie)=>{N.off("error",Ce),Cr(`encountered frameError during ${g.method} ${t.href}: type: ${De}, code: ${pe}, id: ${Ie}`)}),L.on("push",(De,pe)=>{Cr(`received 'push' event: headers: ${JSON.stringify(De)}, flags: ${pe}`)}),T instanceof $te?T.pipe(L):(T&&L.write(T),L.end())})},"request");cq.exports={request:Yte,setupContext:Kte,resetContext:Wte}});var hq=ae((J8e,dq)=>{"use strict";var{EventEmitter:Xte}=require("events"),Jte=s(()=>{let e={},t=new Xte;return t.setMaxListeners(0),{acquire:r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let i=s(o=>{e[r]||(e[r]=!0,t.removeListener(r,i),n(o))},"tryAcquire");t.on(r,i)}),release:(r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))}}},"lock");dq.exports=Jte});var mq=ae((Z8e,Qte)=>{Qte.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var xq=ae((e6e,vq)=>{"use strict";var{Readable:Zte}=require("stream"),e0e=require("tls"),{types:{isAnyArrayBuffer:t0e}}=require("util"),r0e=sS(),IS=ed()("helix-fetch:core"),{RequestAbortedError:W7}=K7(),AS=aq(),G7=uq(),n0e=hq(),{isPlainObject:i0e}=zl(),{isFormData:s0e,FormDataSerializer:o0e}=o8(),{version:a0e}=mq(),PS="h2",RS="h2c",NS="http/1.0",nd="http/1.1",l0e=100,f0e=60*60*1e3,c0e=[PS,nd,NS],u0e=`helix-fetch/${a0e}`,d0e={method:"GET",compress:!0,decode:!0},gq=0,pq=n0e(),yq=s((e,t)=>new Promise((r,n)=>{let{signal:i}=t,o,a=s(()=>{i.removeEventListener("abort",a);let c=new W7;n(c),o&&o.destroy(c)},"onAbortSignal");if(i){if(i.aborted){n(new W7);return}i.addEventListener("abort",a)}let l=+e.port||443,f=s(c=>{i&&i.removeEventListener("abort",a),c instanceof W7||(IS(`connecting to ${e.hostname}:${l} failed with: ${c.message}`),n(c))},"onError");o=e0e.connect(l,e.hostname,t),o.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),o.off("error",f),gq+=1,o.id=gq,o.secureConnecting=!1,IS(`established TLS connection: #${o.id} (${o.servername})`),r(o)}),o.once("error",f)}),"connectTLS"),h0e=s(async(e,t)=>{let r=await pq.acquire(e.origin);try{return r||(r=await yq(e,t)),r}finally{pq.release(e.origin,r)}},"connect"),m0e=s(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,i=e.alpnCache.get(n);if(i)return{protocol:i};switch(t.protocol){case"http:":return i=nd,e.alpnCache.set(n,i),{protocol:i};case"http2:":return i=RS,e.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:o,h1:a={},h2:l={}}}=e,f=!(o===!1||a.rejectUnauthorized===!1||l.rejectUnauthorized===!1),c={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:f};e.options.ca&&(c.ca=e.options.ca);let u=await h0e(t,c);return i=u.alpnProtocol,i||(i=nd),e.alpnCache.set(n,i),{protocol:i,socket:u}},"determineProtocol"),g0e=s(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),p0e=s(async(e,t,r,n)=>{let i=t.protocol==="https:",o;t.port?o=t.port:i?o=443:o=80;let a={...r,host:t.host,hostname:t.hostname,port:o},l=await e(a);if(i){let c={...a,ALPNProtocols:n};c.socket=l,c.servername=a.host;let u=await yq(t,c);return{protocol:u.alpnProtocol||nd,socket:u}}return{protocol:l.alpnProtocol||nd,socket:l}},"getProtocolAndSocketFromFactory"),y0e=s(async(e,t,r)=>{let n=new URL(t),i={...d0e,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=g0e(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),e.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=e.userAgent);let o;if(i.body instanceof URLSearchParams)o="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(s0e(i.body)){let c=new o0e(i.body);o=c.contentType(),i.body=c.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(c.length()))}else typeof i.body=="string"||i.body instanceof String?o="text/plain; charset=utf-8":i0e(i.body)?(i.body=JSON.stringify(i.body),o="application/json"):t0e(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&o!==void 0&&(i.headers["content-type"]=o),i.body!=null&&(i.body instanceof Zte||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:l,socket:f=null}=e.socketFactory?await p0e(e.socketFactory,n,i,e.alpnProtocols):await m0e(e,n,a);switch(IS(`${n.host} -> ${l}`),l){case PS:try{return await G7.request(e,n,f?{...i,socket:f}:i)}catch(c){let{code:u,message:d}=c;throw u==="ERR_HTTP2_ERROR"&&d==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),c}case RS:return G7.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),f?{...i,socket:f}:i);case NS:case nd:return AS.request(e,n,f?{...i,socket:f}:i);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),v0e=s(async e=>(e.alpnCache.clear(),Promise.all([AS.resetContext(e),G7.resetContext(e)])),"resetContext"),x0e=s(e=>{let{options:{alpnProtocols:t=c0e,alpnCacheTTL:r=f0e,alpnCacheSize:n=l0e,userAgent:i=u0e,socketFactory:o}}=e;e.alpnProtocols=t,e.alpnCache=new r0e({max:n,ttl:r}),e.userAgent=i,e.socketFactory=o,AS.setupContext(e),G7.setupContext(e)},"setupContext");vq.exports={request:y0e,setupContext:x0e,resetContext:v0e,RequestAbortedError:W7,ALPN_HTTP2:PS,ALPN_HTTP2C:RS,ALPN_HTTP1_1:nd,ALPN_HTTP1_0:NS}});var bq=ae((r6e,_q)=>{"use strict";var _0e=ed()("helix-fetch:core"),{request:b0e,setupContext:C0e,resetContext:T0e,RequestAbortedError:E0e,ALPN_HTTP2:S0e,ALPN_HTTP2C:w0e,ALPN_HTTP1_1:I0e,ALPN_HTTP1_0:A0e}=xq(),Y7=class Y7{constructor(t){this.options={...t||{}},C0e(this)}api(){return{request:async(t,r)=>this.request(t,r),context:(t={})=>new Y7(t).api(),setCA:t=>this.setCA(t),reset:async()=>this.reset(),RequestAbortedError:E0e,ALPN_HTTP2:S0e,ALPN_HTTP2C:w0e,ALPN_HTTP1_1:I0e,ALPN_HTTP1_0:A0e}}async request(t,r){return b0e(this,t,r)}setCA(t){this.options.ca=t}async reset(){return _0e("resetting context"),T0e(this)}};s(Y7,"RequestContext");var kS=Y7;_q.exports=new kS().api()});var wq=ae((i6e,Sq)=>{"use strict";var{EventEmitter:P0e}=require("events"),{Readable:u8}=require("stream"),DS=ed()("helix-fetch"),R0e=sS(),{Body:N0e}=F7(),{Headers:MS}=O3(),{Request:id}=zU(),{Response:BS}=_S(),{FetchBaseError:k0e,FetchError:d8,AbortError:X7}=uS(),{AbortController:D0e,AbortSignal:L0e,TimeoutSignal:B0e}=pS(),O0e=QU(),{cacheableResponse:F0e}=tq(),{sizeof:M0e}=zl(),{isFormData:U0e}=o8(),{context:q0e,RequestAbortedError:j0e}=bq(),Cq=["GET","HEAD"],$0e=500,H0e=100*1024*1024,LS="push",Tq=s(async(e,t,r)=>{let{request:n}=e.context,i=t instanceof id&&typeof r>"u"?t:new id(t,r),{method:o,body:a,signal:l,compress:f,decode:c,follow:u,redirect:d,init:{body:p}}=i,g;if(l&&l.aborted){let N=new X7("The operation was aborted.");throw i.init.body instanceof u8&&i.init.body.destroy(N),N}try{g=await n(i.url,{...r,method:o,headers:i.headers.plain(),body:p&&!(p instanceof u8)&&!U0e(p)?p:a,compress:f,decode:c,follow:u,redirect:d,signal:l})}catch(N){throw p instanceof u8&&p.destroy(N),N instanceof TypeError?N:N instanceof j0e?new X7("The operation was aborted."):new d8(N.message,"system",N)}let y=s(()=>{l.removeEventListener("abort",y);let N=new X7("The operation was aborted.");i.init.body instanceof u8&&i.init.body.destroy(N),g.readable.emit("error",N)},"abortHandler");l&&l.addEventListener("abort",y);let{statusCode:_,statusText:S,httpVersion:T,headers:I,readable:P,decoded:M}=g;if([301,302,303,307,308].includes(_)){let{location:N}=I,L=N==null?null:new URL(N,i.url);switch(i.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",y),new d8(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(L===null)break;if(i.counter>=i.follow)throw l&&l.removeEventListener("abort",y),new d8(`maximum redirect reached at: ${i.url}`,"max-redirect");let X={headers:new MS(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(_!==303&&i.body&&i.init.body instanceof u8)throw l&&l.removeEventListener("abort",y),new d8("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(_===303||(_===301||_===302)&&i.method==="POST")&&(X.method="GET",X.body=void 0,X.headers.delete("content-length")),l&&l.removeEventListener("abort",y),Tq(e,new id(L,X))}default:}}return l&&(P.once("end",()=>{l.removeEventListener("abort",y)}),P.once("error",()=>{l.removeEventListener("abort",y)})),new BS(P,{url:i.url,status:_,statusText:S,headers:I,httpVersion:T,decoded:M,counter:i.counter})},"fetch"),Eq=s(async(e,t,r)=>{if(e.options.maxCacheSize===0||!Cq.includes(t.method))return r;let n=new O0e(t,r,{shared:!1});if(n.storable()){let i=await F0e(r);return e.cache.set(t.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),V0e=s(async(e,t,r)=>{let n=new id(t,r);if(e.options.maxCacheSize!==0&&Cq.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:l}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){l.headers=new MS(a.responseHeaders(l));let f=l.clone();return f.fromCache=!0,f}}let o=await Tq(e,n);return n.cache!=="no-store"?Eq(e,n,o):o},"cachingFetch"),z0e=s((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,i])=>{Array.isArray(i)?i.forEach(o=>r.searchParams.append(n,o)):r.searchParams.append(n,i)}),r.href},"createUrl"),K0e=s(e=>new B0e(e),"timeoutSignal"),Yl=class Yl{constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:H0e,i=$0e;n===0&&(n=1,i=1);let o=s(({response:l},f)=>M0e(l),"sizeCalculation");this.cache=new R0e({max:i,maxSize:n,sizeCalculation:o}),this.eventEmitter=new P0e,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(l,f,c)=>{let u={...f};Object.keys(u).filter(d=>d.startsWith(":")).forEach(d=>delete u[d]),this.pushPromiseHandler(l,u,c)},this.options.h2.pushHandler=(l,f,c)=>{let u={...f};Object.keys(u).filter(T=>T.startsWith(":")).forEach(T=>delete u[T]);let{statusCode:d,statusText:p,httpVersion:g,headers:y,readable:_,decoded:S}=c;this.pushHandler(l,u,new BS(_,{url:l,status:d,statusText:p,headers:y,httpVersion:g,decoded:S}))}),this.context=q0e(this.options)}api(){return{fetch:async(t,r)=>this.fetch(t,r),Body:N0e,Headers:MS,Request:id,Response:BS,AbortController:D0e,AbortSignal:L0e,FetchBaseError:k0e,FetchError:d8,AbortError:X7,context:(t={})=>new Yl(t).api(),setCA:t=>this.setCA(t),noCache:(t={})=>new Yl({...t,maxCacheSize:0}).api(),h1:(t={})=>new Yl({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAlive:(t={})=>new Yl({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),h1NoCache:(t={})=>new Yl({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAliveNoCache:(t={})=>new Yl({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),reset:async()=>this.context.reset(),onPush:t=>this.onPush(t),offPush:t=>this.offPush(t),createUrl:z0e,timeoutSignal:K0e,clearCache:()=>this.clearCache(),cacheStats:()=>this.cacheStats(),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return V0e(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(LS,t)}offPush(t){return this.eventEmitter.off(LS,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){DS(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let i=new id(t,{headers:r}),{policy:o}=this.cache.get(t)||{};o&&o.satisfiesWithoutRevalidation(i)&&(DS(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){DS(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await Eq(this,new id(t,{headers:r}),n);this.eventEmitter.emit(LS,t,i)}};s(Yl,"FetchContext");var OS=Yl;Sq.exports=new OS().api()});var Aq=ae((o6e,Iq)=>{"use strict";Iq.exports=wq()});var yw=ae((pge,mre)=>{mre.exports={name:"copilot",displayName:"GitHub Copilot",description:"Your AI pair programmer",version:"1.223.0",build:"1053",buildType:"prod",publisher:"GitHub",preview:!1,homepage:"https://github.com/features/copilot?editor=vscode",license:"https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",bugs:{url:"https://github.com/community/community/discussions/categories/copilot"},qna:"https://github.com/github-community/community/discussions/categories/copilot",icon:"assets/Copilot-App-Icon.png",pricing:"Trial",extensionPack:["GitHub.copilot-chat"],engines:{vscode:"^1.82.0",node:">=18.0.0",npm:">=9.0.0"},categories:["AI","Chat","Programming Languages","Machine Learning"],keywords:["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],badges:[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],activationEvents:["onStartupFinished"],main:"./dist/extension",enabledApiProposals:["inlineCompletionsAdditions"],contributes:{walkthroughs:[{id:"copilotWelcome",title:"GitHub Copilot",description:"Your AI pair programmer to write code faster and with less work",when:"!isWeb",steps:[{id:"copilot.signin",title:"Sign in with GitHub",description:`To get started with Copilot, sign in with your GitHub account.
Double-check to use the right GitHub account. You can also sign in later using the account menu.
 
[Sign In](command:github.copilot.signIn)`,when:"!github.copilot.activated",completionEvents:["onContext:github.copilot.activated"],media:{image:"assets/walkthrough/sign-in.svg",altText:"Sign in to GitHub via Copilot's notification or VS Code's account menu"}},{id:"copilot.firstsuggest",title:"AI-powered suggestions",description:`Copilot suggests lines of code **as you type** and multiple lines for **function signatures**.
  
**Prompts in comments** make suggestions specific to your desired outcome, logic and steps.
  
[Getting started videos](https://github.com/features/copilot/getting-started?utm_source=editor&utm_medium=walkthrough&utm_campaign=2024q3-em-MSFT-videolandingpage)`,media:{svg:"assets/walkthrough/ai-powered-suggestions.svg",altText:"Different types of suggestions visualized"}},{id:"copilot.chatWin",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `ctrl + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.chatNonWin",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `cmd + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"!isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.realfiles.openrecent",title:"Harness the power of context",description:`The **more specific context** you provide Copilot, the **better** suggestions get! Context is not just current code and comments, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.openRecent)`,when:"workspaceFolderCount == 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.realfiles.quickopen",title:"Harness the power of context",description:`The **more context** you give Copilot, the **better** suggestions get! Context is not just the current code, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.quickOpen)`,when:"workspaceFolderCount != 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.iterate",title:"You are in control",description:`Just as you would review a colleague's code, you should always assess, analyze, and validate AI-generated code.
  
If the first suggestion doesn't work, Copilot can generate more options. You can edit the Copilot settings and keyboard shortcuts to personalize your experience.
  
[Edit keyboard shortcuts](command:workbench.action.openGlobalKeybindings?%5B%22copilot%22%5D)
  
[Personalize settings](command:workbench.action.openSettings?%5B%22copilot%22%5D)`,media:{image:"assets/walkthrough/you-are-in-control.svg",altText:"An editor with a toolbar widget overlay showing arrows for navigating multiple suggestions from Copilot"}},{id:"copilot.creativity",title:"Powered by your creativity",description:`Pair up with AI to outline your idea in a comment, then generate the implementation, and then test suites. Or, work backwards from example output!
Copilot will keep surprising you as you challenge it.
  
[Prompts, tips, and use cases](https://code.visualstudio.com/docs/copilot/prompt-crafting)`,media:{svg:"assets/walkthrough/powered-by-your-creativity.svg",altText:"Metrics showing how much Copilot increases productivity for developers. The metrics read: 74% focus on more satisfying work. 88% feel more productive. 96% are faster with more repetitive tasks."}}]}],commands:[{command:"github.copilot.acceptCursorPanelSolution",title:"Accept panel suggestion at the cursor",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the previous panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the next panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",category:"GitHub Copilot"},{command:"github.copilot.toggleCopilot",title:"Enable/Disable Copilot completions",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && github.copilot.activated && !inInteractiveInput && !interactiveEditorFocused && !commentEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && config.github.copilot.inlineSuggest.enable && !inlineSuggestionsVisible"}],menus:{"editor/inlineCompletions/actions":[{command:"github.copilot.generate",when:"github.copilot.activated"}],commandPalette:[{command:"github.copilot.generate",when:"github.copilot.activated"},{command:"github.copilot.toggleCopilot",when:"github.copilot.activated"},{command:"github.copilot.sendFeedback",when:"github.copilot.activated"},{command:"github.copilot.collectDiagnostics"}]},configuration:[{title:"Copilot",properties:{"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"Deprecated: Please use github.copilot.editor.enableAutoCompletions instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],icons:{"copilot-logo":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0041"}},"copilot-warning":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0042"}},"copilot-notconnected":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0043"}},"copilot-chat":{description:"GitHub Copilot chat icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\F101"}},"copilot-blocked":{description:"GitHub Copilot blocked icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0045"}}},iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},scripts:{build:"tsx .esbuild.ts",clean:"./script/build/clean.sh","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"ts-node script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"ts-node script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"./script/build/clean-deprecated-modules.sh && npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build",prewatch:"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent test:lib-e2e test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.ts"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.ts"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.ts"',"test:lsp-client":"npm -C lsp-client run test","test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package",watch:"run-p watch:*","watch:root":"tsx .esbuild.ts --watch","watch:types":"tsc --noEmit --watch --preserveWatchOutput"},devDependencies:{"@datadog/datadog-ci":"^2.38.1","@github/prettier-config":"0.0.6","@types/crypto-js":"^4.1.1","@types/diff":"^5.0.9","@types/git-url-parse":"^9.0.1","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.6","@types/node":"~18.11.0","@types/sinon":"^10.0.15","@types/uuid":"^10.0.0","@types/vscode":"1.82.0","@types/yargs":"^17.0.24","@typescript-eslint/eslint-plugin":"^7.0.0","@typescript-eslint/parser":"^6.18.0","@vscode/test-electron":"^2.3.8","@vscode/vsce":"^2.21.0",benchmark:"^2.1.4",boxen:"^7.1.1",chalk:"^4.1.2","dependency-cruiser":"^13.0.2",electron:"^28.1.4",esbuild:"^0.19.9","esbuild-plugin-copy":"^2.1.1","esbuild-plugin-summary":"^0.0.2",eslint:"^8.57.0","eslint-plugin-no-only-tests":"^3.1.0",fantasticon:"^2.0.0",glob:"^10.3.4","js-yaml":"^4.1.0",mocha:"^10.3.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",pkg:"^5.8.1",prettier:"3.0.1","prettier-plugin-organize-imports":"^3.2.4",proxy:"^2.1.1",sinon:"^16.0.0","ts-dedent":"^2.2.0","ts-mocha":"^10.0.0","ts-node":"^10.9.1",tsx:"^4.7.1","typed-emitter":"^2.1.0",typescript:"^5.1.6","vscode-dts":"^0.3.3",zlib:"^1.0.5"},dependencies:{"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.4","@microsoft/1ds-post-js":"^4.0.5","@microsoft/applicationinsights-web-basic":"^3.1.0","@microsoft/tiktokenizer":"^1.0.7","@roamhq/mac-ca":"^1.0.7","@sinclair/typebox":"^0.31.28","@types/vscode-webview":"^1.57.4","@vscode/webview-ui-toolkit":"^1.3.1","crypto-js":"^4.2.0",diff:"^5.2.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^14.1.0",ignore:"^5.2.4",kerberos:"^2.0.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^8.4.2",semver:"^7.6.3",shiki:"^1.11.0","source-map-support":"^0.5.21",uuid:"^10.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.0.7","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},overrides:{fsevents:"<0",bindings:"github:devm33/node-bindings#6b57e6883b34dbb6942467a7e49afce99d9d6832"}}});var ej=ae((up,Zq)=>{(function(e,t){typeof up=="object"&&typeof Zq<"u"?t(up):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(up,function(e){"use strict";var t=void 0,r=null,n="",i="function",o="number",a="object",l="prototype",f="__proto__",c="string",u="undefined",d="constructor",p="Symbol",g="_polyfill",y="indexOf",_="length",S="value",T="name",I="slice",P="call",M="toString",N=Object,L=N[l],X=String,te=X[l],Ce=Math,De=Array,pe=De[l];function Ie(v,E){try{return{v:v.apply(this,E)}}catch(w){return{e:w}}}s(Ie,"safe");function ie(v){return function(E){return typeof E===v}}s(ie,"_createIs");function Z(v){var E="[object "+v+"]";return function(w){return!!(w&&_e(w)===E)}}s(Z,"_createObjIs");function _e(v){return L.toString.call(v)}s(_e,"objToString");function Ae(v){return typeof v===u||v===u}s(Ae,"isUndefined");function be(v){return v===r||Ae(v)}s(be,"isNullOrUndefined");function Ke(v){return!!v||v!==t}s(Ke,"isDefined");var ce=ie(c),ve=ie(i);function le(v){return!v&&be(v)?!1:!!v&&typeof v===a}s(le,"isObject");var Ee=De.isArray,mt=Z("Error"),Et=N.getOwnPropertyDescriptor;function dt(v,E){return!!v&&L.hasOwnProperty[P](v,E)}s(dt,"objHasOwnProperty");var ze=N.hasOwn||n0;function n0(v,E){return dt(v,E)||!!Et(v,E)}s(n0,"polyObjHasOwn");function W(v,E,w){if(v&&le(v)){for(var R in v)if(ze(v,R)&&E[P](w||v,R,v[R])===-1)break}}s(W,"objForEachKey");function Je(v,E,w,R){var z={};return W(v,function(ne,me){z[ne]=E?me:ne,z[me]=w?me:ne}),R(z)}s(Je,"_createKeyValueMap");function he(v){throw new Error(v)}s(he,"throwError");function Xe(v){throw new TypeError(v)}s(Xe,"throwTypeError");var Ve=N.freeze;function nt(v){return v}s(nt,"_doNothing");function wt(v){return v[f]||r}s(wt,"_getProto");var Mt=N.assign,Lt=N.keys;function H(v){return Ve&&W(v,function(E,w){(Ee(w)||le(w))&&Ve(w)}),$t(v)}s(H,"objDeepFreeze");var $t=Ve||nt,vt=N.getPrototypeOf||wt;function sr(v){return Je(v,1,0,H)}s(sr,"createEnum");function X0(v){var E={};return W(v,function(w,R){E[w]=R[1],E[R[0]]=R[1]}),H(E)}s(X0,"createSimpleMap");function pr(v){return X0(v)}s(pr,"createTypeMap");var J0=X,Gr="__tsUtils$gblCfg",un;function Fn(){var v;return typeof globalThis!==u&&(v=globalThis),!v&&typeof self!==u&&(v=self),!v&&typeof window!==u&&(v=window),!v&&typeof global!==u&&(v=global),v}s(Fn,"_getGlobalValue");function dn(){if(!un){var v=Ie(Fn).v||{};un=v[Gr]=v[Gr]||{}}return un}s(dn,"_getGlobalConfig");var Xt="[object Error]";function Y(v,E){var w=n,R=L[M][P](v);R===Xt&&(v={stack:J0(v.stack),message:J0(v.message),name:J0(v.name)});try{w=JSON.stringify(v,r,E?typeof E===o?E:4:t),w=w&&w.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||J0(v)}catch(z){w=" - "+Y(z,E)}return R+": "+w}s(Y,"dumpObj");var k,B=Vt,Ye=Vt;function Vt(v,E,w){k=k||pe[I];var R=E&&E[v];return function(z){var ne=z&&z[v]||R;if(ne||w){var me=arguments;return(ne||w).apply(z,ne?k[P](me,1):me)}Xe('"'+J0(v)+'" not defined for '+Y(z))}}s(Vt,"_unwrapFunctionWithPoly");var S0=Ce.max,A0=Ye(I,te),Wt=Ye("substring",te),W0=Vt("substr",te,u0);function u0(v,E,w){return be(v)&&Xe("'polyStrSubstr called with invalid "+Y(v)),w<0?n:(E=E||0,E<0&&(E=S0(E+v[_],0)),Ae(w)?A0(v,E):A0(v,E,E+w))}s(u0,"polyStrSubstr");function er(v,E){return Wt(v,0,E)}s(er,"strLeft");var w0="_urid",Q0;function Nt(){if(!Q0){var v=dn();Q0=v.gblSym=v.gblSym||{k:{},s:{}}}return Q0}s(Nt,"_globalSymbolRegistry");function hs(v){var E={description:J0(v),toString:function(){return p+"("+v+")"}};return E[g]=!0,E}s(hs,"polyNewSymbol");function tl(v){var E=Nt();if(!ze(E.k,v)){var w=hs(v),R=Lt(E.s).length;w[w0]=function(){return R+"_"+w[M]()},E.k[v]=w,E.s[w[w0]()]=J0(v)}return E.k[v]}s(tl,"polySymbolFor");var Mn={e:"enumerable",c:"configurable",v:S,w:"writable",g:"get",s:"set"};function Ms(v){var E={};if(E[Mn.c]=!0,E[Mn.e]=!0,v.l){E.get=function(){return v.l.v};var w=Et(v.l,"v");w&&w.set&&(E.set=function(R){v.l.v=R})}return W(v,function(R,z){E[Mn[R]]=Ae(z)?E[Mn[R]]:z}),E}s(Ms,"_createProp");var qi=N.defineProperty;function Co(v,E,w){return qi(v,E,Ms(w))}s(Co,"objDefine");var ye;function U(){ye=dn()}s(U,"_initTestHooks");function se(v){var E={};return!ye&&U(),E.b=ye.lzy,qi(E,"v",{configurable:!0,get:function(){var w=v();return ye.lzy||qi(E,"v",{value:w}),E.b=ye.lzy,w}}),E}s(se,"getLazy");function fe(v,E){return se(function(){var w=Ie(v);return w.e?E:w.v})}s(fe,"safeGetLazy");function K(v){return qi({toJSON:function(){return v}},"v",{value:v})}s(K,"createCachedValue");var O="window",Te,$e,Ht,or;function tr(v){return se(function(){return Ie(lr,[v]).v||t})}s(tr,"lazySafeGetInst");function Un(v){return!ye&&U(),(!Te||v===!1||ye.lzy)&&(Te=K(Ie(Fn).v||r)),Te.v}s(Un,"getGlobal");function lr(v,E){var w=!Te||E===!1?Un(E):Te.v;return w&&w[v]?w[v]:v===O&&$e?$e.v:r}s(lr,"getInst");function ai(){return!ye&&U(),(!Ht||ye.lzy)&&(Ht=K(Ie(lr,["document"]).v)),Ht.v}s(ai,"getDocument");function s0(){return!!rr()}s(s0,"hasWindow");function rr(){return!ye&&U(),(!$e||ye.lzy)&&($e=K(Ie(lr,[O]).v)),$e.v}s(rr,"getWindow");function dr(){return!!qn()}s(dr,"hasNavigator");function qn(){return!ye&&U(),(!or||ye.lzy)&&(or=K(Ie(lr,["navigator"]).v)),or.v}s(qn,"getNavigator");var Ai,Pd;function rl(){(!Ai||!Ai.b)&&(Ai=tr(p),Pd=fe(function(){return Ai.v?Ai.v.for:t},t))}s(rl,"_initSymbol");function uf(v,E){return!ye&&U(),(!Ai||ye.lzy)&&rl(),Ai.v?Ai.v(v):E?r:hs(v)}s(uf,"newSymbol");function nl(v){return!ye&&U(),(!Pd||!Ai||ye.lzy)&&rl(),(Pd.v||tl)(v)}s(nl,"symbolFor");var To=B("apply");function li(v,E,w){if(v)for(var R=v[_]>>>0,z=0;z<R&&!(z in v&&E[P](w||v,v[z],z,v)===-1);z++);}s(li,"arrForEach");var ra=Ye(y,pe),il=Ye("map",pe),N2=Ye("reduce",pe),ms=N.create||Yr;function Yr(v){if(!v)return{};var E=typeof v;E!==a&&E!==i&&Xe("Prototype must be an Object or function: "+Y(v));function w(){}return s(w,"tempFunc"),w[l]=v,new w}s(Yr,"polyObjCreate");var k2;function sl(v,E){var w=N.setPrototypeOf||function(R,z){!k2&&(k2=se(function(){var ne;return ne={},ne[f]=[],ne instanceof Array})),k2.v?R[f]=z:W(z,function(ne,me){return R[ne]=me})};return w(v,E)}s(sl,"objSetPrototypeOf");function hv(v,E,w){Ie(Co,[E,T,{v,c:!0,e:!1}]),E=sl(E,w);function R(){this.constructor=E,Ie(Co,[this,T,{v,c:!0,e:!1}])}return s(R,"__"),E[l]=w===r?ms(w):(R[l]=w[l],new R),E}s(hv,"_createCustomError");function Eo(v,E){E&&(v[T]=E)}s(Eo,"_setName");function mv(v,E,w){var R=w||Error,z=R[l][T],ne=Error.captureStackTrace;return hv(v,function(){var me=this,Se=arguments;try{Ie(Eo,[R,v]);var Le=To(R,me,pe[I][P](Se))||me;if(Le!==me){var Ge=vt(me);Ge!==vt(Le)&&sl(Le,Ge)}return ne&&ne(Le,me[d]),E&&E(Le,Se),Le}finally{Ie(Eo,[R,z])}},R)}s(mv,"createCustomError");function na(){return(Date.now||gv)()}s(na,"utcNow");function gv(){return new Date().getTime()}s(gv,"polyUtcNow");function fi(v){return s(function(w){return be(w)&&Xe("strTrim called ["+Y(w)+"]"),w&&w.replace&&(w=w.replace(v,n)),w},"_doTrim")}s(fi,"_createTrimFn");var D2=fi(/^\s+|(?=\s)\s+$/g),gs=Vt("trim",te,D2),L2,B2,r1;function Us(v){if(!v||typeof v!==a)return!1;r1||(r1=s0()?rr():!0);var E=!1;if(v!==r1){B2||(L2=Function[l][M],B2=L2[P](N));try{var w=vt(v);E=!w,E||(dt(w,d)&&(w=w[d]),E=w&&typeof w===i&&L2[P](w)===B2)}catch{}}return E}s(Us,"isPlainObject");var df;function Rd(){return!ye&&U(),(!df||!df.b&&ye.lzy)&&(df=tr("performance")),df.v}s(Rd,"getPerformance");var pv=Vt("endsWith",te,Nd);function Nd(v,E,w){ce(v)||Xe("'"+Y(v)+"' is not a string");var R=ce(E)?E:J0(E),z=!Ae(w)&&w<v[_]?w:v[_];return Wt(v,z-R[_],z)===R}s(Nd,"polyStrEndsWith");var n1=Ye(y,te),So="ref",ia="un"+So,Jt="hasRef",ji="enabled";function i1(v,E,w){var R,z=!0,ne=v?E(r):r,me,Se=s(function(){return z=!1,ne&&ne[ia]&&ne[ia](),me},"_unref"),Le=s(function(){return z=!0,ne&&ne[So]&&ne[So](),me},"_ref"),Ge=s(function(){return ne&&ne[Jt]?ne[Jt]():z},"_hasRef"),ht=s(function(){return ne=E(ne),z||Se(),me},"_refresh"),a0=s(function(){ne&&w(ne),ne=r},"_cancel"),i0=s(function(Zt){!Zt&&ne&&a0(),Zt&&!ne&&ht()},"_setEnabled");return me=(R={cancel:a0,refresh:ht},R[Jt]=Ge,R[So]=Le,R[ia]=Se,R[ji]=!1,R),qi(me,ji,{get:function(){return!!ne},set:i0}),{h:me,dn:function(){ne=r}}}s(i1,"_createTimerHandler");function O2(v,E,w,R){var z=Ee(w),ne=z?w.length:0,me=(ne>0?w[0]:z?t:w)||setTimeout,Se=(ne>1?w[1]:t)||clearTimeout,Le=R[0];R[0]=function(){Ge.dn(),To(Le,v,pe[I][P](arguments))};var Ge=i1(E,function(ht){if(ht){if(ht.refresh)return ht.refresh(),ht;To(Se,v,[ht])}return To(me,v,R)},function(ht){To(Se,v,[ht])});return Ge.h}s(O2,"_createTimeoutWith");function yv(v,E){return O2(this,!0,t,pe[I][P](arguments))}s(yv,"scheduleTimeout");var ps=sr,vv=pr,hf="toLowerCase",s1="blkVal",Xr="length",o1="rdOnly",F2="notify",sa="warnToConsole",a1="throwInternal",M2="setDf",U2="watch",Vr="logger",q2="apply",qs="push",kd="splice",ci="hdlr",xv="cancel",Dd="name",_v="unload",l1="version",g6="loggingLevelConsole",j2="messageId",f1="message",p6="diagLog",y6="userAgent",$2="split",Ld="nodeType",mf="replace",v6="logInternalMessage",wo="type",Bd="handler",x6="traceId",gf="spanId",ol="traceFlags",c1;function H2(v,E){c1||(c1=mv("AggregationError",function(R,z){z[Xr]>1&&(R.errors=z[1])}));var w=v||"One or more errors occurred.";throw li(E,function(R,z){w+=`
`.concat(z," > ").concat(Y(R))}),new c1(w,E||[])}s(H2,"throwAggregationError");var _6="function",bv="object",b6="undefined",js="prototype",C6=Object,Od=C6[js],u1="hasOwnProperty",Io=s(function(v){for(var E,w=1,R=arguments.length;w<R;w++){E=arguments[w];for(var z in E)Od[u1].call(E,z)&&(v[z]=E[z])}return v},"__objAssignFnImpl"),al=Mt||Io,pf=s(function(v,E){return pf=C6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,R){w.__proto__=R}||function(w,R){for(var z in R)R[u1](z)&&(w[z]=R[z])},pf(v,E)},"extendStaticsFn");function V2(v,E){typeof E!==_6&&E!==null&&Xe("Class extends value "+String(E)+" is not a constructor or null"),pf(v,E);function w(){this.constructor=v}s(w,"__"),v[js]=E===null?ms(E):(w[js]=E[js],new w)}s(V2,"__extendsFn");var Ao,Fd="constructor",ys="prototype",oa="function",d1="_dynInstFuncs",Md="_isDynProxy",aa="_dynClass",Ud="_dynCls$",qd="_dynInstChk",ll=qd,h1="_dfOpts",jd="_unknown_",m1="__proto__",la="_dyn"+m1,z2="__dynProto$Gbl",$d="_dynInstProto",yf="useBaseInst",vf="setInstFuncs",g1=Object,vs=g1.getPrototypeOf,p1=g1.getOwnPropertyNames,Hd=Un(),xf=Hd[z2]||(Hd[z2]={o:(Ao={},Ao[vf]=!0,Ao[yf]=!0,Ao),n:1e3});function Vd(v){return v&&(v===g1[ys]||v===Array[ys])}s(Vd,"_isObjectOrArrayPrototype");function y1(v){return Vd(v)||v===Function[ys]}s(y1,"_isObjectArrayOrFunctionPrototype");function fl(v){var E;if(v){if(vs)return vs(v);var w=v[m1]||v[ys]||(v[Fd]?v[Fd][ys]:null);E=v[la]||w,dt(v,la)||(delete v[$d],E=v[la]=v[$d]||v[la],v[$d]=w)}return E}s(fl,"_getObjProto");function zd(v,E){var w=[];if(p1)w=p1(v);else for(var R in v)typeof R=="string"&&dt(v,R)&&w.push(R);if(w&&w.length>0)for(var z=0;z<w.length;z++)E(w[z])}s(zd,"_forEachProp");function K2(v,E,w){return E!==Fd&&typeof v[E]===oa&&(w||dt(v,E))&&E!==m1&&E!==ys}s(K2,"_isDynamicCandidate");function Kd(v){Xe("DynamicProto: "+v)}s(Kd,"_throwTypeError");function Cv(v){var E=ms(null);return zd(v,function(w){!E[w]&&K2(v,w,!1)&&(E[w]=v[w])}),E}s(Cv,"_getInstanceFuncs");function v1(v,E){for(var w=v.length-1;w>=0;w--)if(v[w]===E)return!0;return!1}s(v1,"_hasVisited");function ui(v,E,w,R){function z(Le,Ge,ht){var a0=Ge[ht];if(a0[Md]&&R){var i0=Le[d1]||{};i0[ll]!==!1&&(a0=(i0[Ge[aa]]||{})[ht]||a0)}return function(){return a0.apply(Le,arguments)}}s(z,"_instFuncProxy");var ne=ms(null);zd(w,function(Le){ne[Le]=z(E,w,Le)});for(var me=fl(v),Se=[];me&&!y1(me)&&!v1(Se,me);)zd(me,function(Le){!ne[Le]&&K2(me,Le,!vs)&&(ne[Le]=z(E,me,Le))}),Se.push(me),me=fl(me);return ne}s(ui,"_getBaseFuncs");function Tv(v,E,w,R){var z=null;if(v&&dt(w,aa)){var ne=v[d1]||ms(null);if(z=(ne[w[aa]]||ms(null))[E],z||Kd("Missing ["+E+"] "+oa),!z[qd]&&ne[ll]!==!1){for(var me=!dt(v,E),Se=fl(v),Le=[];me&&Se&&!y1(Se)&&!v1(Le,Se);){var Ge=Se[E];if(Ge){me=Ge===R;break}Le.push(Se),Se=fl(Se)}try{me&&(v[E]=z),z[qd]=1}catch{ne[ll]=!1}}}return z}s(Tv,"_getInstFunc");function T6(v,E,w){var R=E[v];return R===w&&(R=fl(E)[v]),typeof R!==oa&&Kd("["+v+"] is not a "+oa),R}s(T6,"_getProtoFunc");function E6(v,E,w,R,z){function ne(Le,Ge){var ht=s(function(){var a0=Tv(this,Ge,Le,ht)||T6(Ge,Le,ht);return a0.apply(this,arguments)},"dynProtoProxy");return ht[Md]=1,ht}if(s(ne,"_createDynamicPrototype"),!Vd(v)){var me=w[d1]=w[d1]||ms(null);if(!Vd(me)){var Se=me[E]=me[E]||ms(null);me[ll]!==!1&&(me[ll]=!!z),Vd(Se)||zd(w,function(Le){K2(w,Le,!1)&&w[Le]!==R[Le]&&(Se[Le]=w[Le],delete w[Le],(!dt(v,Le)||v[Le]&&!v[Le][Md])&&(v[Le]=ne(v,Le)))})}}}s(E6,"_populatePrototype");function x1(v,E){if(vs){for(var w=[],R=fl(E);R&&!y1(R)&&!v1(w,R);){if(R===v)return!0;w.push(R),R=fl(R)}return!1}return!0}s(x1,"_checkPrototype");function _1(v,E){return dt(v,ys)?v.name||E||jd:((v||{})[Fd]||{}).name||E||jd}s(_1,"_getObjName");function W2(v,E,w,R){dt(v,ys)||Kd("theClass is an invalid class definition.");var z=v[ys];x1(z,E)||Kd("["+_1(v)+"] not in hierarchy of ["+_1(E)+"]");var ne=null;dt(z,aa)?ne=z[aa]:(ne=Ud+_1(v,"_")+"$"+xf.n,xf.n++,z[aa]=ne);var me=W2[h1],Se=!!me[yf];Se&&R&&R[yf]!==void 0&&(Se=!!R[yf]);var Le=Cv(E),Ge=ui(z,E,Le,Se);w(E,Ge);var ht=!!vs&&!!me[vf];ht&&R&&(ht=!!R[vf]),E6(z,ne,E,Le,ht!==!1)}s(W2,"dynamicProto"),W2[h1]=xf.o;var S6=void 0,Nr="",fa="Not dynamic - ",G2=/-([a-z])/g,b1=/([^\w\d_$])/g,w6=/^(\d+[\w\d_$])/;function Wd(v){return!be(v)}s(Wd,"isNotNullOrUndefined");function Y2(v){var E=v;return E&&ce(E)&&(E=E[mf](G2,function(w,R){return R.toUpperCase()}),E=E[mf](b1,"_"),E=E[mf](w6,function(w,R){return"_"+R})),E}s(Y2,"normalizeJsName");function C1(v,E){return v&&E?n1(v,E)!==-1:!1}s(C1,"strContains");function T1(v){return v&&v.toISOString()||""}s(T1,"toISOString");function x0(v){return mt(v)?v[Dd]:Nr}s(x0,"getExceptionName");function Gd(v){return function(){function E(){var w=this;v&&W(v,function(R,z){w[R]=z})}return s(E,"class_1"),E}()}s(Gd,"createClassFromInterface");var Yd="console",E1="JSON",S1="crypto",_f="msCrypto",Po="msie",Lr="trident/",bf=null,nr=null,cl=null;function I6(){return typeof console!==b6?console:lr(Yd)}s(I6,"getConsole");function ul(){return!!(typeof JSON===bv&&JSON||lr(E1)!==null)}s(ul,"hasJSON");function w1(){return ul()?JSON||lr(E1):null}s(w1,"getJSON");function ca(){return lr(S1)}s(ca,"getCrypto");function $s(){return lr(_f)}s($s,"getMsCrypto");function I1(){var v=qn();if(v&&(v[y6]!==nr||bf===null)){nr=v[y6];var E=(nr||Nr)[hf]();bf=C1(E,Po)||C1(E,Lr)}return bf}s(I1,"isIE");function A6(v){return(cl===null||v===!1)&&(cl=dr()&&!!qn().sendBeacon),cl}s(A6,"isBeaconsSupported");function ua(v,E){if(v)for(var w=0;w<v[Xr];w++){var R=v[w];if(R[Dd]&&R[Dd]===E)return R}return{}}s(ua,"_getNamedValue");function Cf(v){var E=ai();return E&&v?ua(E.querySelectorAll("meta"),v).content:null}s(Cf,"findMetaTag");function jn(v){var E,w=Rd();if(w){var R=w.getEntriesByType("navigation")||[];E=ua((R[Xr]>0?R[0]:{}).serverTiming,v).description}return E}s(jn,"findNamedServerTiming");var X2=4294967296,$i=4294967295,A1=123456789,P1=987654321,dl=!1,Tf=A1,Hi=P1;function Xd(v){v<0&&(v>>>=0),Tf=A1+v&$i,Hi=P1-v&$i,dl=!0}s(Xd,"_mwcSeed");function P6(){try{var v=na()&2147483647;Xd((Math.random()*X2^v)+v)}catch{}}s(P6,"_autoSeedMwc");function R6(v){return v>0?Math.floor(xs()/$i*(v+1))>>>0:0}s(R6,"randomValue");function xs(v){var E=0,w=ca()||$s();return w&&w.getRandomValues&&(E=w.getRandomValues(new Uint32Array(1))[0]&$i),E===0&&I1()&&(dl||P6(),E=Ro()&$i),E===0&&(E=Math.floor(X2*Math.random()|0)),v||(E>>>=0),E}s(xs,"random32");function Ro(v){Hi=36969*(Hi&65535)+(Hi>>16)&$i,Tf=18e3*(Tf&65535)+(Tf>>16)&$i;var E=(Hi<<16)+(Tf&65535)>>>0&$i|0;return v||(E>>>=0),E}s(Ro,"mwcRandom32");function Jd(v){v===void 0&&(v=22);for(var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=xs()>>>0,R=0,z=Nr;z[Xr]<v;)R++,z+=E.charAt(w&63),w>>>=6,R===5&&(w=(xs()<<2&4294967295|w&3)>>>0,R=0);return z}s(Jd,"newId");var hl="3.0.5",Ef="."+Jd(6),No=0;function Qd(v){return v[Ld]===1||v[Ld]===9||!+v[Ld]}s(Qd,"_canAcceptData");function R1(v,E){var w=E[v.id];if(!w){w={};try{Qd(E)&&Co(E,v.id,{e:!1,v:w})}catch{}}return w}s(R1,"_getCache");function di(v,E){return E===void 0&&(E=!1),Y2(v+No+++(E?"."+hl:Nr)+Ef)}s(di,"createUniqueNamespace");function N1(v){var E={id:di("_aiData-"+(v||Nr)+"."+hl),accept:function(w){return Qd(w)},get:function(w,R,z,ne){var me=w[E.id];return me?me[Y2(R)]:(ne&&(me=R1(E,w),me[Y2(R)]=z),z)},kill:function(w,R){if(w&&w[R])try{delete w[R]}catch{}}};return E}s(N1,"createElmNodeData");function Sf(v){return v&&le(v)&&(v.isVal||v.fb||ze(v,"v")||ze(v,"mrg")||ze(v,"ref")||v.set)}s(Sf,"_isConfigDefaults");function wf(v,E,w){var R,z=w.dfVal||Ke;if(E&&w.fb){var ne=w.fb;Ee(ne)||(ne=[ne]);for(var me=0;me<ne[Xr];me++){var Se=ne[me],Le=E[Se];if(z(Le)?R=Le:v&&(Le=v.cfg[Se],z(Le)&&(R=Le),v.set(v.cfg,J0(Se),Le)),z(R))break}}return!z(R)&&z(w.v)&&(R=w.v),R}s(wf,"_getDefault");function k1(v,E,w){var R=w;if(w&&Sf(w)&&(R=wf(v,E,w)),R){Sf(R)&&(R=k1(v,E,R));var z;Ee(R)?(z=[],z[Xr]=R[Xr]):Us(R)&&(z={}),z&&(W(R,function(ne,me){me&&Sf(me)&&(me=k1(v,E,me)),z[ne]=me}),R=z)}return R}s(k1,"_resolveDefaultValue");function ml(v,E,w,R){var z,ne,me,Se=R,Le,Ge,ht,a0;Sf(Se)?(z=Se.isVal,ne=Se.set,ht=Se[o1],a0=Se[s1],Le=Se.mrg,Ge=Se.ref,!Ge&&Ae(Ge)&&(Ge=!!Le),me=wf(v,E,Se)):me=R,a0&&v[s1](E,w);var i0,Zt=!0,At=E[w];(At||!be(At))&&(i0=At,Zt=!1,z&&i0!==me&&!z(i0)&&(i0=me,Zt=!0),ne&&(i0=ne(i0,me,E),Zt=i0===me)),Zt?me?i0=k1(v,E,me):i0=me:(Us(i0)||Ee(me))&&Le&&me&&(Us(me)||Ee(me))&&W(me,function(_0,zt){ml(v,i0,_0,zt)}),v.set(E,w,i0),Ge&&v.ref(E,w),ht&&v[o1](E,w)}s(ml,"_applyDefaultValue");var da=nl("[[ai_dynCfg_1]]"),Hs=nl("[[ai_blkDynCfg_1]]"),J2=nl("[[ai_frcDynCfg_1]]");function Zd(v){if(v){var E;if(Ee(v)?(E=[],E[Xr]=v[Xr]):Us(v)&&(E={}),E)return W(v,function(w,R){E[w]=Zd(R)}),E}return v}s(Zd,"_cfgDeepCopy");function If(v){if(v){var E=v[da]||v;if(E.cfg&&(E.cfg===v||E.cfg[da]===E))return E}return null}s(If,"getDynamicConfigHandler");function Vs(v){if(v&&(Us(v)||Ee(v)))try{v[Hs]=!0}catch{}return v}s(Vs,"blockDynamicConversion");function D1(v,E,w){var R=!1;return w&&!v[E.blkVal]&&(R=w[J2],!R&&!w[Hs]&&(R=Us(w)||Ee(w))),R}s(D1,"_canMakeDynamic");function Q2(v){Xe("InvalidAccess:"+v)}s(Q2,"throwInvalidAccess");var N6=["push","pop","shift","unshift","splice"],Af=s(function(v,E,w,R){v&&v[a1](3,108,"".concat(w," [").concat(E,"] failed - ")+Y(R))},"_throwDynamicError");function Z2(v,E,w){Ee(E)&&li(N6,function(R){var z=E[R];E[R]=function(){for(var ne=[],me=0;me<arguments.length;me++)ne[me]=arguments[me];var Se=z[q2](this,ne);return B1(v,E,w,"Patching"),Se}})}s(Z2,"_patchArray");function e5(v,E){var w=Et(v,E);return w&&w.get}s(e5,"_getOwnPropGetter");function t5(v,E,w,R){var z={n:w,h:[],trk:function(Ge){Ge&&Ge.fn&&(ra(z.h,Ge)===-1&&z.h[qs](Ge),v.trk(Ge,z))},clr:function(Ge){var ht=ra(z.h,Ge);ht!==-1&&z.h[kd](ht,1)}},ne=!0,me=!1;function Se(){ne&&(me=me||D1(Se,v,R),R&&!R[da]&&me&&(R=B1(v,R,w,"Converting")),ne=!1);var Ge=v.act;return Ge&&z.trk(Ge),R}s(Se,"_getProperty"),Se[v.prop]={chng:function(){v.add(z)}};function Le(Ge){if(R!==Ge){Se[v.ro]&&!v.upd&&Q2("["+w+"] is read-only:"+Y(E)),ne&&(me=me||D1(Se,v,R),ne=!1);var ht=me&&Se[v.rf];if(me)if(ht){W(R,function(i0){R[i0]=Ge?Ge[i0]:S6});try{W(Ge,function(i0,Zt){L1(v,R,i0,Zt)}),Ge=R}catch(i0){Af((v.hdlr||{})[Vr],w,"Assigning",i0),me=!1}}else R&&R[da]&&W(R,function(i0){var Zt=e5(R,i0);if(Zt){var At=Zt[v.prop];At&&At.chng()}});if(Ge!==R){var a0=Ge&&D1(Se,v,Ge);!ht&&a0&&(Ge=B1(v,Ge,w,"Converting")),R=Ge,me=a0}v.add(z)}}s(Le,"_setProperty"),Co(E,z.n,{g:Se,s:Le})}s(t5,"_createDynamicProperty");function L1(v,E,w,R){if(E){var z=e5(E,w),ne=z&&!!z[v.prop];ne?E[w]=R:t5(v,E,w,R)}return E}s(L1,"_setDynamicProperty");function e4(v,E,w,R){if(E){var z=e5(E,w),ne=z&&!!z[v.prop],me=R&&R[0],Se=R&&R[1],Le=R&&R[2];if(!ne){if(Le)try{Vs(E)}catch(Ge){Af((v.hdlr||{})[Vr],w,"Blocking",Ge)}try{L1(v,E,w,E[w]),z=e5(E,w)}catch(Ge){Af((v.hdlr||{})[Vr],w,"State",Ge)}}me&&(z[v.rf]=me),Se&&(z[v.ro]=Se),Le&&(z[v.blkVal]=!0)}return E}s(e4,"_setDynamicPropertyState");function B1(v,E,w,R){try{W(E,function(z,ne){L1(v,E,z,ne)}),E[da]||(qi(E,da,{get:function(){return v[ci]}}),Z2(v,E,w))}catch(z){Af((v.hdlr||{})[Vr],w,R,z)}return E}s(B1,"_makeDynamicObject");var Pf="[[ai_",ha="]]";function Ev(v){var E,w=uf(Pf+"get"+v.uid+ha),R=uf(Pf+"ro"+v.uid+ha),z=uf(Pf+"rf"+v.uid+ha),ne=uf(Pf+"blkVal"+v.uid+ha),me=uf(Pf+"dtl"+v.uid+ha),Se=null,Le=null,Ge;function ht(At,_0){var zt=Ge.act;try{Ge.act=At,At&&At[me]&&(li(At[me],function(m0){m0.clr(At)}),At[me]=[]),_0({cfg:v.cfg,set:v.set.bind(v),setDf:v[M2].bind(v),ref:v.ref.bind(v),rdOnly:v[o1].bind(v)})}catch(m0){var M0=v[Vr];throw M0&&M0[a1](1,107,Y(m0)),m0}finally{Ge.act=zt||null}}s(ht,"_useHandler");function a0(){if(Se){var At=Se;Se=null,Le&&Le[xv](),Le=null;var _0=[];if(li(At,function(zt){if(zt&&(zt[me]&&(li(zt[me],function(M0){M0.clr(zt)}),zt[me]=null),zt.fn))try{ht(zt,zt.fn)}catch(M0){_0[qs](M0)}}),Se)try{a0()}catch(zt){_0[qs](zt)}_0[Xr]>0&&H2("Watcher error(s): ",_0)}}s(a0,"_notifyWatchers");function i0(At){if(At&&At.h[Xr]>0){Se||(Se=[]),Le||(Le=yv(function(){Le=null,a0()},0));for(var _0=0;_0<At.h[Xr];_0++){var zt=At.h[_0];zt&&ra(Se,zt)===-1&&Se[qs](zt)}}}s(i0,"_addWatcher");function Zt(At,_0){if(At){var zt=At[me]=At[me]||[];ra(zt,_0)===-1&&zt[qs](_0)}}return s(Zt,"_trackHandler"),Ge=(E={prop:w,ro:R,rf:z},E[s1]=ne,E[ci]=v,E.add=i0,E[F2]=a0,E.use=ht,E.trk=Zt,E),Ge}s(Ev,"_createState");function r5(v,E){var w={fn:E,rm:function(){w.fn=null,v=null,E=null}};return v.use(w,E),w}s(r5,"_createAndUseHandler");function k6(v,E,w){var R,z=If(E);if(z)return z;var ne=di("dyncfg",!0),me=E&&w!==!1?E:Zd(E),Se;function Le(){Se[F2]()}s(Le,"_notifyWatchers");function Ge(M0,m0,e0){try{M0=L1(Se,M0,m0,e0)}catch(Sr){Af(v,m0,"Setting value",Sr)}return M0[m0]}s(Ge,"_setValue");function ht(M0){return r5(Se,M0)}s(ht,"_watch");function a0(M0,m0){Se.use(null,function(e0){var Sr=Se.upd;try{Ae(m0)||(Se.upd=m0),M0(e0)}finally{Se.upd=Sr}})}s(a0,"_block");function i0(M0,m0){var e0;return e4(Se,M0,m0,(e0={},e0[0]=!0,e0))[m0]}s(i0,"_ref");function Zt(M0,m0){var e0;return e4(Se,M0,m0,(e0={},e0[1]=!0,e0))[m0]}s(Zt,"_rdOnly");function At(M0,m0){var e0;return e4(Se,M0,m0,(e0={},e0[2]=!0,e0))[m0]}s(At,"_blkPropValue");function _0(M0,m0){return m0&&W(m0,function(e0,Sr){ml(zt,M0,e0,Sr)}),M0}s(_0,"_applyDefaults");var zt=(R={uid:null,cfg:me},R[Vr]=v,R[F2]=Le,R.set=Ge,R[M2]=_0,R[U2]=ht,R.ref=i0,R[o1]=Zt,R[s1]=At,R._block=a0,R);return Co(zt,"uid",{c:!1,e:!1,w:!1,v:ne}),Se=Ev(zt),B1(Se,me,"config","Creating"),zt}s(k6,"_createDynamicHandler");function Sv(v,E){v?(v[sa](E),v[a1](2,108,E)):Q2(E)}s(Sv,"_logInvalidAccess");function D6(v,E,w,R){var z=k6(w,v||{},R);return E&&z[M2](z.cfg,E),z}s(D6,"createDynamicConfig");function n5(v,E,w){var R=v[da]||v;return R.cfg&&(R.cfg===v||R.cfg[da]===R)?R[U2](E):(Sv(w,fa+Y(v)),D6(v,null,w)[U2](E))}s(n5,"onConfigChange");var O1=null;function wv(){var v=lr("Microsoft");return v&&(O1=v.ApplicationInsights),O1}s(wv,"_getExtensionNamespace");function Iv(v){var E=O1;return!E&&v.disableDbgExt!==!0&&(E=O1||wv()),E?E.ChromeDbgExt:null}s(Iv,"getDebugExt");var Rf,L6="warnToConsole",B6="AI (Internal): ",t4="AI: ",Av="AITR_",r4={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Nf=(Rf={},Rf[0]=null,Rf[1]="errorToConsole",Rf[2]=L6,Rf[3]="debugToConsole",Rf);function O6(v){return v?'"'+v[mf](/\"/g,Nr)+'"':Nr}s(O6,"_sanitizeDiagnosticText");function Vi(v,E){var w=I6();if(w){var R="log";w[v]&&(R=v),ve(w[R])&&w[R](E)}}s(Vi,"_logToConsole");var L0=function(){function v(E,w,R,z){R===void 0&&(R=!1);var ne=this;ne[j2]=E,ne[f1]=(R?t4:B6)+E;var me=Nr;ul()&&(me=w1().stringify(z));var Se=(w?" message:"+O6(w):Nr)+(z?" props:"+O6(me):Nr);ne[f1]+=Se}return s(v,"_InternalLogMessage"),v.dataType="MessageData",v}();function gl(v,E){return(v||{})[Vr]||new Br(E)}s(gl,"safeGetLogger");var Br=function(){function v(E){this.identifier="DiagnosticLogger",this.queue=[];var w=0,R={},z,ne,me,Se,Le;W2(v,this,function(Ge){Le=a0(E||{}),Ge.consoleLoggingLevel=function(){return z},Ge[a1]=function(At,_0,zt,M0,m0){m0===void 0&&(m0=!1);var e0=new L0(_0,zt,m0,M0);if(Se)throw Y(e0);var Sr=Nf[At]||L6;if(Ae(e0[f1]))Zt("throw"+(At===1?"Critical":"Warning"),e0);else{if(m0){var Zf=+e0[j2];!R[Zf]&&z>=At&&(Ge[Sr](e0[f1]),R[Zf]=!0)}else z>=At&&Ge[Sr](e0[f1]);ht(At,e0)}},Ge.debugToConsole=function(At){Vi("debug",At),Zt("warning",At)},Ge[sa]=function(At){Vi("warn",At),Zt("warning",At)},Ge.errorToConsole=function(At){Vi("error",At),Zt("error",At)},Ge.resetInternalMessageCount=function(){w=0,R={}},Ge[v6]=ht,Ge[_v]=function(At){Le&&Le.rm(),Le=null};function ht(At,_0){if(!i0()){var zt=!0,M0=Av+_0[j2];if(R[M0]?zt=!1:R[M0]=!0,zt&&(At<=ne&&(Ge.queue[qs](_0),w++,Zt(At===1?"error":"warn",_0)),w===me)){var m0="Internal events throttle limit per PageView reached for this app.",e0=new L0(23,m0,!1);Ge.queue[qs](e0),At===1?Ge.errorToConsole(m0):Ge[sa](m0)}}}s(ht,"_logInternalMessage");function a0(At){return n5(D6(At,r4,Ge).cfg,function(_0){var zt=_0.cfg;z=zt[g6],ne=zt.loggingLevelTelemetry,me=zt.maxMessageLimit,Se=zt.enableDebug})}s(a0,"_setDefaultsFromConfig");function i0(){return w>=me}s(i0,"_areInternalMessagesThrottled");function Zt(At,_0){var zt=Iv(E||{});zt&&zt[p6]&&zt[p6](At,_0)}s(Zt,"_debugExtMsg")})}return s(v,"DiagnosticLogger"),v.__ieDyn=1,v}();function n4(v){return v||new Br}s(n4,"_getLogger");function $n(v,E,w,R,z,ne){ne===void 0&&(ne=!1),n4(v)[a1](E,w,R,z,ne)}s($n,"_throwInternal");function pl(){for(var v=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],E=Nr,w,R=0;R<4;R++)w=xs(),E+=v[w&15]+v[w>>4&15]+v[w>>8&15]+v[w>>12&15]+v[w>>16&15]+v[w>>20&15]+v[w>>24&15]+v[w>>28&15];var z=v[8+(xs()&3)|0];return W0(E,0,8)+W0(E,9,4)+"4"+W0(E,13,3)+z+W0(E,16,3)+W0(E,19,12)}s(pl,"generateW3CId");var kf=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,zi="00",Df="ff",yl="00000000000000000000000000000000",ma="0000000000000000",F1=1;function Hn(v,E,w){return v&&v[Xr]===E&&v!==w?!!v.match(/^[\da-f]*$/i):!1}s(Hn,"_isValid");function M1(v,E,w){return Hn(v,E)?v:w}s(M1,"_formatValue");function i5(v){(isNaN(v)||v<0||v>255)&&(v=1);for(var E=v.toString(16);E[Xr]<2;)E="0"+E;return E}s(i5,"_formatFlags");function i4(v,E,w,R){var z;return z={},z[l1]=Hn(R,2,Df)?R:zi,z[x6]=o4(v)?v:pl(),z[gf]=a4(E)?E:er(pl(),16),z.traceFlags=w>=0&&w<=255?w:1,z}s(i4,"createTraceParent");function s4(v,E){var w;if(!v||(Ee(v)&&(v=v[0]||""),!v||!ce(v)||v[Xr]>8192))return null;if(v.indexOf(",")!==-1){var R=v[$2](",");v=R[E>0&&R[Xr]>E?E:0]}var z=kf.exec(gs(v));return!z||z[1]===Df||z[2]===yl||z[3]===ma?null:(w={version:(z[1]||Nr)[hf](),traceId:(z[2]||Nr)[hf](),spanId:(z[3]||Nr)[hf]()},w[ol]=parseInt(z[4],16),w)}s(s4,"parseTraceParent");function o4(v){return Hn(v,32,yl)}s(o4,"isValidTraceId");function a4(v){return Hn(v,16,ma)}s(a4,"isValidSpanId");function F6(v){return!(!v||!Hn(v[l1],2,Df)||!Hn(v[x6],32,yl)||!Hn(v[gf],16,ma)||!Hn(i5(v[ol]),2))}s(F6,"isValidTraceParent");function l4(v){return F6(v)?(v[ol]&F1)===F1:!1}s(l4,"isSampledFlag");function f4(v){if(v){var E=i5(v[ol]);Hn(E,2)||(E="01");var w=v[l1]||zi;return w!=="00"&&w!=="ff"&&(w=zi),"".concat(w.toLowerCase(),"-").concat(M1(v.traceId,32,yl).toLowerCase(),"-").concat(M1(v.spanId,16,ma).toLowerCase(),"-").concat(E.toLowerCase())}return""}s(f4,"formatTraceParent");function _n(v){var E="traceparent",w=s4(Cf(E),v);return w||(w=s4(jn(E),v)),w}s(_n,"findW3cTraceParent");var U1="on",Vn="attachEvent",ga="addEventListener",M6="detachEvent",U6="removeEventListener",Lf="events";di("aiEvtPageHide"),di("aiEvtPageShow");var c4=/\.[\.]+/g,Pv=/[\.]+$/,q6=1,q1=N1("events"),Rv=/^([^.]*)(?:\.(.+)|)/;function j6(v){return v&&v[mf]?v[mf](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Nr):v}s(j6,"_normalizeNamespace");function u4(v,E){var w;if(E){var R=Nr;Ee(E)?(R=Nr,li(E,function(ne){ne=j6(ne),ne&&(ne[0]!=="."&&(ne="."+ne),R+=ne)})):R=j6(E),R&&(R[0]!=="."&&(R="."+R),v=(v||Nr)+R)}var z=Rv.exec(v||Nr)||[];return w={},w[wo]=z[1],w.ns=(z[2]||Nr).replace(c4,".").replace(Pv,Nr)[$2](".").sort().join("."),w}s(u4,"_getEvtNamespace");function d4(v,E,w){w===void 0&&(w=!0);var R=q1.get(v,Lf,{},w),z=R[E];return z||(z=R[E]=[]),z}s(d4,"_getRegisteredEvents");function $6(v,E,w,R){v&&E&&E[wo]&&(v[U6]?v[U6](E[wo],w,R):v[M6]&&v[M6](U1+E[wo],w))}s($6,"_doDetach");function Nv(v,E,w,R){var z=!1;return v&&E&&E[wo]&&w&&(v[ga]?(v[ga](E[wo],w,R),z=!0):v[Vn]&&(v[Vn](U1+E[wo],w),z=!0)),z}s(Nv,"_doAttach");function s5(v,E,w,R){for(var z=E[Xr];z--;){var ne=E[z];ne&&(!w.ns||w.ns===ne.evtName.ns)&&(!R||R(ne))&&($6(v,ne.evtName,ne[Bd],ne.capture),E[kd](z,1))}}s(s5,"_doUnregister");function h4(v,E,w){if(E[wo])s5(v,d4(v,E[wo]),E,w);else{var R=q1.get(v,Lf,{});W(R,function(z,ne){s5(v,ne,E,w)}),Lt(R)[Xr]===0&&q1.kill(v,Lf)}}s(h4,"_unregisterEvents");function H6(v,E){var w;return E?(Ee(E)?w=[v].concat(E):w=[v,E],w=u4("xx",w).ns[$2](".")):w=v,w}s(H6,"mergeEvtNamespace");function o5(v,E,w,R,z){var ne;z===void 0&&(z=!1);var me=!1;if(v)try{var Se=u4(E,R);if(me=Nv(v,Se,w,z),me&&q1.accept(v)){var Le=(ne={guid:q6++,evtName:Se},ne[Bd]=w,ne.capture=z,ne);d4(v,Se.type)[qs](Le)}}catch{}return me}s(o5,"eventOn");function m4(v,E,w,R,z){if(z===void 0&&(z=!1),v)try{var ne=u4(E,R),me=!1;h4(v,ne,function(Se){return ne.ns&&!w||Se[Bd]===w?(me=!0,!0):!1}),me||$6(v,ne,w,z)}catch{}}s(m4,"eventOff");var kv="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Bf="sampleRate",g4="ProcessLegacy",V6="http.method",p4="https://dc.services.visualstudio.com",a5="/v2/track",Pi="not_specified",zs="iKey",z6=vv({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Of="split",o0="length",Ff="toLowerCase",Ks="ingestionendpoint",vl="toString",j1="push",l5="removeItem",Ki="name",hi="message",xl="count",f5="preTriggerDate",c5="disabled",_l="interval",Mf="daysOfMonth",y4="date",v4="getUTCDate",$1="stringify",u5="pathname",K6="correlationHeaderExcludePatterns",H1="extensionConfig",Uf="exceptions",_s="parsedStack",bs="properties",ko="measurements",Wi="sizeInBytes",Ws="typeName",pa="severityLevel",d5="problemGroup",V1="isManual",h5="CreateFromInterface",Ri="assembly",ya="fileName",m5="hasFullStack",z1="level",qf="method",K1="line",jf="duration",x4="receivedResponse";function _4(v,E,w){var R=E[o0],z=$f(v,E);if(z[o0]!==R){for(var ne=0,me=z;w[me]!==void 0;)ne++,me=Wt(z,0,147)+W6(ne);z=me}return z}s(_4,"dataSanitizeKeyAndAddUniqueness");function $f(v,E){var w;return E&&(E=gs(J0(E)),E[o0]>150&&(w=Wt(E,0,150),$n(v,2,57,"name is too long.  It has been truncated to 150 characters.",{name:E},!0))),w||E}s($f,"dataSanitizeKey");function bn(v,E,w){w===void 0&&(w=1024);var R;return E&&(w=w||1024,E=gs(J0(E)),E[o0]>w&&(R=Wt(E,0,w),$n(v,2,61,"string value is too long. It has been truncated to "+w+" characters.",{value:E},!0))),R||E}s(bn,"dataSanitizeString");function bl(v,E){return Cl(v,E,2048,66)}s(bl,"dataSanitizeUrl");function b4(v,E){var w;return E&&E[o0]>32768&&(w=Wt(E,0,32768),$n(v,2,56,"message is too long, it has been truncated to 32768 characters.",{message:E},!0)),w||E}s(b4,"dataSanitizeMessage");function W1(v,E){var w;if(E){var R=""+E;R[o0]>32768&&(w=Wt(R,0,32768),$n(v,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:E},!0))}return w||E}s(W1,"dataSanitizeException");function Gs(v,E){if(E){var w={};W(E,function(R,z){if(le(z)&&ul())try{z=w1()[$1](z)}catch(ne){$n(v,2,49,"custom property is not valid",{exception:ne},!0)}z=bn(v,z,8192),R=_4(v,R,w),w[R]=z}),E=w}return E}s(Gs,"dataSanitizeProperties");function Cs(v,E){if(E){var w={};W(E,function(R,z){R=_4(v,R,w),w[R]=z}),E=w}return E}s(Cs,"dataSanitizeMeasurements");function Hf(v,E){return E&&Cl(v,E,128,69)[vl]()}s(Hf,"dataSanitizeId");function Cl(v,E,w,R){var z;return E&&(E=gs(J0(E)),E[o0]>w&&(z=Wt(E,0,w),$n(v,2,R,"input is too long, it has been truncated to "+w+" characters.",{data:E},!0))),z||E}s(Cl,"dataSanitizeInput");function W6(v){var E="00"+v;return W0(E,E[o0]-3)}s(W6,"dsPadNumber");var G6=ai()||{},Y6=0,Dv=[null,null,null,null,null];function Cn(v){var E=Y6,w=Dv,R=w[E];return G6.createElement?w[E]||(R=w[E]=G6.createElement("a")):R={host:J6(v,!0)},R.href=v,E++,E>=w[o0]&&(E=0),Y6=E,R}s(Cn,"urlParseUrl");function Vf(v){var E,w=Cn(v);return w&&(E=w.href),E}s(Vf,"urlGetAbsoluteUrl");function zf(v){var E,w=Cn(v);return w&&(E=w[u5]),E}s(zf,"urlGetPathName");function X6(v,E){return v?v.toUpperCase()+" "+E:E}s(X6,"urlGetCompleteUrl");function J6(v,E){var w=C4(v,E)||"";if(w){var R=w.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[o0]>3&&ce(R[2])&&R[2][o0]>0)return R[2]+(R[3]||"")}return w}s(J6,"urlParseHost");function C4(v,E){var w=null;if(v){var R=v.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[o0]>2&&ce(R[2])&&R[2][o0]>0&&(w=R[2]||"",E&&R[o0]>2)){var z=(R[1]||"")[Ff](),ne=R[3]||"";(z==="http"&&ne===":80"||z==="https"&&ne===":443")&&(ne=""),w+=ne}}return w}s(C4,"urlParseFullHost");var Lv=[p4+a5,"https://breeze.aimon.applicationinsights.io"+a5,"https://dc-int.services.visualstudio.com"+a5],G1="cid-v1:";function Ys(v){return ra(Lv,v[Ff]())!==-1}s(Ys,"isInternalApplicationInsightsEndpoint");function T4(v){G1=v}s(T4,"correlationIdSetPrefix");function g5(){return G1}s(g5,"correlationIdGetPrefix");function p5(v,E,w){if(!E||v&&v.disableCorrelationHeaders)return!1;if(v&&v[K6]){for(var R=0;R<v.correlationHeaderExcludePatterns[o0];R++)if(v[K6][R].test(E))return!1}var z=Cn(E).host[Ff]();if(z&&(n1(z,":443")!==-1||n1(z,":80")!==-1)&&(z=(C4(E,!0)||"")[Ff]()),(!v||!v.enableCorsCorrelation)&&z&&z!==w)return!1;var ne=v&&v.correlationHeaderDomains;if(ne){var me;if(li(ne,function(Ge){var ht=new RegExp(Ge.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));me=me||ht.test(z)}),!me)return!1}var Se=v&&v.correlationHeaderExcludedDomains;if(!Se||Se[o0]===0)return!0;for(var R=0;R<Se[o0];R++){var Le=new RegExp(Se[R].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Le.test(z))return!1}return z&&z[o0]>0}s(p5,"correlationIdCanIncludeCorrelationHeader");function Bv(v){if(v){var E=Q6(v,z6[1]);if(E&&E!==G1)return E}}s(Bv,"correlationIdGetCorrelationContext");function Q6(v,E){if(v)for(var w=v[Of](","),R=0;R<w[o0];++R){var z=w[R][Of]("=");if(z[o0]===2&&z[0]===E)return z[1]}}s(Q6,"correlationIdGetCorrelationContextValue");function Z6(v,E,w,R){var z,ne=R,me=R;if(E&&E[o0]>0){var Se=Cn(E);if(z=Se.host,!ne)if(Se[u5]!=null){var Le=Se.pathname[o0]===0?"/":Se[u5];Le.charAt(0)!=="/"&&(Le="/"+Le),me=Se[u5],ne=bn(v,w?w+" "+Le:Le)}else ne=bn(v,E)}else z=R,ne=R;return{target:z,name:ne,data:me}}s(Z6,"AjaxHelperParseDependencyPath");function Ov(){var v=Rd();if(v&&v.now&&v.timing){var E=v.now()+v.timing.navigationStart;if(E>0)return E}return na()}s(Ov,"dateTimeUtilsNow");function Kf(v,E){var w=null;return v!==0&&E!==0&&!be(v)&&!be(E)&&(w=E-v),w}s(Kf,"dateTimeUtilsDuration");function em(v,E){var w=v||{};return{getName:function(){return w[Ki]},setName:function(R){E&&E.setName(R),w[Ki]=R},getTraceId:function(){return w.traceID},setTraceId:function(R){E&&E.setTraceId(R),o4(R)&&(w.traceID=R)},getSpanId:function(){return w.parentID},setSpanId:function(R){E&&E.setSpanId(R),a4(R)&&(w.parentID=R)},getTraceFlags:function(){return w.traceFlags},setTraceFlags:function(R){E&&E.setTraceFlags(R),w.traceFlags=R}}}s(em,"createDistributedTraceContextFromTrace");var Y1=ps({LocalStorage:0,SessionStorage:1}),Fv=ps({AI:0,AI_AND_W3C:1,W3C:2}),Mv=ps({Normal:1,Critical:2}),va=void 0,xa=void 0,E4="";function X1(){return Gf()?Wf(Y1.LocalStorage):null}s(X1,"_getLocalStorageObject");function Wf(v){try{if(be(Un()))return null;var E=new Date()[vl](),w=lr(v===Y1.LocalStorage?"localStorage":"sessionStorage"),R=E4+E;w.setItem(R,E);var z=w.getItem(R)!==E;if(w[l5](R),!z)return w}catch{}return null}s(Wf,"_getVerifiedStorageObject");function J1(){return Q1()?Wf(Y1.SessionStorage):null}s(J1,"_getSessionStorageObject");function y5(){va=!1,xa=!1}s(y5,"utlDisableStorage");function tm(v){E4=v||""}s(tm,"utlSetStoragePrefix");function Ot(){va=Gf(!0),xa=Q1(!0)}s(Ot,"utlEnableStorage");function Gf(v){return(v||va===void 0)&&(va=!!Wf(Y1.LocalStorage)),va}s(Gf,"utlCanUseLocalStorage");function v5(v,E){var w=X1();if(w!==null)try{return w.getItem(E)}catch(R){va=!1,$n(v,2,1,"Browser failed read of local storage. "+x0(R),{exception:Y(R)})}return null}s(v5,"utlGetLocalStorage");function _a(v,E,w){var R=X1();if(R!==null)try{return R.setItem(E,w),!0}catch(z){va=!1,$n(v,2,3,"Browser failed write to local storage. "+x0(z),{exception:Y(z)})}return!1}s(_a,"utlSetLocalStorage");function rm(v,E){var w=X1();if(w!==null)try{return w[l5](E),!0}catch(R){va=!1,$n(v,2,5,"Browser failed removal of local storage item. "+x0(R),{exception:Y(R)})}return!1}s(rm,"utlRemoveStorage");function Q1(v){return(v||xa===void 0)&&(xa=!!Wf(Y1.SessionStorage)),xa}s(Q1,"utlCanUseSessionStorage");function S4(){var v=[];return Q1()&&W(lr("sessionStorage"),function(E){v[j1](E)}),v}s(S4,"utlGetSessionStorageKeys");function w4(v,E){var w=J1();if(w!==null)try{return w.getItem(E)}catch(R){xa=!1,$n(v,2,2,"Browser failed read of session storage. "+x0(R),{exception:Y(R)})}return null}s(w4,"utlGetSessionStorage");function nm(v,E,w){var R=J1();if(R!==null)try{return R.setItem(E,w),!0}catch(z){xa=!1,$n(v,2,4,"Browser failed write to session storage. "+x0(z),{exception:Y(z)})}return!1}s(nm,"utlSetSessionStorage");function I4(v,E){var w=J1();if(w!==null)try{return w[l5](E),!0}catch(R){xa=!1,$n(v,2,6,"Browser failed removal of session storage item. "+x0(R),{exception:Y(R)})}return!1}s(I4,"utlRemoveSessionStorage");var im="appInsightsThrottle",x5=function(){function v(E,w){var R=this,z,ne,me,Se,Le,Ge,ht,a0=!1,i0=!1;At(),R._getDbgPlgTargets=function(){return[ht]},R.getConfig=function(){return me},R.canThrottle=function(st){var kt=C5(st),l0=_0(st);return m0(l0,z,kt)},R.isTriggered=function(st){return pm(st)},R.isReady=function(){return a0},R.flush=function(st){try{var kt=z4(st);if(kt&&kt[o0]>0){var l0=kt.slice(0);return ht[st]=[],li(l0,function(hr){Zt(hr.msgID,hr[hi],hr.severity,!1)}),!0}}catch{}return!1},R.flushAll=function(){try{if(ht){var st=!0;return W(ht,function(kt){var l0=R.flush(parseInt(kt));st=st&&l0}),st}}catch{}return!1},R.onReadyState=function(st,kt){return kt===void 0&&(kt=!0),a0=be(st)?!0:st,a0&&kt?R.flushAll():null},R.sendMessage=function(st,kt,l0){return Zt(st,kt,l0,!0)};function Zt(st,kt,l0,hr){if(a0){var zr=gm(st);if(!zr)return;var Fr=_0(st),Mr=C5(st),wl=m0(Fr,z,Mr),Oo=!1,Fo=0,wa=pm(st);try{wl&&!wa?(Fo=Math.min(Fr.limit.maxSendNumber,Mr[xl]+1),Mr[xl]=0,Oo=!0,Le[st]=!0,Mr[f5]=new Date):(Le[st]=wl,Mr[xl]+=1);var ec=e0(st);mm(ne,ec,Mr);for(var tu=0;tu<Fo;tu++)V4(st,ne,kt,l0)}catch{}return{isThrottled:Oo,throttleNum:Fo}}else if(hr){var B0=z4(st);B0[j1]({msgID:st,message:kt,severity:l0})}return null}s(Zt,"_flushMessage");function At(){ne=gl(E),Le={},Se={},ht={},me={},zt(109),Ge=Wd(w)?w:"",E.addUnloadHook(n5(E.config,function(st){var kt=st.cfg;z=Gf();var l0=kt.throttleMgrCfg||{};W(l0,function(hr,zr){zt(parseInt(hr),zr)})}))}s(At,"_initConfig");function _0(st){return me[st]||me[109]}s(_0,"_getCfgByKey");function zt(st,kt){var l0,hr;try{var zr=kt||{},Fr={};Fr[c5]=!!zr[c5];var Mr=zr[_l]||{};i0=(Mr==null?void 0:Mr.daysOfMonth)&&(Mr==null?void 0:Mr.daysOfMonth[o0])>0,Fr[_l]=M0(Mr);var wl={samplingRate:((l0=zr.limit)===null||l0===void 0?void 0:l0.samplingRate)||100,maxSendNumber:((hr=zr.limit)===null||hr===void 0?void 0:hr.maxSendNumber)||1};Fr.limit=wl,me[st]=Fr}catch{}}s(zt,"_setCfgByKey");function M0(st){st=st||{};var kt=st==null?void 0:st.monthInterval,l0=st==null?void 0:st.dayInterval;return be(kt)&&be(l0)&&(st.monthInterval=3,i0||(st[Mf]=[28],i0=!0)),st={monthInterval:st==null?void 0:st.monthInterval,dayInterval:st==null?void 0:st.dayInterval,daysOfMonth:st==null?void 0:st.daysOfMonth},st}s(M0,"_getIntervalConfig");function m0(st,kt,l0){if(st&&!st[c5]&&kt&&Wd(l0)){var hr=Sa(),zr=l0[y4],Fr=st[_l],Mr=1;if(Fr!=null&&Fr.monthInterval){var wl=(hr.getUTCFullYear()-zr.getUTCFullYear())*12+hr.getUTCMonth()-zr.getUTCMonth();Mr=H4(Fr.monthInterval,0,wl)}var Oo=1;if(i0)Oo=ra(Fr[Mf],hr[v4]());else if(Fr!=null&&Fr.dayInterval){var Fo=Math.floor((hr.getTime()-zr.getTime())/864e5);Oo=H4(Fr.dayInterval,0,Fo)}return Mr>=0&&Oo>=0}return!1}s(m0,"_canThrottle");function e0(st,kt){var l0=Wd(kt)?kt:"";return st?im+l0+"-"+st:null}s(e0,"_getLocalStorageName");function Sr(st){try{if(st){var kt=new Date;return st.getUTCFullYear()===kt.getUTCFullYear()&&st.getUTCMonth()===kt.getUTCMonth()&&st[v4]()===kt[v4]()}}catch{}return!1}s(Sr,"_isTriggeredOnCurDate");function Zf(st,kt,l0){try{var hr={date:Sa(),count:0};if(st){var zr=JSON.parse(st),Fr={date:Sa(zr[y4])||hr[y4],count:zr[xl]||hr[xl],preTriggerDate:zr.preTriggerDate?Sa(zr[f5]):void 0};return Fr}else return mm(kt,l0,hr),hr}catch{}return null}s(Zf,"_getLocalStorageObj");function Sa(st){try{if(st){var kt=new Date(st);if(!isNaN(kt.getDate()))return kt}else return new Date}catch{}return null}s(Sa,"_getThrottleDate");function mm(st,kt,l0){try{return _a(st,kt,gs(JSON[$1](l0)))}catch{}return!1}s(mm,"_resetLocalStorage");function H4(st,kt,l0){return st<=0?1:l0>=kt&&(l0-kt)%st==0?Math.floor((l0-kt)/st)+1:-1}s(H4,"_checkInterval");function V4(st,kt,l0,hr){$n(kt,hr||1,st,l0)}s(V4,"_sendMessage");function gm(st){try{var kt=_0(st);return R6(1e6)<=kt.limit.samplingRate}catch{}return!1}s(gm,"_canSampledIn");function C5(st){try{var kt=Se[st];if(!kt){var l0=e0(st,Ge);kt=Zf(v5(ne,l0),ne,l0),Se[st]=kt}return Se[st]}catch{}return null}s(C5,"_getLocalStorageObjByKey");function pm(st){var kt=Le[st];if(be(kt)){kt=!1;var l0=C5(st);l0&&(kt=Sr(l0[f5])),Le[st]=kt}return Le[st]}s(pm,"_isTrigger");function z4(st){return ht=ht||{},be(ht[st])&&(ht[st]=[]),ht[st]}s(z4,"_getQueueByKey")}return s(v,"ThrottleMgr"),v}(),A4=";",sm="=";function Ts(v){if(!v)return{};var E=v[Of](A4),w=N2(E,function(z,ne){var me=ne[Of](sm);if(me[o0]===2){var Se=me[0][Ff](),Le=me[1];z[Se]=Le}return z},{});if(Lt(w)[o0]>0){if(w.endpointsuffix){var R=w.location?w.location+".":"";w[Ks]=w[Ks]||"https://"+R+"dc."+w.endpointsuffix}w[Ks]=w[Ks]||p4,pv(w[Ks],"/")&&(w[Ks]=w[Ks].slice(0,-1))}return w}s(Ts,"parseConnectionString");var om={parse:Ts},am=function(){function v(E,w,R){var z=this,ne=this;ne.ver=1,ne.sampleRate=100,ne.tags={},ne[Ki]=bn(E,R)||Pi,ne.data=w,ne.time=T1(new Date),ne.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return z.sampleRate===100?4:1},tags:1,data:1}}return s(v,"Envelope"),v}(),Uv=function(){function v(E,w,R,z){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var ne=this;ne.ver=2,ne[Ki]=bn(E,w)||Pi,ne[bs]=Gs(E,R),ne[ko]=Cs(E,z)}return s(v,"Event"),v.envelopeType="Microsoft.ApplicationInsights.{0}.Event",v.dataType="EventData",v}(),P4="<no_method>",Do="error",zn="stack",R4="stackDetails",N4="errorSrc",k4="message",D4="description";function _5(v,E){var w=v;return w&&!ce(w)&&(JSON&&JSON[$1]?(w=JSON[$1](v),E&&(!w||w==="{}")&&(ve(v[vl])?w=v[vl]():w=""+v)):w=""+v+" - (Missing JSON.stringify)"),w||""}s(_5,"_stringify");function L4(v,E){var w=v;return v&&(w&&!ce(w)&&(w=v[k4]||v[D4]||w),w&&!ce(w)&&(w=_5(w,!0)),v.filename&&(w=w+" @"+(v.filename||"")+":"+(v.lineno||"?")+":"+(v.colno||"?"))),E&&E!=="String"&&E!=="Object"&&E!=="Error"&&n1(w||"",E)===-1&&(w=E+": "+w),w||""}s(L4,"_formatMessage");function lm(v){try{if(le(v))return"hasFullStack"in v&&"typeName"in v}catch{}return!1}s(lm,"_isExceptionDetailsInternal");function qv(v){try{if(le(v))return"ver"in v&&"exceptions"in v&&"properties"in v}catch{}return!1}s(qv,"_isExceptionInternal");function B4(v){return v&&v.src&&ce(v.src)&&v.obj&&Ee(v.obj)}s(B4,"_isStackDetails");function Tl(v){var E=v||"";ce(E)||(ce(E[zn])?E=E[zn]:E=""+E);var w=E[Of](`
`);return{src:E,obj:w}}s(Tl,"_convertStackObj");function jv(v){for(var E=[],w=v[Of](`
`),R=0;R<w[o0];R++){var z=w[R];w[R+1]&&(z+="@"+w[R+1],R++),E[j1](z)}return{src:v,obj:E}}s(jv,"_getOperaStack");function Yf(v){var E=null;if(v)try{if(v[zn])E=Tl(v[zn]);else if(v[Do]&&v[Do][zn])E=Tl(v[Do][zn]);else if(v.exception&&v.exception[zn])E=Tl(v.exception[zn]);else if(B4(v))E=v;else if(B4(v[R4]))E=v[R4];else if(rr()&&rr().opera&&v[k4])E=jv(v[hi]);else if(v.reason&&v.reason[zn])E=Tl(v.reason[zn]);else if(ce(v))E=Tl(v);else{var w=v[k4]||v[D4]||"";ce(v[N4])&&(w&&(w+=`
`),w+=" from "+v[N4]),w&&(E=Tl(w))}}catch(R){E=Tl(R)}return E||{src:"",obj:null}}s(Yf,"_getStackFromErrorObj");function $v(v){var E="";return v&&(v.obj?li(v.obj,function(w){E+=w+`
`}):E=v.src||""),E}s($v,"_formatStackTrace");function Xf(v){var E,w=v.obj;if(w&&w[o0]>0){E=[];var R=0,z=0;li(w,function(At){var _0=At[vl]();if(O4.regex.test(_0)){var zt=new O4(_0,R++);z+=zt[Wi],E[j1](zt)}});var ne=32*1024;if(z>ne)for(var me=0,Se=E[o0]-1,Le=0,Ge=me,ht=Se;me<Se;){var a0=E[me][Wi],i0=E[Se][Wi];if(Le+=a0+i0,Le>ne){var Zt=ht-Ge+1;E.splice(Ge,Zt);break}Ge=me,ht=Se,me++,Se--}}return E}s(Xf,"_parseStack");function Jf(v){var E="";if(v&&(E=v.typeName||v[Ki]||"",!E))try{var w=/function (.{1,200})\(/,R=w.exec(v.constructor[vl]());E=R&&R[o0]>1?R[1]:""}catch{}return E}s(Jf,"_getErrorType");function El(v){if(v)try{if(!ce(v)){var E=Jf(v),w=_5(v,!1);return(!w||w==="{}")&&(v[Do]&&(v=v[Do],E=Jf(v)),w=_5(v,!0)),n1(w,E)!==0&&E!=="String"?E+":"+w:w}}catch{}return""+(v||"")}s(El,"_formatErrorCode");var Hv=function(){function v(E,w,R,z,ne,me){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var Se=this;Se.ver=2,qv(w)?(Se[Uf]=w[Uf]||[],Se[bs]=w[bs],Se[ko]=w[ko],w[pa]&&(Se[pa]=w[pa]),w.id&&(Se.id=w.id,w[bs].id=w.id),w[d5]&&(Se[d5]=w[d5]),be(w[V1])||(Se[V1]=w[V1])):(R||(R={}),me&&(R.id=me),Se[Uf]=[new Z1(E,w,R)],Se[bs]=Gs(E,R),Se[ko]=Cs(E,z),ne&&(Se[pa]=ne),me&&(Se.id=me))}return s(v,"Exception"),v.CreateAutoException=function(E,w,R,z,ne,me,Se,Le){var Ge,ht=Jf(ne||me||E);return Ge={},Ge[hi]=L4(E,ht),Ge.url=w,Ge.lineNumber=R,Ge.columnNumber=z,Ge.error=El(ne||me||E),Ge.evt=El(me||E),Ge[Ws]=ht,Ge.stackDetails=Yf(Se||ne||me),Ge.errorSrc=Le,Ge},v.CreateFromInterface=function(E,w,R,z){var ne=w[Uf]&&il(w[Uf],function(Se){return Z1[h5](E,Se)}),me=new v(E,al(al({},w),{exceptions:ne}),R,z);return me},v.prototype.toInterface=function(){var E,w=this,R=w.exceptions,z=w.properties,ne=w.measurements,me=w.severityLevel,Se=w.problemGroup,Le=w.id,Ge=w.isManual,ht=R instanceof Array&&il(R,function(a0){return a0.toInterface()})||void 0;return E={ver:"4.0"},E[Uf]=ht,E.severityLevel=me,E.properties=z,E.measurements=ne,E.problemGroup=Se,E.id=Le,E.isManual=Ge,E},v.CreateSimpleException=function(E,w,R,z,ne,me){var Se;return{exceptions:[(Se={},Se[m5]=!0,Se.message=E,Se.stack=ne,Se.typeName=w,Se)]}},v.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",v.dataType="ExceptionData",v.formatError=El,v}(),Z1=function(){function v(E,w,R){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var z=this;if(lm(w))z[Ws]=w[Ws],z[hi]=w[hi],z[zn]=w[zn],z[_s]=w[_s]||[],z[m5]=w[m5];else{var ne=w,me=ne&&ne.evt;mt(ne)||(ne=ne[Do]||me||ne),z[Ws]=bn(E,Jf(ne))||Pi,z[hi]=b4(E,L4(w||ne,z[Ws]))||Pi;var Se=w[R4]||Yf(w);z[_s]=Xf(Se),Ee(z[_s])&&il(z[_s],function(Le){Le[Ri]=bn(E,Le[Ri]),Le[ya]=bn(E,Le[ya])}),z[zn]=W1(E,$v(Se)),z.hasFullStack=Ee(z.parsedStack)&&z.parsedStack[o0]>0,R&&(R[Ws]=R[Ws]||z[Ws])}}return s(v,"_ExceptionDetails"),v.prototype.toInterface=function(){var E,w=this,R=w[_s]instanceof Array&&il(w[_s],function(ne){return ne.toInterface()}),z=(E={id:w.id,outerId:w.outerId,typeName:w[Ws],message:w[hi],hasFullStack:w[m5],stack:w[zn]},E[_s]=R||void 0,E);return z},v.CreateFromInterface=function(E,w){var R=w[_s]instanceof Array&&il(w[_s],function(ne){return O4[h5](ne)})||w[_s],z=new v(E,al(al({},w),{parsedStack:R}));return z},v}(),O4=function(){function v(E,w){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var R=this;if(R[Wi]=0,typeof E=="string"){var z=E;R[z1]=w,R[qf]=P4,R[Ri]=gs(z),R[ya]="",R[K1]=0;var ne=z.match(v.regex);ne&&ne[o0]>=5&&(R[qf]=gs(ne[2])||R[qf],R[ya]=gs(ne[4]),R[K1]=parseInt(ne[5])||0)}else R[z1]=E[z1],R[qf]=E[qf],R[Ri]=E[Ri],R[ya]=E[ya],R[K1]=E[K1],R[Wi]=0;R.sizeInBytes+=R.method[o0],R.sizeInBytes+=R.fileName[o0],R.sizeInBytes+=R.assembly[o0],R[Wi]+=v.baseSize,R.sizeInBytes+=R.level.toString()[o0],R.sizeInBytes+=R.line.toString()[o0]}return s(v,"_StackFrame"),v.CreateFromInterface=function(E){return new v(E,null)},v.prototype.toInterface=function(){var E=this;return{level:E[z1],method:E[qf],assembly:E[Ri],fileName:E[ya],line:E[K1]}},v.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,v.baseSize=58,v}(),F4=function(){function v(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(v,"DataPoint"),v}(),fm=function(){function v(E,w,R,z,ne,me,Se,Le,Ge){this.aiDataContract={ver:1,metrics:1,properties:0};var ht=this;ht.ver=2;var a0=new F4;a0[xl]=z>0?z:void 0,a0.max=isNaN(me)||me===null?void 0:me,a0.min=isNaN(ne)||ne===null?void 0:ne,a0[Ki]=bn(E,w)||Pi,a0.value=R,a0.stdDev=isNaN(Se)||Se===null?void 0:Se,ht.metrics=[a0],ht[bs]=Gs(E,Le),ht[ko]=Cs(E,Ge)}return s(v,"Metric"),v.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",v.dataType="MetricData",v}(),eu="";function Vv(v,E){return E===void 0&&(E=!1),v==null?E:v.toString()[Ff]()==="true"}s(Vv,"stringToBoolOrDefault");function M4(v){(isNaN(v)||v<0)&&(v=0),v=Math.round(v);var E=eu+v%1e3,w=eu+Math.floor(v/1e3)%60,R=eu+Math.floor(v/(1e3*60))%60,z=eu+Math.floor(v/(1e3*60*60))%24,ne=Math.floor(v/(1e3*60*60*24));return E=E[o0]===1?"00"+E:E[o0]===2?"0"+E:E,w=w[o0]<2?"0"+w:w,R=R[o0]<2?"0"+R:R,z=z[o0]<2?"0"+z:z,(ne>0?ne+".":eu)+z+":"+R+":"+w+"."+E}s(M4,"msToTimeSpan");function cm(v,E){var w=null;return li(v,function(R){if(R.identifier===E)return w=R,-1}),w}s(cm,"getExtensionByName");function zv(v,E,w,R,z){return!z&&ce(v)&&(v==="Script error."||v==="Script error")}s(zv,"isCrossOriginError");var Kv=function(){function v(E,w,R,z,ne,me,Se){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Le=this;Le.ver=2,Le.id=Hf(E,Se),Le.url=bl(E,R),Le[Ki]=bn(E,w)||Pi,isNaN(z)||(Le[jf]=M4(z)),Le[bs]=Gs(E,ne),Le[ko]=Cs(E,me)}return s(v,"PageView"),v.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",v.dataType="PageviewData",v}(),Wv=function(){function v(E,w,R,z,ne,me,Se,Le,Ge,ht,a0,i0){Ge===void 0&&(Ge="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Zt=this;Zt.ver=2,Zt.id=w,Zt[jf]=M4(ne),Zt.success=me,Zt.resultCode=Se+"",Zt.type=bn(E,Ge);var At=Z6(E,R,Le,z);Zt.data=bl(E,z)||At.data,Zt.target=bn(E,At.target),ht&&(Zt.target="".concat(Zt.target," | ").concat(ht)),Zt[Ki]=bn(E,At[Ki]),Zt[bs]=Gs(E,a0),Zt[ko]=Cs(E,i0)}return s(v,"RemoteDependencyData"),v.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",v.dataType="RemoteDependencyData",v}(),Sl=function(){function v(E,w,R,z,ne){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var me=this;me.ver=2,w=w||Pi,me[hi]=b4(E,w),me[bs]=Gs(E,z),me[ko]=Cs(E,ne),R&&(me[pa]=R)}return s(v,"Trace"),v.envelopeType="Microsoft.ApplicationInsights.{0}.Message",v.dataType="MessageData",v}(),um=function(){function v(E,w,R,z,ne,me,Se){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Le=this;Le.ver=2,Le.url=bl(E,R),Le[Ki]=bn(E,w)||Pi,Le[bs]=Gs(E,ne),Le[ko]=Cs(E,me),Se&&(Le.domProcessing=Se.domProcessing,Le[jf]=Se[jf],Le.networkConnect=Se.networkConnect,Le.perfTotal=Se.perfTotal,Le[x4]=Se[x4],Le.sentRequest=Se.sentRequest)}return s(v,"PageViewPerformance"),v.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",v.dataType="PageviewPerformanceData",v}(),U4=function(){function v(E,w){this.aiDataContract={baseType:1,baseData:1},this.baseType=E,this.baseData=w}return s(v,"Data"),v}(),Gv=ps({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Yv=function(){function v(){}return s(v,"ConfigurationManager"),v.getConfig=function(E,w,R,z){z===void 0&&(z=!1);var ne;return R&&E[H1]&&E[H1][R]&&!be(E[H1][R][w])?ne=E[H1][R][w]:ne=E[w],be(ne)?z:ne},v}();function Lo(v){var E="ai."+v+".";return function(w){return E+w}}s(Lo,"_aiNameFunc");var Qf=Lo("application"),Or=Lo("device"),b5=Lo("location"),ba=Lo("operation"),Ca=Lo("session"),Es=Lo("user"),Bo=Lo("cloud"),Ss=Lo("internal"),dm=function(v){V2(E,v);function E(){return v.call(this)||this}return s(E,"ContextTagKeys"),E}(Gd({applicationVersion:Qf("ver"),applicationBuild:Qf("build"),applicationTypeId:Qf("typeId"),applicationId:Qf("applicationId"),applicationLayer:Qf("layer"),deviceId:Or("id"),deviceIp:Or("ip"),deviceLanguage:Or("language"),deviceLocale:Or("locale"),deviceModel:Or("model"),deviceFriendlyName:Or("friendlyName"),deviceNetwork:Or("network"),deviceNetworkName:Or("networkName"),deviceOEMName:Or("oemName"),deviceOS:Or("os"),deviceOSVersion:Or("osVersion"),deviceRoleInstance:Or("roleInstance"),deviceRoleName:Or("roleName"),deviceScreenResolution:Or("screenResolution"),deviceType:Or("type"),deviceMachineName:Or("machineName"),deviceVMName:Or("vmName"),deviceBrowser:Or("browser"),deviceBrowserVersion:Or("browserVersion"),locationIp:b5("ip"),locationCountry:b5("country"),locationProvince:b5("province"),locationCity:b5("city"),operationId:ba("id"),operationName:ba("name"),operationParentId:ba("parentId"),operationRootId:ba("rootId"),operationSyntheticSource:ba("syntheticSource"),operationCorrelationVector:ba("correlationVector"),sessionId:Ca("id"),sessionIsFirst:Ca("isFirst"),sessionIsNew:Ca("isNew"),userAccountAcquisitionDate:Es("accountAcquisitionDate"),userAccountId:Es("accountId"),userAgent:Es("userAgent"),userId:Es("id"),userStoreRegion:Es("storeRegion"),userAuthUserId:Es("authUserId"),userAnonymousUserAcquisitionDate:Es("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Es("authUserAcquisitionDate"),cloudName:Bo("name"),cloudRole:Bo("role"),cloudRoleVer:Bo("roleVer"),cloudRoleInstance:Bo("roleInstance"),cloudEnvironment:Bo("environment"),cloudLocation:Bo("location"),cloudDeploymentUnit:Bo("deploymentUnit"),internalNodeName:Ss("nodeName"),internalSdkVersion:Ss("sdkVersion"),internalAgentVersion:Ss("agentVersion"),internalSnippet:Ss("snippet"),internalSdkSrc:Ss("sdkSrc")}));function q4(v,E,w,R,z,ne){var me;w=bn(R,w)||Pi,(be(v)||be(E)||be(w))&&he("Input doesn't contain all required fields");var Se="";v[zs]&&(Se=v[zs],delete v[zs]);var Le=(me={},me[Ki]=w,me.time=T1(new Date),me.iKey=Se,me.ext=ne||{},me.tags=[],me.data={},me.baseType=E,me.baseData=v,me);return be(z)||W(z,function(Ge,ht){Le.data[Ge]=ht}),Le}s(q4,"createTelemetryItem");var hm=function(){function v(){}return s(v,"TelemetryItemCreator"),v.create=q4,v}(),j4={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Ta=new dm;function Xv(v){var E=null;if(ve(Event))E=new Event(v);else{var w=ai();w&&w.createEvent&&(E=w.createEvent("Event"),E.initEvent(v,!0,!0))}return E}s(Xv,"createDomEvent");function $4(v,E){m4(v,null,null,E)}s($4,"_disableEvents");function Jv(v){var E=ai(),w=qn(),R=!1,z=[],ne=1;w&&!be(w.onLine)&&!w.onLine&&(ne=2);var me=0,Se=i0(),Le=H6(di("OfflineListener"),v);try{if(ht(rr())&&(R=!0),E){var Ge=E.body||E;Ge.ononline&&ht(Ge)&&(R=!0)}}catch{R=!1}function ht(e0){var Sr=!1;return e0&&(Sr=o5(e0,"online",_0,Le),Sr&&o5(e0,"offline",zt,Le)),Sr}s(ht,"_enableEvents");function a0(){return Se}s(a0,"_isOnline");function i0(){return!(me===2||ne===2)}s(i0,"calCurrentState");function Zt(){var e0=i0();Se!==e0&&(Se=e0,li(z,function(Sr){var Zf={isOnline:Se,rState:ne,uState:me};try{Sr(Zf)}catch{}}))}s(Zt,"listnerNoticeCheck");function At(e0){me=e0,Zt()}s(At,"setOnlineState");function _0(){ne=1,Zt()}s(_0,"_setOnline");function zt(){ne=2,Zt()}s(zt,"_setOffline");function M0(){var e0=rr();if(e0&&R){if($4(e0,Le),E){var Sr=E.body||E;Ae(Sr.ononline)||$4(Sr,Le)}R=!1}}s(M0,"_unload");function m0(e0){return z[j1](e0),{rm:function(){var Sr=z.indexOf(e0);if(Sr>-1)return z.splice(Sr,1)}}}return s(m0,"addListener"),{isOnline:a0,isListening:function(){return R},unload:M0,addListener:m0,setOnlineState:At}}s(Jv,"createOfflineListener");var Qv="AppInsightsPropertiesPlugin",Zv="AppInsightsChannelPlugin",Ea="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=Ea,e.BreezeChannelIdentifier=Zv,e.ConfigurationManager=Yv,e.ConnectionStringParser=om,e.ContextTagKeys=dm,e.CtxTagKeys=Ta,e.DEFAULT_BREEZE_ENDPOINT=p4,e.DEFAULT_BREEZE_PATH=a5,e.Data=U4,e.DisabledPropertyName=kv,e.DistributedTracingModes=Fv,e.Envelope=am,e.Event=Uv,e.EventPersistence=Mv,e.Exception=Hv,e.Extensions=j4,e.HttpMethod=V6,e.Metric=fm,e.PageView=Kv,e.PageViewPerformance=um,e.ProcessLegacy=g4,e.PropertiesPluginIdentifier=Qv,e.RemoteDependencyData=Wv,e.RequestHeaders=z6,e.SampleRate=Bf,e.SeverityLevel=Gv,e.TelemetryItemCreator=hm,e.ThrottleMgr=x5,e.Trace=Sl,e.correlationIdCanIncludeCorrelationHeader=p5,e.correlationIdGetCorrelationContext=Bv,e.correlationIdGetCorrelationContextValue=Q6,e.correlationIdGetPrefix=g5,e.correlationIdSetPrefix=T4,e.createDistributedTraceContextFromTrace=em,e.createDomEvent=Xv,e.createOfflineListener=Jv,e.createTelemetryItem=q4,e.createTraceParent=i4,e.dataSanitizeException=W1,e.dataSanitizeId=Hf,e.dataSanitizeInput=Cl,e.dataSanitizeKey=$f,e.dataSanitizeKeyAndAddUniqueness=_4,e.dataSanitizeMeasurements=Cs,e.dataSanitizeMessage=b4,e.dataSanitizeProperties=Gs,e.dataSanitizeString=bn,e.dataSanitizeUrl=bl,e.dateTimeUtilsDuration=Kf,e.dateTimeUtilsNow=Ov,e.dsPadNumber=W6,e.findW3cTraceParent=_n,e.formatTraceParent=f4,e.getExtensionByName=cm,e.isBeaconApiSupported=A6,e.isCrossOriginError=zv,e.isInternalApplicationInsightsEndpoint=Ys,e.isSampledFlag=l4,e.isValidSpanId=a4,e.isValidTraceId=o4,e.isValidTraceParent=F6,e.msToTimeSpan=M4,e.parseConnectionString=Ts,e.parseTraceParent=s4,e.strNotSpecified=Pi,e.stringToBoolOrDefault=Vv,e.urlGetAbsoluteUrl=Vf,e.urlGetCompleteUrl=X6,e.urlGetPathName=zf,e.urlParseFullHost=C4,e.urlParseHost=J6,e.urlParseUrl=Cn,e.utlCanUseLocalStorage=Gf,e.utlCanUseSessionStorage=Q1,e.utlDisableStorage=y5,e.utlEnableStorage=Ot,e.utlGetLocalStorage=v5,e.utlGetSessionStorage=w4,e.utlGetSessionStorageKeys=S4,e.utlRemoveSessionStorage=I4,e.utlRemoveStorage=rm,e.utlSetLocalStorage=_a,e.utlSetSessionStorage=nm,e.utlSetStoragePrefix=tm})});var rj=ae((dp,tj)=>{(function(e,t){typeof dp=="object"&&typeof tj<"u"?t(dp):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(dp,function(e){"use strict";var t=void 0,r=null,n="",i="boolean",o="function",a="number",l="object",f="prototype",c="__proto__",u="string",d="undefined",p="constructor",g="Symbol",y="_polyfill",_="indexOf",S="length",T="done",I="value",P="name",M="slice",N="call",L="toString",X=Object,te=X[f],Ce=String,De=Ce[f],pe=Math,Ie=Array,ie=Ie[f];function Z(h,m){try{return{v:h.apply(this,m)}}catch(x){return{e:x}}}s(Z,"safe");function _e(h,m){var x=Z(h);return x.e?m:x.v}s(_e,"safeGet");var Ae=[u,a,i,d,"symbol","bigint"];function be(h){return function(m){return typeof m===h}}s(be,"_createIs");function Ke(h){var m="[object "+h+"]";return function(x){return!!(x&&ce(x)===m)}}s(Ke,"_createObjIs");function ce(h){return te.toString.call(h)}s(ce,"objToString");function ve(h){return typeof h===d||h===d}s(ve,"isUndefined");function le(h){return h===r||ve(h)}s(le,"isNullOrUndefined");function Ee(h){return h===r||!mt(h)}s(Ee,"isStrictNullOrUndefined");function mt(h){return!!h||h!==t}s(mt,"isDefined");function Et(h){return h!==l&&Ae.indexOf(h)!==-1}s(Et,"isPrimitiveType");var dt=be(u),ze=be(o);function n0(h){return!h&&le(h)?!1:!!h&&typeof h===l}s(n0,"isObject");var W=Ie.isArray,Je=Ke("Date"),he=be(a),Xe=be(i),Ve=Ke("Error");function nt(h){return!!(h&&h.then&&ze(h.then))}s(nt,"isPromiseLike");function wt(h){return!(!h||_e(function(){return!(h&&0+h)},!h))}s(wt,"isTruthy");var Mt=X.getOwnPropertyDescriptor;function Lt(h,m){return!!h&&te.hasOwnProperty[N](h,m)}s(Lt,"objHasOwnProperty");var H=X.hasOwn||$t;function $t(h,m){return Lt(h,m)||!!Mt(h,m)}s($t,"polyObjHasOwn");function vt(h,m,x){if(h&&n0(h)){for(var b in h)if(H(h,b)&&m[N](x||h,b,h[b])===-1)break}}s(vt,"objForEachKey");function sr(h,m,x,b){var A={};return vt(h,function(D,F){A[D]=m?F:D,A[F]=x?F:D}),b(A)}s(sr,"_createKeyValueMap");function X0(h){throw new Error(h)}s(X0,"throwError");function pr(h){throw new TypeError(h)}s(pr,"throwTypeError");var J0=X.freeze;function Gr(h){return h}s(Gr,"_doNothing");function un(h){return h[c]||r}s(un,"_getProto");var Fn=X.assign,dn=X.keys;function Xt(h){return J0&&vt(h,function(m,x){(W(x)||n0(x))&&J0(x)}),Y(h)}s(Xt,"objDeepFreeze");var Y=J0||Gr,k=X.getPrototypeOf||un;function B(h){return sr(h,1,0,Xt)}s(B,"createEnum");function Ye(h){return sr(h,0,0,Xt)}s(Ye,"createEnumKeyMap");function Vt(h){var m={};return vt(h,function(x,b){m[x]=b[1],m[b[0]]=b[1]}),Xt(m)}s(Vt,"createSimpleMap");function S0(h){return Vt(h)}s(S0,"createTypeMap");var A0=Ye({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Wt=Ce,W0="__tsUtils$gblCfg",u0;function er(){var h;return typeof globalThis!==d&&(h=globalThis),!h&&typeof self!==d&&(h=self),!h&&typeof window!==d&&(h=window),!h&&typeof global!==d&&(h=global),h}s(er,"_getGlobalValue");function w0(){if(!u0){var h=Z(er).v||{};u0=h[W0]=h[W0]||{}}return u0}s(w0,"_getGlobalConfig");var Q0="[object Error]";function Nt(h,m){var x=n,b=te[L][N](h);b===Q0&&(h={stack:Wt(h.stack),message:Wt(h.message),name:Wt(h.name)});try{x=JSON.stringify(h,r,m?typeof m===a?m:4:t),x=x&&x.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||Wt(h)}catch(A){x=" - "+Nt(A,m)}return b+": "+x}s(Nt,"dumpObj");var hs,tl=Ms,Mn=Ms;function Ms(h,m,x){hs=hs||ie[M];var b=m&&m[h];return function(A){var D=A&&A[h]||b;if(D||x){var F=arguments;return(D||x).apply(A,D?hs[N](F,1):F)}pr('"'+Wt(h)+'" not defined for '+Nt(A))}}s(Ms,"_unwrapFunctionWithPoly");function qi(h){return function(m){return m[h]}}s(qi,"_unwrapProp");var Co=pe.max,ye=Mn(M,De),U=Mn("substring",De),se=Ms("substr",De,fe);function fe(h,m,x){return le(h)&&pr("'polyStrSubstr called with invalid "+Nt(h)),x<0?n:(m=m||0,m<0&&(m=Co(m+h[S],0)),ve(x)?ye(h,m):ye(h,m,m+x))}s(fe,"polyStrSubstr");function K(h,m){return U(h,0,m)}s(K,"strLeft");var O="_urid",Te;function $e(){if(!Te){var h=w0();Te=h.gblSym=h.gblSym||{k:{},s:{}}}return Te}s($e,"_globalSymbolRegistry");var Ht;function or(h){var m={description:Wt(h),toString:function(){return g+"("+h+")"}};return m[y]=!0,m}s(or,"polyNewSymbol");function tr(h){var m=$e();if(!H(m.k,h)){var x=or(h),b=dn(m.s).length;x[O]=function(){return b+"_"+x[L]()},m.k[h]=x,m.s[x[O]()]=Wt(h)}return m.k[h]}s(tr,"polySymbolFor");function Un(h){!Ht&&(Ht={});var m,x=A0[h];return x&&(m=Ht[x]=Ht[x]||or(g+"."+x)),m}s(Un,"polyGetKnownSymbol");var lr={e:"enumerable",c:"configurable",v:I,w:"writable",g:"get",s:"set"};function ai(h){var m={};if(m[lr.c]=!0,m[lr.e]=!0,h.l){m.get=function(){return h.l.v};var x=Mt(h.l,"v");x&&x.set&&(m.set=function(b){h.l.v=b})}return vt(h,function(b,A){m[lr[b]]=ve(A)?m[lr[b]]:A}),m}s(ai,"_createProp");var s0=X.defineProperty;function rr(h,m,x){return s0(h,m,ai(x))}s(rr,"objDefine");var dr;function qn(){dr=w0()}s(qn,"_initTestHooks");function Ai(h){var m={};return!dr&&qn(),m.b=dr.lzy,s0(m,"v",{configurable:!0,get:function(){var x=h();return dr.lzy||s0(m,"v",{value:x}),m.b=dr.lzy,x}}),m}s(Ai,"getLazy");function Pd(h,m){return Ai(function(){var x=Z(h);return x.e?m:x.v})}s(Pd,"safeGetLazy");function rl(h){return s0({toJSON:function(){return h}},"v",{value:h})}s(rl,"createCachedValue");var uf="window",nl,To,li,ra,il;function N2(h){return Ai(function(){return Z(Yr,[h]).v||t})}s(N2,"lazySafeGetInst");function ms(h){return!dr&&qn(),(!nl||h===!1||dr.lzy)&&(nl=rl(Z(er).v||r)),nl.v}s(ms,"getGlobal");function Yr(h,m){var x=!nl||m===!1?ms(m):nl.v;return x&&x[h]?x[h]:h===uf&&To?To.v:r}s(Yr,"getInst");function k2(){return!!sl()}s(k2,"hasDocument");function sl(){return!dr&&qn(),(!li||dr.lzy)&&(li=rl(Z(Yr,["document"]).v)),li.v}s(sl,"getDocument");function hv(){return!!Eo()}s(hv,"hasWindow");function Eo(){return!dr&&qn(),(!To||dr.lzy)&&(To=rl(Z(Yr,[uf]).v)),To.v}s(Eo,"getWindow");function mv(){return!!na()}s(mv,"hasNavigator");function na(){return!dr&&qn(),(!ra||dr.lzy)&&(ra=rl(Z(Yr,["navigator"]).v)),ra.v}s(na,"getNavigator");function gv(){return!il&&(il=rl(!!Z(function(){return process&&(process.versions||{}).node}).v)),il.v}s(gv,"isNode");var fi,D2;function gs(){(!fi||!fi.b)&&(fi=N2(g),D2=Pd(function(){return fi.v?fi.v.for:t},t))}s(gs,"_initSymbol");function L2(){return!!B2()}s(L2,"hasSymbol");function B2(){return!dr&&qn(),(!fi||dr.lzy)&&gs(),fi.v}s(B2,"getSymbol");function r1(h,m){var x=A0[h];return!dr&&qn(),(!fi||dr.lzy)&&gs(),fi.v?fi.v[x||h]:m?t:Un(h)}s(r1,"getKnownSymbol");function Us(h,m){return!dr&&qn(),(!fi||dr.lzy)&&gs(),fi.v?fi.v(h):m?r:or(h)}s(Us,"newSymbol");function df(h){return!dr&&qn(),(!D2||!fi||dr.lzy)&&gs(),(D2.v||tr)(h)}s(df,"symbolFor");function Rd(h){return!!h&&ze(h.next)}s(Rd,"isIterator");function pv(h){return!Ee(h)&&ze(h[r1(3)])}s(pv,"isIterable");var Nd;function n1(h,m,x){if(h&&(Rd(h)||(!Nd&&(Nd=rl(r1(3))),h=h[Nd.v]?h[Nd.v]():null),Rd(h))){var b=void 0,A=void 0;try{for(var D=0;!(A=h.next())[T]&&m[N](x||h,A[I],D,h)!==-1;)D++}catch(F){b={e:F},h.throw&&(A=null,h.throw(b))}finally{try{A&&!A[T]&&h.return&&h.return(A)}finally{if(b)throw b.e}}}}s(n1,"iterForOf");var So=tl("apply");function ia(h,m){return!ve(m)&&h&&(W(m)?So(h.push,h,m):Rd(m)||pv(m)?n1(m,function(x){h.push(x)}):h.push(m)),h}s(ia,"arrAppend");function Jt(h,m,x){if(h)for(var b=h[S]>>>0,A=0;A<b&&!(A in h&&m[N](x||h,h[A],A,h)===-1);A++);}s(Jt,"arrForEach");var ji=Mn(_,ie),i1=Mn("map",ie),O2=Mn(M,ie),yv=Mn("reduce",ie),ps=X.create||vv;function vv(h){if(!h)return{};var m=typeof h;m!==l&&m!==o&&pr("Prototype must be an Object or function: "+Nt(h));function x(){}return s(x,"tempFunc"),x[f]=h,new x}s(vv,"polyObjCreate");var hf;function s1(h,m){var x=X.setPrototypeOf||function(b,A){!hf&&(hf=Ai(function(){var D;return D={},D[c]=[],D instanceof Array})),hf.v?b[c]=A:vt(A,function(D,F){return b[D]=F})};return x(h,m)}s(s1,"objSetPrototypeOf");function Xr(h,m,x){Z(rr,[m,P,{v:h,c:!0,e:!1}]),m=s1(m,x);function b(){this.constructor=m,Z(rr,[this,P,{v:h,c:!0,e:!1}])}return s(b,"__"),m[f]=x===r?ps(x):(b[f]=x[f],new b),m}s(Xr,"_createCustomError");function o1(h,m){m&&(h[P]=m)}s(o1,"_setName");function F2(h,m,x){var b=x||Error,A=b[f][P],D=Error.captureStackTrace;return Xr(h,function(){var F=this,V=arguments;try{Z(o1,[b,h]);var G=So(b,F,ie[M][N](V))||F;if(G!==F){var Q=k(F);Q!==k(G)&&s1(G,Q)}return D&&D(G,F[p]),m&&m(G,V),G}finally{Z(o1,[b,A])}},b)}s(F2,"createCustomError");function sa(){return(Date.now||a1)()}s(sa,"utcNow");function a1(){return new Date().getTime()}s(a1,"polyUtcNow");function M2(h){return s(function(x){return le(x)&&pr("strTrim called ["+Nt(x)+"]"),x&&x.replace&&(x=x.replace(h,n)),x},"_doTrim")}s(M2,"_createTrimFn");var U2=M2(/^\s+|(?=\s)\s+$/g),Vr=Ms("trim",De,U2),q2,qs,kd;function ci(h){if(!h||typeof h!==l)return!1;kd||(kd=hv()?Eo():!0);var m=!1;if(h!==kd){qs||(q2=Function[f][L],qs=q2[N](X));try{var x=k(h);m=!x,m||(Lt(x,p)&&(x=x[p]),m=x&&typeof x===o&&q2[N](x)===qs)}catch{}}return m}s(ci,"isPlainObject");var xv=s(function(h){return h.value&&Ld(h),!0},"_defaultDeepCopyHandler"),Dd=[p6,Ld,$2,y6];function _v(h,m,x,b){var A;return Jt(h,function(D){if(D.k===m)return A=D,-1}),A||(A={k:m,v:m},h.push(A),b(A)),A.v}s(_v,"_getSetVisited");function l1(h,m,x,b){var A=x.handler,D=x.path?b?x.path.concat(b):x.path:[],F={handler:x.handler,src:x.src,path:D},V=typeof m,G=!1,Q=!1;m&&V===l?G=ci(m):Q=m===r||Et(V);var ue={type:V,isPrim:Q,isPlain:G,value:m,result:m,path:D,origin:x.src,copy:function(Ne,Fe){return l1(h,Ne,Fe?F:x,Fe)},copyTo:function(Ne,Fe){return g6(h,Ne,Fe,F)}};return ue.isPrim?A&&A[N](x,ue)?ue.result:m:_v(h,m,D,function(Ne){rr(ue,"result",{g:function(){return Ne.v},s:function(we){Ne.v=we}});for(var Fe=0,ke=A;!(ke||(Fe<Dd.length?Dd[Fe++]:xv))[N](x,ue);)ke=r})}s(l1,"_deepCopy");function g6(h,m,x,b){if(!le(x))for(var A in x)m[A]=l1(h,x[A],b,A);return m}s(g6,"_copyProps");function j2(h,m,x){var b={handler:x,src:m,path:[]};return g6([],h,m,b)}s(j2,"objCopyProps");function f1(h,m){var x={handler:m,src:h};return l1([],h,x)}s(f1,"objDeepCopy");function p6(h){var m=h.value;if(W(m)){var x=h.result=[];return x.length=m.length,h.copyTo(x,m),!0}return!1}s(p6,"arrayDeepCopyHandler");function y6(h){var m=h.value;return Je(m)?(h.result=new Date(m.getTime()),!0):!1}s(y6,"dateDeepCopyHandler");function $2(h){return h.type===o}s($2,"functionDeepCopyHandler");function Ld(h){var m=h.value;if(m&&h.isPlain){var x=h.result={};return h.copyTo(x,m),!0}return!1}s(Ld,"plainObjDeepCopyHandler");function mf(h,m){return Jt(m,function(x){j2(h,x)}),h}s(mf,"_doExtend");function v6(h,m,x,b,A,D,F){return mf(f1(h)||{},ie[M][N](arguments))}s(v6,"deepExtend");var wo=qi(S),Bd=Ms("endsWith",De,x6);function x6(h,m,x){dt(h)||pr("'"+Nt(h)+"' is not a string");var b=dt(m)?m:Wt(m),A=!ve(x)&&x<h[S]?x:h[S];return U(h,A-b[S],A)===b}s(x6,"polyStrEndsWith");var gf=Mn(_,De),ol="ref",c1="un"+ol,H2="hasRef",_6="enabled";function bv(h,m,x){var b,A=!0,D=h?m(r):r,F,V=s(function(){return A=!1,D&&D[c1]&&D[c1](),F},"_unref"),G=s(function(){return A=!0,D&&D[ol]&&D[ol](),F},"_ref"),Q=s(function(){return D&&D[H2]?D[H2]():A},"_hasRef"),ue=s(function(){return D=m(D),A||V(),F},"_refresh"),Ne=s(function(){D&&x(D),D=r},"_cancel"),Fe=s(function(ke){!ke&&D&&Ne(),ke&&!D&&ue()},"_setEnabled");return F=(b={cancel:Ne,refresh:ue},b[H2]=Q,b[ol]=G,b[c1]=V,b[_6]=!1,b),s0(F,_6,{get:function(){return!!D},set:Fe}),{h:F,dn:function(){D=r}}}s(bv,"_createTimerHandler");function b6(h,m,x,b){var A=W(x),D=A?x.length:0,F=(D>0?x[0]:A?t:x)||setTimeout,V=(D>1?x[1]:t)||clearTimeout,G=b[0];b[0]=function(){Q.dn(),So(G,h,ie[M][N](arguments))};var Q=bv(m,function(ue){if(ue){if(ue.refresh)return ue.refresh(),ue;So(V,h,[ue])}return So(F,h,b)},function(ue){So(V,h,[ue])});return Q.h}s(b6,"_createTimeoutWith");function js(h,m){return b6(this,!0,t,ie[M][N](arguments))}s(js,"scheduleTimeout");function C6(h,m){return b6(this,!1,t,ie[M][N](arguments))}s(C6,"createTimeout");var Od,u1="constructor",Io="prototype",al="function",pf="_dynInstFuncs",V2="_isDynProxy",Ao="_dynClass",Fd="_dynCls$",ys="_dynInstChk",oa=ys,d1="_dfOpts",Md="_unknown_",aa="__proto__",Ud="_dyn"+aa,qd="__dynProto$Gbl",ll="_dynInstProto",h1="useBaseInst",jd="setInstFuncs",m1=Object,la=m1.getPrototypeOf,z2=m1.getOwnPropertyNames,$d=ms(),yf=$d[qd]||($d[qd]={o:(Od={},Od[jd]=!0,Od[h1]=!0,Od),n:1e3});function vf(h){return h&&(h===m1[Io]||h===Array[Io])}s(vf,"_isObjectOrArrayPrototype");function g1(h){return vf(h)||h===Function[Io]}s(g1,"_isObjectArrayOrFunctionPrototype");function vs(h){var m;if(h){if(la)return la(h);var x=h[aa]||h[Io]||(h[u1]?h[u1][Io]:null);m=h[Ud]||x,Lt(h,Ud)||(delete h[ll],m=h[Ud]=h[ll]||h[Ud],h[ll]=x)}return m}s(vs,"_getObjProto");function p1(h,m){var x=[];if(z2)x=z2(h);else for(var b in h)typeof b=="string"&&Lt(h,b)&&x.push(b);if(x&&x.length>0)for(var A=0;A<x.length;A++)m(x[A])}s(p1,"_forEachProp");function Hd(h,m,x){return m!==u1&&typeof h[m]===al&&(x||Lt(h,m))&&m!==aa&&m!==Io}s(Hd,"_isDynamicCandidate");function xf(h){pr("DynamicProto: "+h)}s(xf,"_throwTypeError");function Vd(h){var m=ps(null);return p1(h,function(x){!m[x]&&Hd(h,x,!1)&&(m[x]=h[x])}),m}s(Vd,"_getInstanceFuncs");function y1(h,m){for(var x=h.length-1;x>=0;x--)if(h[x]===m)return!0;return!1}s(y1,"_hasVisited");function fl(h,m,x,b){function A(G,Q,ue){var Ne=Q[ue];if(Ne[V2]&&b){var Fe=G[pf]||{};Fe[oa]!==!1&&(Ne=(Fe[Q[Ao]]||{})[ue]||Ne)}return function(){return Ne.apply(G,arguments)}}s(A,"_instFuncProxy");var D=ps(null);p1(x,function(G){D[G]=A(m,x,G)});for(var F=vs(h),V=[];F&&!g1(F)&&!y1(V,F);)p1(F,function(G){!D[G]&&Hd(F,G,!la)&&(D[G]=A(m,F,G))}),V.push(F),F=vs(F);return D}s(fl,"_getBaseFuncs");function zd(h,m,x,b){var A=null;if(h&&Lt(x,Ao)){var D=h[pf]||ps(null);if(A=(D[x[Ao]]||ps(null))[m],A||xf("Missing ["+m+"] "+al),!A[ys]&&D[oa]!==!1){for(var F=!Lt(h,m),V=vs(h),G=[];F&&V&&!g1(V)&&!y1(G,V);){var Q=V[m];if(Q){F=Q===b;break}G.push(V),V=vs(V)}try{F&&(h[m]=A),A[ys]=1}catch{D[oa]=!1}}}return A}s(zd,"_getInstFunc");function K2(h,m,x){var b=m[h];return b===x&&(b=vs(m)[h]),typeof b!==al&&xf("["+h+"] is not a "+al),b}s(K2,"_getProtoFunc");function Kd(h,m,x,b,A){function D(G,Q){var ue=s(function(){var Ne=zd(this,Q,G,ue)||K2(Q,G,ue);return Ne.apply(this,arguments)},"dynProtoProxy");return ue[V2]=1,ue}if(s(D,"_createDynamicPrototype"),!vf(h)){var F=x[pf]=x[pf]||ps(null);if(!vf(F)){var V=F[m]=F[m]||ps(null);F[oa]!==!1&&(F[oa]=!!A),vf(V)||p1(x,function(G){Hd(x,G,!1)&&x[G]!==b[G]&&(V[G]=x[G],delete x[G],(!Lt(h,G)||h[G]&&!h[G][V2])&&(h[G]=D(h,G)))})}}}s(Kd,"_populatePrototype");function Cv(h,m){if(la){for(var x=[],b=vs(m);b&&!g1(b)&&!y1(x,b);){if(b===h)return!0;x.push(b),b=vs(b)}return!1}return!0}s(Cv,"_checkPrototype");function v1(h,m){return Lt(h,Io)?h.name||m||Md:((h||{})[u1]||{}).name||m||Md}s(v1,"_getObjName");function ui(h,m,x,b){Lt(h,Io)||xf("theClass is an invalid class definition.");var A=h[Io];Cv(A,m)||xf("["+v1(h)+"] not in hierarchy of ["+v1(m)+"]");var D=null;Lt(A,Ao)?D=A[Ao]:(D=Fd+v1(h,"_")+"$"+yf.n,yf.n++,A[Ao]=D);var F=ui[d1],V=!!F[h1];V&&b&&b[h1]!==void 0&&(V=!!b[h1]);var G=Vd(m),Q=fl(A,m,G,V);x(m,Q);var ue=!!la&&!!F[jd];ue&&b&&(ue=!!b[jd]),Kd(A,D,m,G,ue!==!1)}s(ui,"dynamicProto"),ui[d1]=yf.o;var Tv="function",T6="object",E6="undefined",x1="prototype",_1=Object,W2=_1[x1],S6="hasOwnProperty",Nr=s(function(h){for(var m,x=1,b=arguments.length;x<b;x++){m=arguments[x];for(var A in m)W2[S6].call(m,A)&&(h[A]=m[A])}return h},"__objAssignFnImpl"),fa=Fn||Nr,G2=s(function(h,m){return G2=_1.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,b){x.__proto__=b}||function(x,b){for(var A in b)b[S6](A)&&(x[A]=b[A])},G2(h,m)},"extendStaticsFn");function b1(h,m){typeof m!==Tv&&m!==null&&pr("Class extends value "+String(m)+" is not a constructor or null"),G2(h,m);function x(){this.constructor=h}s(x,"__"),h[x1]=m===null?ps(m):(x[x1]=m[x1],new x)}s(b1,"__extendsFn");function w6(h,m){for(var x=0,b=m.length,A=h.length;x<b;x++,A++)h[A]=m[x];return h}s(w6,"__spreadArrayFn");var Wd=B,Y2=S0,C1="toLowerCase",T1="blkVal",x0="length",Gd="rdOnly",Yd="notify",E1="warnToConsole",S1="throwInternal",_f="setDf",Po="watch",Lr="logger",bf="apply",nr="push",cl="splice",I6="hdlr",ul="cancel",w1="initialize",ca="identifier",$s="isInitialized",I1="getPlugin",A6="pollInternalLogs",ua="name",Cf="time",jn="processNext",X2="getProcessTelContext",$i="getNotifyMgr",A1="addNotificationListener",P1="removeNotificationListener",dl="enabled",Tf="stopPollingInternalLogs",Hi="unload",Xd="onComplete",P6="version",R6="loggingLevelConsole",xs="createNew",Ro="teardown",Jd="messageId",hl="message",Ef="isAsync",No="diagLog",Qd="_doTeardown",R1="update",di="getNext",N1="setNextPlugin",Sf="userAgent",wf="split",k1="nodeType",ml="replace",da="logInternalMessage",Hs="type",J2="handler",Zd="isChildEvt",If="getCtx",Vs="setCtx",D1="complete",Q2="traceId",N6="spanId",Af="traceFlags",Z2;function e5(h,m){Z2||(Z2=F2("AggregationError",function(b,A){A[x0]>1&&(b.errors=A[1])}));var x=h||"One or more errors occurred.";throw Jt(m,function(b,A){x+=`
`.concat(A," > ").concat(Nt(b))}),new Z2(x,m||[])}s(e5,"throwAggregationError");function t5(h,m){return L1(h,function(x){return m?m({value:x,rejected:!1}):x},function(x){return m?m({rejected:!0,reason:x}):x})}s(t5,"doAwaitResponse");function L1(h,m,x,b){var A=h;return nt(h)?(m||x)&&(A=h.then(m,x)):m&&(A=m(h)),b&&e4(A,b),A}s(L1,"doAwait");function e4(h,m){var x=h;return m&&(nt(h)?h.finally?x=h.finally(m):x=h.then(function(b){return m(),b},function(b){throw m(),b}):m()),x}s(e4,"doFinally");var B1=["pending","resolving","resolved","rejected"],Pf="dispatchEvent",ha;function Ev(h,m,x,b){var A=sl();!ha&&(ha=Pd(function(){var G;return A&&A.createEvent&&(G=A.createEvent("Event")),!!G&&G.initEvent},null));var D=ha.v?A.createEvent("Event"):b?new Event(m):{};if(x&&x(D),ha.v&&D.initEvent(m,!1,!0),D&&h[Pf])h[Pf](D);else{var F=h["on"+m];if(F)F(D);else{var V=Yr("console");V&&(V.error||V.log)(m,Nt(D))}}}s(Ev,"emitEvent");var r5="Promise",k6="unhandledRejection",Sv=k6.toLowerCase(),D6=10,n5;function O1(h){return ze(h)?h.toString():Nt(h)}s(O1,"dumpFnObj");function wv(h,m,x){var b=O2(arguments,3),A=0,D=!1,F,V=[],G=!1,Q=null,ue;!n5&&(n5=N2(r5+"RejectionEvent"));var Ne=s(function(We,ft){try{G=!0,Q&&Q.cancel(),Q=null;var t0=h(function(Z0,Ir){V.push(function(){try{var mr=A===2?We:ft,wn=ve(mr)?F:ze(mr)?mr(F):mr;nt(wn)?wn.then(Z0,Ir):mr?Z0(wn):A===3?Ir(wn):Z0(wn)}catch(Qr){Ir(Qr)}}),D&&Ze()},b);return t0}finally{}},"_then"),Fe=s(function(We){return Ne(void 0,We)},"_catch"),ke=s(function(We){var ft=We,t0=We;return ze(We)&&(ft=s(function(Z0){return We&&We(),Z0},"thenFinally"),t0=s(function(Z0){throw We&&We(),Z0},"catchFinally")),Ne(ft,t0)},"_finally"),we=s(function(){return B1[A]},"_strState"),Ze=s(function(){if(V.length>0){var We=V.slice();V=[],G=!0,m(We),Q&&Q.cancel(),Q=null}},"_processQueue"),Ue=s(function(We,ft){return function(t0){if(A===ft){if(We===2&&nt(t0)){A=1,t0.then(Ue(2,1),Ue(3,1));return}A=We,D=!0,F=t0,Ze(),!G&&We===3&&!Q&&(Q=js(it,D6))}}},"_createSettleIfFn"),it=s(function(){if(!G)if(gv())process.emit(k6,F,ue);else{var We=Eo()||ms();Ev(We,Sv,function(ft){return rr(ft,"promise",{g:function(){return ue}}),ft.reason=F,ft},!!n5.v)}},"_notifyUnhandledRejection");ue={then:Ne,catch:Fe,finally:ke},s0(ue,"state",{get:we}),L2()&&(ue[r1(11)]="IPromise");var Qe=s(function(){return"IPromise "+we()+(D?" - "+O1(F):"")},"_toString");return ue.toString=Qe,s(function(){ze(x)||pr(r5+": executor is not a function - "+O1(x));var ft=Ue(3,0);try{x.call(ue,Ue(2,0),ft)}catch(t0){ft(t0)}},"_initialize")(),ue}s(wv,"_createPromise");function Iv(h){return function(m){var x=O2(arguments,1);return h(function(b,A){try{var D=[],F=1;Jt(m,function(V,G){V&&(F++,L1(V,function(Q){D[G]=Q,--F===0&&b(D)},A))}),F--,F===0&&b(D)}catch(V){A(V)}},x)}}s(Iv,"_createAllPromise");var Rf=s(function(h){Jt(h,function(m){try{m()}catch{}})},"_processPendingItems");function L6(h){var m=he(h)?h:0;return function(x){js(function(){Rf(x)},m)}}s(L6,"timeoutItemProcessor");function B6(h,m){return wv(B6,L6(m),h,m)}s(B6,"createAsyncPromise");var t4;function Av(h,m){!t4&&(t4=N2(r5));var x=t4.v;if(!x)return B6(h);ze(h)||pr(r5+": executor is not a function - "+Nt(h));var b=0;function A(){return B1[b]}s(A,"_strState");var D=new x(function(F,V){function G(ue){b=2,F(ue)}s(G,"_resolve");function Q(ue){b=3,V(ue)}s(Q,"_reject"),h(G,Q)});return s0(D,"state",{get:A}),D}s(Av,"createNativePromise");var r4;function Nf(h,m){return!r4&&(r4=Ai(function(){return Av})),r4.v.call(this,h,m)}s(Nf,"createPromise");var O6=Iv(Nf),Vi=void 0,L0="",gl="channels",Br="core",n4="createPerfMgr",$n="disabled",pl="extensionConfig",kf="extensions",zi="processTelemetry",Df="priority",yl="eventsSent",ma="eventsDiscarded",F1="eventsSendRequest",Hn="perfEvent",M1="getPerfMgr",i5="domain",i4="path",s4="Not dynamic - ",o4=/-([a-z])/g,a4=/([^\w\d_$])/g,F6=/^(\d+[\w\d_$])/;function l4(h){return!le(h)}s(l4,"isNotNullOrUndefined");function f4(h){var m=h;return m&&dt(m)&&(m=m[ml](o4,function(x,b){return b.toUpperCase()}),m=m[ml](a4,"_"),m=m[ml](F6,function(x,b){return"_"+b})),m}s(f4,"normalizeJsName");function _n(h,m){return h&&m?gf(h,m)!==-1:!1}s(_n,"strContains");function U1(h){return h&&h.toISOString()||""}s(U1,"toISOString");function Vn(h){return Ve(h)?h[ua]:L0}s(Vn,"getExceptionName");function ga(h,m,x,b,A){var D=x;return h&&(D=h[m],D!==x&&(!A||A(D))&&(!b||b(x))&&(D=x,h[m]=D)),D}s(ga,"setValue");function M6(h,m,x){var b;return h?(b=h[m],!b&&le(b)&&(b=ve(x)?{}:x,h[m]=b)):b=ve(x)?{}:x,b}s(M6,"getSetValue");function U6(h,m){var x=null,b=null;return ze(h)?x=h:b=h,function(){var A=arguments;if(x&&(b=x()),b)return b[m][bf](b,A)}}s(U6,"_createProxyFunction");function Lf(h,m,x,b,A){h&&m&&x&&(A!==!1||ve(h[m]))&&(h[m]=U6(x,b))}s(Lf,"proxyFunctionAs");function c4(h,m,x,b){return h&&m&&n0(h)&&W(x)&&Jt(x,function(A){dt(A)&&Lf(h,A,m,A,b)}),h}s(c4,"proxyFunctions");function Pv(h){return function(){function m(){var x=this;h&&vt(h,function(b,A){x[b]=A})}return s(m,"class_1"),m}()}s(Pv,"createClassFromInterface");function q6(h){return h&&Fn&&(h=_1(Fn({},h))),h}s(q6,"optimizeObject");function q1(h,m,x,b,A,D){var F=arguments,V=F[0]||{},G=F[x0],Q=!1,ue=1;for(G>0&&Xe(V)&&(Q=V,V=F[ue]||{},ue++),n0(V)||(V={});ue<G;ue++){var Ne=F[ue],Fe=W(Ne),ke=n0(Ne);for(var we in Ne){var Ze=Fe&&we in Ne||ke&&H(Ne,we);if(Ze){var Ue=Ne[we],it=void 0;if(Q&&Ue&&((it=W(Ue))||ci(Ue))){var Qe=V[we];it?W(Qe)||(Qe=[]):ci(Qe)||(Qe={}),Ue=q1(Q,Qe,Ue)}Ue!==void 0&&(V[we]=Ue)}}}return V}s(q1,"objExtend");var Rv="documentMode",j6="location",u4="console",d4="JSON",$6="crypto",Nv="msCrypto",s5="msie",h4="trident/",H6="XMLHttpRequest",o5=null,m4=null,kv=!1,Bf=null,g4=null;function V6(h,m){var x=!1;if(h){try{if(x=m in h,!x){var b=h[x1];b&&(x=m in b)}}catch{}if(!x)try{var A=new h;x=!ve(A[m])}catch{}}return x}s(V6,"_hasProperty");function p4(h){if(h&&kv){var m=Yr("__mockLocation");if(m)return m}return typeof location===T6&&location?location:Yr(j6)}s(p4,"getLocation");function a5(){return typeof console!==E6?console:Yr(u4)}s(a5,"getConsole");function Pi(){return!!(typeof JSON===T6&&JSON||Yr(d4)!==null)}s(Pi,"hasJSON");function zs(){return Pi()?JSON||Yr(d4):null}s(zs,"getJSON");function z6(){return Yr($6)}s(z6,"getCrypto");function Of(){return Yr(Nv)}s(Of,"getMsCrypto");function o0(){var h=na();if(h&&(h[Sf]!==m4||o5===null)){m4=h[Sf];var m=(m4||L0)[C1]();o5=_n(m,s5)||_n(m,h4)}return o5}s(o0,"isIE");function Ff(h){if(h===void 0&&(h=null),!h){var m=na()||{};h=m?(m.userAgent||L0)[C1]():L0}var x=(h||L0)[C1]();if(_n(x,s5)){var b=sl()||{};return Math.max(parseInt(x[wf](s5)[1]),b[Rv]||0)}else if(_n(x,h4)){var A=parseInt(x[wf](h4)[1]);if(A)return A+4}return null}s(Ff,"getIEVersion");function Ks(h){return(g4===null||h===!1)&&(g4=mv()&&!!na().sendBeacon),g4}s(Ks,"isBeaconsSupported");function vl(h){var m=!1;try{m=!!Yr("fetch");var x=Yr("Request");m&&h&&x&&(m=V6(x,"keepalive"))}catch{}return m}s(vl,"isFetchSupported");function j1(){return Bf===null&&(Bf=typeof XDomainRequest!==E6,Bf&&l5()&&(Bf=Bf&&!V6(Yr(H6),"withCredentials"))),Bf}s(j1,"useXDomainRequest");function l5(){var h=!1;try{var m=Yr(H6);h=!!m}catch{}return h}s(l5,"isXhrSupported");var Ki=4294967296,hi=4294967295,xl=123456789,f5=987654321,c5=!1,_l=xl,Mf=f5;function y4(h){h<0&&(h>>>=0),_l=xl+h&hi,Mf=f5-h&hi,c5=!0}s(y4,"_mwcSeed");function v4(){try{var h=sa()&2147483647;y4((Math.random()*Ki^h)+h)}catch{}}s(v4,"_autoSeedMwc");function $1(h){var m=0,x=z6()||Of();return x&&x.getRandomValues&&(m=x.getRandomValues(new Uint32Array(1))[0]&hi),m===0&&o0()&&(c5||v4(),m=u5()&hi),m===0&&(m=Math.floor(Ki*Math.random()|0)),h||(m>>>=0),m}s($1,"random32");function u5(h){Mf=36969*(Mf&65535)+(Mf>>16)&hi,_l=18e3*(_l&65535)+(_l>>16)&hi;var m=(Mf<<16)+(_l&65535)>>>0&hi|0;return h||(m>>>=0),m}s(u5,"mwcRandom32");function K6(h){h===void 0&&(h=22);for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=$1()>>>0,b=0,A=L0;A[x0]<h;)b++,A+=m.charAt(x&63),x>>>=6,b===5&&(x=($1()<<2&4294967295|x&3)>>>0,b=0);return A}s(K6,"newId");var H1="3.0.5",Uf="."+K6(6),_s=0;function bs(h){return h[k1]===1||h[k1]===9||!+h[k1]}s(bs,"_canAcceptData");function ko(h,m){var x=m[h.id];if(!x){x={};try{bs(m)&&rr(m,h.id,{e:!1,v:x})}catch{}}return x}s(ko,"_getCache");function Wi(h,m){return m===void 0&&(m=!1),f4(h+_s+++(m?"."+H1:L0)+Uf)}s(Wi,"createUniqueNamespace");function Ws(h){var m={id:Wi("_aiData-"+(h||L0)+"."+H1),accept:function(x){return bs(x)},get:function(x,b,A,D){var F=x[m.id];return F?F[f4(b)]:(D&&(F=ko(m,x),F[f4(b)]=A),A)},kill:function(x,b){if(x&&x[b])try{delete x[b]}catch{}}};return m}s(Ws,"createElmNodeData");function pa(h){return h&&n0(h)&&(h.isVal||h.fb||H(h,"v")||H(h,"mrg")||H(h,"ref")||h.set)}s(pa,"_isConfigDefaults");function d5(h,m,x){var b,A=x.dfVal||mt;if(m&&x.fb){var D=x.fb;W(D)||(D=[D]);for(var F=0;F<D[x0];F++){var V=D[F],G=m[V];if(A(G)?b=G:h&&(G=h.cfg[V],A(G)&&(b=G),h.set(h.cfg,Wt(V),G)),A(b))break}}return!A(b)&&A(x.v)&&(b=x.v),b}s(d5,"_getDefault");function V1(h,m,x){var b=x;if(x&&pa(x)&&(b=d5(h,m,x)),b){pa(b)&&(b=V1(h,m,b));var A;W(b)?(A=[],A[x0]=b[x0]):ci(b)&&(A={}),A&&(vt(b,function(D,F){F&&pa(F)&&(F=V1(h,m,F)),A[D]=F}),b=A)}return b}s(V1,"_resolveDefaultValue");function h5(h,m,x,b){var A,D,F,V=b,G,Q,ue,Ne;pa(V)?(A=V.isVal,D=V.set,ue=V[Gd],Ne=V[T1],G=V.mrg,Q=V.ref,!Q&&ve(Q)&&(Q=!!G),F=d5(h,m,V)):F=b,Ne&&h[T1](m,x);var Fe,ke=!0,we=m[x];(we||!le(we))&&(Fe=we,ke=!1,A&&Fe!==F&&!A(Fe)&&(Fe=F,ke=!0),D&&(Fe=D(Fe,F,m),ke=Fe===F)),ke?F?Fe=V1(h,m,F):Fe=F:(ci(Fe)||W(F))&&G&&F&&(ci(F)||W(F))&&vt(F,function(Ze,Ue){h5(h,Fe,Ze,Ue)}),h.set(m,x,Fe),Q&&h.ref(m,x),ue&&h[Gd](m,x)}s(h5,"_applyDefaultValue");var Ri=df("[[ai_dynCfg_1]]"),ya=df("[[ai_blkDynCfg_1]]"),m5=df("[[ai_frcDynCfg_1]]");function z1(h){if(h){var m;if(W(h)?(m=[],m[x0]=h[x0]):ci(h)&&(m={}),m)return vt(h,function(x,b){m[x]=z1(b)}),m}return h}s(z1,"_cfgDeepCopy");function qf(h){if(h){var m=h[Ri]||h;if(m.cfg&&(m.cfg===h||m.cfg[Ri]===m))return m}return null}s(qf,"getDynamicConfigHandler");function K1(h){if(h&&(ci(h)||W(h)))try{h[ya]=!0}catch{}return h}s(K1,"blockDynamicConversion");function jf(h,m,x){var b=!1;return x&&!h[m.blkVal]&&(b=x[m5],!b&&!x[ya]&&(b=ci(x)||W(x))),b}s(jf,"_canMakeDynamic");function x4(h){pr("InvalidAccess:"+h)}s(x4,"throwInvalidAccess");var _4=["push","pop","shift","unshift","splice"],$f=s(function(h,m,x,b){h&&h[S1](3,108,"".concat(x," [").concat(m,"] failed - ")+Nt(b))},"_throwDynamicError");function bn(h,m,x){W(m)&&Jt(_4,function(b){var A=m[b];m[b]=function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];var V=A[bf](this,D);return Cs(h,m,x,"Patching"),V}})}s(bn,"_patchArray");function bl(h,m){var x=Mt(h,m);return x&&x.get}s(bl,"_getOwnPropGetter");function b4(h,m,x,b){var A={n:x,h:[],trk:function(Q){Q&&Q.fn&&(ji(A.h,Q)===-1&&A.h[nr](Q),h.trk(Q,A))},clr:function(Q){var ue=ji(A.h,Q);ue!==-1&&A.h[cl](ue,1)}},D=!0,F=!1;function V(){D&&(F=F||jf(V,h,b),b&&!b[Ri]&&F&&(b=Cs(h,b,x,"Converting")),D=!1);var Q=h.act;return Q&&A.trk(Q),b}s(V,"_getProperty"),V[h.prop]={chng:function(){h.add(A)}};function G(Q){if(b!==Q){V[h.ro]&&!h.upd&&x4("["+x+"] is read-only:"+Nt(m)),D&&(F=F||jf(V,h,b),D=!1);var ue=F&&V[h.rf];if(F)if(ue){vt(b,function(Fe){b[Fe]=Q?Q[Fe]:Vi});try{vt(Q,function(Fe,ke){W1(h,b,Fe,ke)}),Q=b}catch(Fe){$f((h.hdlr||{})[Lr],x,"Assigning",Fe),F=!1}}else b&&b[Ri]&&vt(b,function(Fe){var ke=bl(b,Fe);if(ke){var we=ke[h.prop];we&&we.chng()}});if(Q!==b){var Ne=Q&&jf(V,h,Q);!ue&&Ne&&(Q=Cs(h,Q,x,"Converting")),b=Q,F=Ne}h.add(A)}}s(G,"_setProperty"),rr(m,A.n,{g:V,s:G})}s(b4,"_createDynamicProperty");function W1(h,m,x,b){if(m){var A=bl(m,x),D=A&&!!A[h.prop];D?m[x]=b:b4(h,m,x,b)}return m}s(W1,"_setDynamicProperty");function Gs(h,m,x,b){if(m){var A=bl(m,x),D=A&&!!A[h.prop],F=b&&b[0],V=b&&b[1],G=b&&b[2];if(!D){if(G)try{K1(m)}catch(Q){$f((h.hdlr||{})[Lr],x,"Blocking",Q)}try{W1(h,m,x,m[x]),A=bl(m,x)}catch(Q){$f((h.hdlr||{})[Lr],x,"State",Q)}}F&&(A[h.rf]=F),V&&(A[h.ro]=V),G&&(A[h.blkVal]=!0)}return m}s(Gs,"_setDynamicPropertyState");function Cs(h,m,x,b){try{vt(m,function(A,D){W1(h,m,A,D)}),m[Ri]||(s0(m,Ri,{get:function(){return h[I6]}}),bn(h,m,x))}catch(A){$f((h.hdlr||{})[Lr],x,b,A)}return m}s(Cs,"_makeDynamicObject");var Hf="[[ai_",Cl="]]";function W6(h){var m,x=Us(Hf+"get"+h.uid+Cl),b=Us(Hf+"ro"+h.uid+Cl),A=Us(Hf+"rf"+h.uid+Cl),D=Us(Hf+"blkVal"+h.uid+Cl),F=Us(Hf+"dtl"+h.uid+Cl),V=null,G=null,Q;function ue(we,Ze){var Ue=Q.act;try{Q.act=we,we&&we[F]&&(Jt(we[F],function(Qe){Qe.clr(we)}),we[F]=[]),Ze({cfg:h.cfg,set:h.set.bind(h),setDf:h[_f].bind(h),ref:h.ref.bind(h),rdOnly:h[Gd].bind(h)})}catch(Qe){var it=h[Lr];throw it&&it[S1](1,107,Nt(Qe)),Qe}finally{Q.act=Ue||null}}s(ue,"_useHandler");function Ne(){if(V){var we=V;V=null,G&&G[ul](),G=null;var Ze=[];if(Jt(we,function(Ue){if(Ue&&(Ue[F]&&(Jt(Ue[F],function(it){it.clr(Ue)}),Ue[F]=null),Ue.fn))try{ue(Ue,Ue.fn)}catch(it){Ze[nr](it)}}),V)try{Ne()}catch(Ue){Ze[nr](Ue)}Ze[x0]>0&&e5("Watcher error(s): ",Ze)}}s(Ne,"_notifyWatchers");function Fe(we){if(we&&we.h[x0]>0){V||(V=[]),G||(G=js(function(){G=null,Ne()},0));for(var Ze=0;Ze<we.h[x0];Ze++){var Ue=we.h[Ze];Ue&&ji(V,Ue)===-1&&V[nr](Ue)}}}s(Fe,"_addWatcher");function ke(we,Ze){if(we){var Ue=we[F]=we[F]||[];ji(Ue,Ze)===-1&&Ue[nr](Ze)}}return s(ke,"_trackHandler"),Q=(m={prop:x,ro:b,rf:A},m[T1]=D,m[I6]=h,m.add=Fe,m[Yd]=Ne,m.use=ue,m.trk=ke,m),Q}s(W6,"_createState");function G6(h,m){var x={fn:m,rm:function(){x.fn=null,h=null,m=null}};return h.use(x,m),x}s(G6,"_createAndUseHandler");function Y6(h,m,x){var b,A=qf(m);if(A)return A;var D=Wi("dyncfg",!0),F=m&&x!==!1?m:z1(m),V;function G(){V[Yd]()}s(G,"_notifyWatchers");function Q(it,Qe,We){try{it=W1(V,it,Qe,We)}catch(ft){$f(h,Qe,"Setting value",ft)}return it[Qe]}s(Q,"_setValue");function ue(it){return G6(V,it)}s(ue,"_watch");function Ne(it,Qe){V.use(null,function(We){var ft=V.upd;try{ve(Qe)||(V.upd=Qe),it(We)}finally{V.upd=ft}})}s(Ne,"_block");function Fe(it,Qe){var We;return Gs(V,it,Qe,(We={},We[0]=!0,We))[Qe]}s(Fe,"_ref");function ke(it,Qe){var We;return Gs(V,it,Qe,(We={},We[1]=!0,We))[Qe]}s(ke,"_rdOnly");function we(it,Qe){var We;return Gs(V,it,Qe,(We={},We[2]=!0,We))[Qe]}s(we,"_blkPropValue");function Ze(it,Qe){return Qe&&vt(Qe,function(We,ft){h5(Ue,it,We,ft)}),it}s(Ze,"_applyDefaults");var Ue=(b={uid:null,cfg:F},b[Lr]=h,b[Yd]=G,b.set=Q,b[_f]=Ze,b[Po]=ue,b.ref=Fe,b[Gd]=ke,b[T1]=we,b._block=Ne,b);return rr(Ue,"uid",{c:!1,e:!1,w:!1,v:D}),V=W6(Ue),Cs(V,F,"config","Creating"),Ue}s(Y6,"_createDynamicHandler");function Dv(h,m){h?(h[E1](m),h[S1](2,108,m)):x4(m)}s(Dv,"_logInvalidAccess");function Cn(h,m,x,b){var A=Y6(x,h||{},b);return m&&A[_f](A.cfg,m),A}s(Cn,"createDynamicConfig");function Vf(h,m,x){var b=h[Ri]||h;return b.cfg&&(b.cfg===h||b.cfg[Ri]===b)?b[Po](m):(Dv(x,s4+Nt(h)),Cn(h,null,x)[Po](m))}s(Vf,"onConfigChange");function zf(h,m){if(h&&h[Hi])return h[Hi](m)}s(zf,"runTargetUnload");function X6(h,m,x){var b;return x||(b=Nf(function(A){x=A})),h&&wo(h)>0?t5(zf(h[0],m),function(){X6(O2(h,1),m,x)}):x(),b}s(X6,"doUnloadAll");var J6=500;function C4(h,m,x){return!h&&le(h)?m:Xe(h)?h:Wt(h)[C1]()==="true"}s(C4,"_stringToBoolOrDefault");function Lv(h){return{mrg:!0,v:h}}s(Lv,"cfgDfMerge");function G1(h,m,x){return{fb:x,isVal:h,v:m}}s(G1,"cfgDfValidate");function Ys(h,m){return{fb:m,set:C4,v:!!h}}s(Ys,"cfgDfBoolean");var T4=[yl,ma,F1,Hn],g5=null,p5;function Bv(h,m){return function(){var x=arguments,b=Z6(m);if(b){var A=b.listener;A&&A[h]&&A[h][bf](A,x)}}}s(Bv,"_listenerProxyFunc");function Q6(){var h=Yr("Microsoft");return h&&(g5=h.ApplicationInsights),g5}s(Q6,"_getExtensionNamespace");function Z6(h){var m=g5;return!m&&h.disableDbgExt!==!0&&(m=g5||Q6()),m?m.ChromeDbgExt:null}s(Z6,"getDebugExt");function Ov(h){if(!p5){p5={};for(var m=0;m<T4[x0];m++)p5[T4[m]]=Bv(T4[m],h)}return p5}s(Ov,"getDebugListener");var Kf,em="warnToConsole",Y1="AI (Internal): ",Fv="AI: ",Mv="AITR_",va={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},xa=(Kf={},Kf[0]=null,Kf[1]="errorToConsole",Kf[2]=em,Kf[3]="debugToConsole",Kf);function E4(h){return h?'"'+h[ml](/\"/g,L0)+'"':L0}s(E4,"_sanitizeDiagnosticText");function X1(h,m){var x=a5();if(x){var b="log";x[h]&&(b=h),ze(x[b])&&x[b](m)}}s(X1,"_logToConsole");var Wf=function(){function h(m,x,b,A){b===void 0&&(b=!1);var D=this;D[Jd]=m,D[hl]=(b?Fv:Y1)+m;var F=L0;Pi()&&(F=zs().stringify(A));var V=(x?" message:"+E4(x):L0)+(A?" props:"+E4(F):L0);D[hl]+=V}return s(h,"_InternalLogMessage"),h.dataType="MessageData",h}();function J1(h,m){return(h||{})[Lr]||new y5(m)}s(J1,"safeGetLogger");var y5=function(){function h(m){this.identifier="DiagnosticLogger",this.queue=[];var x=0,b={},A,D,F,V,G;ui(h,this,function(Q){G=Ne(m||{}),Q.consoleLoggingLevel=function(){return A},Q[S1]=function(we,Ze,Ue,it,Qe){Qe===void 0&&(Qe=!1);var We=new Wf(Ze,Ue,Qe,it);if(V)throw Nt(We);var ft=xa[we]||em;if(ve(We[hl]))ke("throw"+(we===1?"Critical":"Warning"),We);else{if(Qe){var t0=+We[Jd];!b[t0]&&A>=we&&(Q[ft](We[hl]),b[t0]=!0)}else A>=we&&Q[ft](We[hl]);ue(we,We)}},Q.debugToConsole=function(we){X1("debug",we),ke("warning",we)},Q[E1]=function(we){X1("warn",we),ke("warning",we)},Q.errorToConsole=function(we){X1("error",we),ke("error",we)},Q.resetInternalMessageCount=function(){x=0,b={}},Q[da]=ue,Q[Hi]=function(we){G&&G.rm(),G=null};function ue(we,Ze){if(!Fe()){var Ue=!0,it=Mv+Ze[Jd];if(b[it]?Ue=!1:b[it]=!0,Ue&&(we<=D&&(Q.queue[nr](Ze),x++,ke(we===1?"error":"warn",Ze)),x===F)){var Qe="Internal events throttle limit per PageView reached for this app.",We=new Wf(23,Qe,!1);Q.queue[nr](We),we===1?Q.errorToConsole(Qe):Q[E1](Qe)}}}s(ue,"_logInternalMessage");function Ne(we){return Vf(Cn(we,va,Q).cfg,function(Ze){var Ue=Ze.cfg;A=Ue[R6],D=Ue.loggingLevelTelemetry,F=Ue.maxMessageLimit,V=Ue.enableDebug})}s(Ne,"_setDefaultsFromConfig");function Fe(){return x>=F}s(Fe,"_areInternalMessagesThrottled");function ke(we,Ze){var Ue=Z6(m||{});Ue&&Ue[No]&&Ue[No](we,Ze)}s(ke,"_debugExtMsg")})}return s(h,"DiagnosticLogger"),h.__ieDyn=1,h}();function tm(h){return h||new y5}s(tm,"_getLogger");function Ot(h,m,x,b,A,D){D===void 0&&(D=!1),tm(h)[S1](m,x,b,A,D)}s(Ot,"_throwInternal");function Gf(h,m){tm(h)[E1](m)}s(Gf,"_warnToConsole");var v5,_a,rm="toGMTString",Q1="toUTCString",S4="cookie",w4="expires",nm="isCookieUseDisabled",I4="disableCookiesUsage",im="_ckMgr",x5=null,A4=null,sm=null,Ts,om={},am={},Uv=(v5={cookieCfg:Lv((_a={},_a[i5]={fb:"cookieDomain",dfVal:l4},_a.path={fb:"cookiePath",dfVal:l4},_a.enabled=Vi,_a.ignoreCookies=Vi,_a.blockedCookies=Vi,_a)),cookieDomain:Vi,cookiePath:Vi},v5[I4]=Vi,v5);function P4(){!Ts&&(Ts=Ai(function(){return sl()}))}s(P4,"_getDoc");function Do(h){return h?h.isEnabled():!0}s(Do,"_isMgrEnabled");function zn(h,m){return m&&h&&W(h.ignoreCookies)?ji(h.ignoreCookies,m)!==-1:!1}s(zn,"_isIgnoredCookie");function R4(h,m){return m&&h&&W(h.blockedCookies)&&ji(h.blockedCookies,m)!==-1?!0:zn(h,m)}s(R4,"_isBlockedCookie");function N4(h,m){var x=m[dl];if(le(x)){var b=void 0;ve(h[nm])||(b=!h[nm]),ve(h[I4])||(b=!h[I4]),x=b}return x}s(N4,"_isCfgEnabled");function k4(h,m){var x,b,A,D,F,V,G,Q,ue;h=Cn(h||am,null,m).cfg,F=Vf(h,function(Fe){Fe[_f](Fe.cfg,Uv),b=Fe.ref(Fe.cfg,"cookieCfg"),A=b[i4]||"/",D=b[i5],V=N4(h,b)!==!1,G=b.getCookie||qv,Q=b.setCookie||B4,ue=b.delCookie||B4},m);var Ne=(x={isEnabled:function(){var Fe=N4(h,b)!==!1&&V&&D4(m),ke=am[im];return Fe&&ke&&Ne!==ke&&(Fe=Do(ke)),Fe},setEnabled:function(Fe){V=Fe!==!1,b[dl]=Fe},set:function(Fe,ke,we,Ze,Ue){var it=!1;if(Do(Ne)&&!R4(b,Fe)){var Qe={},We=Vr(ke||L0),ft=gf(We,";");if(ft!==-1&&(We=Vr(K(ke,ft)),Qe=_5(U(ke,ft+1))),ga(Qe,i5,Ze||D,wt,ve),!le(we)){var t0=o0();if(ve(Qe[w4])){var Z0=sa(),Ir=Z0+we*1e3;if(Ir>0){var mr=new Date;mr.setTime(Ir),ga(Qe,w4,L4(mr,t0?rm:Q1)||L4(mr,t0?rm:Q1)||L0,wt)}}t0||ga(Qe,"max-age",L0+we,null,ve)}var wn=p4();wn&&wn.protocol==="https:"&&(ga(Qe,"secure",null,null,ve),A4===null&&(A4=!Tl((na()||{})[Sf])),A4&&ga(Qe,"SameSite","None",null,ve)),ga(Qe,i4,Ue||A,null,ve),Q(Fe,lm(We,Qe)),it=!0}return it},get:function(Fe){var ke=L0;return Do(Ne)&&!zn(b,Fe)&&(ke=G(Fe)),ke},del:function(Fe,ke){var we=!1;return Do(Ne)&&(we=Ne.purge(Fe,ke)),we},purge:function(Fe,ke){var we,Ze=!1;if(D4(m)){var Ue=(we={},we[i4]=ke||"/",we[w4]="Thu, 01 Jan 1970 00:00:01 GMT",we);o0()||(Ue["max-age"]="0"),ue(Fe,lm(L0,Ue)),Ze=!0}return Ze}},x[Hi]=function(Fe){F&&F.rm(),F=null},x);return Ne[im]=Ne,Ne}s(k4,"createCookieMgr");function D4(h){if(x5===null){x5=!1,!Ts&&P4();try{var m=Ts.v||{};x5=m[S4]!==void 0}catch(x){Ot(h,2,68,"Cannot access document.cookie - "+Vn(x),{exception:Nt(x)})}}return x5}s(D4,"areCookiesSupported");function _5(h){var m={};if(h&&h[x0]){var x=Vr(h)[wf](";");Jt(x,function(b){if(b=Vr(b||L0),b){var A=gf(b,"=");A===-1?m[b]=null:m[Vr(K(b,A))]=Vr(U(b,A+1))}})}return m}s(_5,"_extractParts");function L4(h,m){return ze(h[m])?h[m]():null}s(L4,"_formatDate");function lm(h,m){var x=h||L0;return vt(m,function(b,A){x+="; "+b+(le(A)?L0:"="+A)}),x}s(lm,"_formatCookieValue");function qv(h){var m=L0;if(!Ts&&P4(),Ts.v){var x=Ts.v[S4]||L0;sm!==x&&(om=_5(x),sm=x),m=Vr(om[h]||L0)}return m}s(qv,"_getCookieValue");function B4(h,m){!Ts&&P4(),Ts.v&&(Ts.v[S4]=h+"="+m)}s(B4,"_setCookieValue");function Tl(h){return dt(h)?!!(_n(h,"CPU iPhone OS 12")||_n(h,"iPad; CPU OS 12")||_n(h,"Macintosh; Intel Mac OS X 10_14")&&_n(h,"Version/")&&_n(h,"Safari")||_n(h,"Macintosh; Intel Mac OS X 10_14")&&Bd(h,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||_n(h,"Chrome/5")||_n(h,"Chrome/6")||_n(h,"UnrealEngine")&&!_n(h,"Chrome")||_n(h,"UCBrowser/12")||_n(h,"UCBrowser/11")):!1}s(Tl,"uaDisallowsSameSiteNone");var jv={perfEvtsSendAll:!1};function Yf(h,m,x,b){Jt(h,function(A){if(A&&A[m])if(x)js(function(){return b(A)},0);else try{b(A)}catch{}})}s(Yf,"_runListeners");var $v=function(){function h(m){this.listeners=[];var x,b,A=[],D=Cn(m,jv);b=D[Po](function(F){x=!!F.cfg.perfEvtsSendAll}),ui(h,this,function(F){rr(F,"listeners",{g:function(){return A}}),F[A1]=function(V){A[nr](V)},F[P1]=function(V){for(var G=ji(A,V);G>-1;)A[cl](G,1),G=ji(A,V)},F[yl]=function(V){Yf(A,yl,!0,function(G){G[yl](V)})},F[ma]=function(V,G){Yf(A,ma,!0,function(Q){Q[ma](V,G)})},F[F1]=function(V,G){Yf(A,F1,G,function(Q){Q[F1](V,G)})},F[Hn]=function(V){V&&(x||!V[Zd]())&&Yf(A,Hn,!1,function(G){V[Ef]?js(function(){return G[Hn](V)},0):G[Hn](V)})},F[Hi]=function(V){var G=s(function(){b&&b.rm(),b=null,A=[]},"_finishUnload"),Q;if(Yf(A,"unload",!1,function(ue){var Ne=ue[Hi](V);Ne&&(Q||(Q=[]),Q[nr](Ne))}),Q)return Nf(function(ue){return t5(O6(Q),function(){G(),ue()})});G()}})}return s(h,"NotificationManager"),h.__ieDyn=1,h}(),Xf="ctx",Jf="ParentContextKey",El="ChildrenContextKey",Hv=null,Z1=function(){function h(m,x,b){var A=this;if(A.start=sa(),A[ua]=m,A[Ef]=b,A[Zd]=function(){return!1},ze(x)){var D;rr(A,"payload",{g:function(){return!D&&ze(x)&&(D=x(),x=null),D}})}A[If]=function(F){return F?F===h[Jf]||F===h[El]?A[F]:(A[Xf]||{})[F]:null},A[Vs]=function(F,V){if(F)if(F===h[Jf])A[F]||(A[Zd]=function(){return!0}),A[F]=V;else if(F===h[El])A[F]=V;else{var G=A[Xf]=A[Xf]||{};G[F]=V}},A[D1]=function(){var F=0,V=A[If](h[El]);if(W(V))for(var G=0;G<V[x0];G++){var Q=V[G];Q&&(F+=Q[Cf])}A[Cf]=sa()-A.start,A.exTime=A[Cf]-F,A[D1]=function(){}}}return s(h,"PerfEvent"),h.ParentContextKey="parent",h.ChildrenContextKey="childEvts",h}(),O4=function(){function h(m){this.ctx={},ui(h,this,function(x){x.create=function(b,A,D){return new Z1(b,A,D)},x.fire=function(b){b&&(b[D1](),m&&ze(m[Hn])&&m[Hn](b))},x[Vs]=function(b,A){if(b){var D=x[Xf]=x[Xf]||{};D[b]=A}},x[If]=function(b){return(x[Xf]||{})[b]}})}return s(h,"PerfManager"),h.__ieDyn=1,h}(),F4="CoreUtils.doPerf";function fm(h,m,x,b,A){if(h){var D=h;if(D[M1]&&(D=D[M1]()),D){var F=void 0,V=D[If](F4);try{if(F=D.create(m(),b,A),F){if(V&&F[Vs]&&(F[Vs](Z1[Jf],V),V[If]&&V[Vs])){var G=V[If](Z1[El]);G||(G=[],V[Vs](Z1[El],G)),G[nr](F)}return D[Vs](F4,F),x(F)}}catch(Q){F&&F[Vs]&&F[Vs]("exception",Q)}finally{F&&D.fire(F),D[Vs](F4,V)}}}return x()}s(fm,"doPerf");function eu(){return Hv}s(eu,"getGblPerfMgr");var Vv="00000000000000000000000000000000",M4="0000000000000000";function cm(h,m,x){return h&&h[x0]===m&&h!==x?!!h.match(/^[\da-f]*$/i):!1}s(cm,"_isValid");function zv(h){return cm(h,32,Vv)}s(zv,"isValidTraceId");function Kv(h){return cm(h,16,M4)}s(Kv,"isValidSpanId");var Wv=Ws("plugin");function Sl(h){return Wv.get(h,"state",{},!0)}s(Sl,"_getPluginState");function um(h,m){for(var x=[],b=null,A=h[di](),D;A;){var F=A[I1]();if(F){b&&b[N1]&&F[zi]&&b[N1](F),D=Sl(F);var V=!!D[$s];F[$s]&&(V=F[$s]()),V||x[nr](F),b=F,A=A[di]()}}Jt(x,function(G){var Q=h[Br]();G[w1](h.getCfg(),Q,m,h[di]()),D=Sl(G),!G[Br]&&!D[Br]&&(D[Br]=Q),D[$s]=!0,delete D[Ro]})}s(um,"initializePlugins");function U4(h){return h.sort(function(m,x){var b=0;if(x){var A=x[zi];m[zi]?b=A?m[Df]-x[Df]:1:A&&(b=-1)}else b=m?1:-1;return b})}s(U4,"sortPlugins");function Gv(h){var m={};return{getName:function(){return m[ua]},setName:function(x){h&&h.setName(x),m[ua]=x},getTraceId:function(){return m[Q2]},setTraceId:function(x){h&&h.setTraceId(x),zv(x)&&(m[Q2]=x)},getSpanId:function(){return m[N6]},setSpanId:function(x){h&&h.setSpanId(x),Kv(x)&&(m[N6]=x)},getTraceFlags:function(){return m[Af]},setTraceFlags:function(x){h&&h.setTraceFlags(x),m[Af]=x}}}s(Gv,"createDistributedTraceContext");var Yv="TelemetryPluginChain",Lo="_hasRun",Qf="_getTelCtx",Or=0;function b5(h,m,x){for(;h;){if(h[I1]()===x)return h;h=h[di]()}return Ss([x],m.config||{},m)}s(b5,"_getNextProxyStart");function ba(h,m,x,b){var A=null,D=[];m||(m=Cn({},null,x[Lr])),b!==null&&(A=b?b5(h,x,b):h);var F={_next:G,ctx:{core:function(){return x},diagLog:function(){return J1(x,m.cfg)},getCfg:function(){return m.cfg},getExtCfg:ue,getConfig:Ne,hasNext:function(){return!!A},getNext:function(){return A},setNext:function(ke){A=ke},iterate:Fe,onComplete:V}};function V(ke,we){for(var Ze=[],Ue=2;Ue<arguments.length;Ue++)Ze[Ue-2]=arguments[Ue];ke&&D[nr]({func:ke,self:ve(we)?F.ctx:we,args:Ze})}s(V,"_addOnComplete");function G(){var ke=A;if(A=ke?ke[di]():null,!ke){var we=D;we&&we[x0]>0&&(Jt(we,function(Ze){try{Ze.func.call(Ze.self,Ze.args)}catch(Ue){Ot(x[Lr],2,73,"Unexpected Exception during onComplete - "+Nt(Ue))}}),D=[])}return ke}s(G,"_moveNext");function Q(ke,we){var Ze=null,Ue=m.cfg;if(Ue&&ke){var it=Ue[pl];!it&&we&&(it={}),Ue[pl]=it,it=m.ref(Ue,pl),it&&(Ze=it[ke],!Ze&&we&&(Ze={}),it[ke]=Ze,Ze=m.ref(it,ke))}return Ze}s(Q,"_getExtCfg");function ue(ke,we){var Ze=Q(ke,!0);return we&&vt(we,function(Ue,it){if(le(Ze[Ue])){var Qe=m.cfg[Ue];(Qe||!le(Qe))&&(Ze[Ue]=Qe)}h5(m,Ze,Ue,it)}),m[_f](Ze,we)}s(ue,"_resolveExtCfg");function Ne(ke,we,Ze){Ze===void 0&&(Ze=!1);var Ue,it=Q(ke,!1),Qe=m.cfg;return it&&(it[we]||!le(it[we]))?Ue=it[we]:(Qe[we]||!le(Qe[we]))&&(Ue=Qe[we]),Ue||!le(Ue)?Ue:Ze}s(Ne,"_getConfig");function Fe(ke){for(var we;we=F._next();){var Ze=we[I1]();Ze&&ke(Ze)}}return s(Fe,"_iterateChain"),F}s(ba,"_createInternalContext");function Ca(h,m,x,b){var A=Cn(m),D=ba(h,A,x,b),F=D.ctx;function V(Q){var ue=D._next();return ue&&ue[zi](Q,F),!ue}s(V,"_processNext");function G(Q,ue){return Q===void 0&&(Q=null),W(Q)&&(Q=Ss(Q,A.cfg,x,ue)),Ca(Q||F[di](),A.cfg,x,ue)}return s(G,"_createNew"),F[jn]=V,F[xs]=G,F}s(Ca,"createProcessTelemetryContext");function Es(h,m,x){var b=Cn(m.config),A=ba(h,b,m,x),D=A.ctx;function F(G){var Q=A._next();return Q&&Q[Hi](D,G),!Q}s(F,"_processNext");function V(G,Q){return G===void 0&&(G=null),W(G)&&(G=Ss(G,b.cfg,m,Q)),Es(G||D[di](),m,Q)}return s(V,"_createNew"),D[jn]=F,D[xs]=V,D}s(Es,"createProcessTelemetryUnloadContext");function Bo(h,m,x){var b=Cn(m.config),A=ba(h,b,m,x),D=A.ctx;function F(G){return D.iterate(function(Q){ze(Q[R1])&&Q[R1](D,G)})}s(F,"_processNext");function V(G,Q){return G===void 0&&(G=null),W(G)&&(G=Ss(G,b.cfg,m,Q)),Bo(G||D[di](),m,Q)}return s(V,"_createNew"),D[jn]=F,D[xs]=V,D}s(Bo,"createProcessTelemetryUpdateContext");function Ss(h,m,x,b){var A=null,D=!b;if(W(h)&&h[x0]>0){var F=null;Jt(h,function(V){if(!D&&b===V&&(D=!0),D&&V&&ze(V[zi])){var G=dm(V,m,x);A||(A=G),F&&F._setNext(G),F=G}})}return b&&!A?Ss([b],m,x):A}s(Ss,"createTelemetryProxyChain");function dm(h,m,x){var b=null,A=ze(h[zi]),D=ze(h[N1]),F;h?F=h[ca]+"-"+h[Df]+"-"+Or++:F="Unknown-0-"+Or++;var V={getPlugin:function(){return h},getNext:function(){return b},processTelemetry:ue,unload:Ne,update:Fe,_id:F,_setNext:function(ke){b=ke}};function G(){var ke;return h&&ze(h[Qf])&&(ke=h[Qf]()),ke||(ke=Ca(V,m,x)),ke}s(G,"_getTelCtx");function Q(ke,we,Ze,Ue,it){var Qe=!1,We=h?h[ca]:Yv,ft=ke[Lo];return ft||(ft=ke[Lo]={}),ke.setNext(b),h&&fm(ke[Br](),function(){return We+":"+Ze},function(){ft[F]=!0;try{var t0=b?b._id:L0;t0&&(ft[t0]=!1),Qe=we(ke)}catch(Ir){var Z0=b?ft[b._id]:!0;Z0&&(Qe=!0),(!b||!Z0)&&Ot(ke[No](),1,73,"Plugin ["+We+"] failed during "+Ze+" - "+Nt(Ir)+", run flags: "+Nt(ft))}},Ue,it),Qe}s(Q,"_processChain");function ue(ke,we){we=we||G();function Ze(Ue){if(!h||!A)return!1;var it=Sl(h);return it[Ro]||it[$n]?!1:(D&&h[N1](b),h[zi](ke,Ue),!0)}s(Ze,"_callProcessTelemetry"),Q(we,Ze,"processTelemetry",function(){return{item:ke}},!ke.sync)||we[jn](ke)}s(ue,"_processTelemetry");function Ne(ke,we){function Ze(){var Ue=!1;if(h){var it=Sl(h),Qe=h[Br]||it[Br];h&&(!Qe||Qe===ke.core())&&!it[Ro]&&(it[Br]=null,it[Ro]=!0,it[$s]=!1,h[Ro]&&h[Ro](ke,we)===!0&&(Ue=!0))}return Ue}s(Ze,"_callTeardown"),Q(ke,Ze,"unload",function(){},we[Ef])||ke[jn](we)}s(Ne,"_unloadPlugin");function Fe(ke,we){function Ze(){var Ue=!1;if(h){var it=Sl(h),Qe=h[Br]||it[Br];h&&(!Qe||Qe===ke.core())&&!it[Ro]&&h[R1]&&h[R1](ke,we)===!0&&(Ue=!0)}return Ue}s(Ze,"_callUpdate"),Q(ke,Ze,"update",function(){},!1)||ke[jn](we)}return s(Fe,"_updatePlugin"),Y(V)}s(dm,"createTelemetryPluginProxy");function q4(){var h=[];function m(b){b&&h[nr](b)}s(m,"_addHandler");function x(b,A){Jt(h,function(D){try{D(b,A)}catch(F){Ot(b[No](),2,73,"Unexpected error calling unload handler - "+Nt(F))}}),h=[]}return s(x,"_runHandlers"),{add:m,run:x}}s(q4,"createUnloadHandlerContainer");function hm(){var h=[];function m(b){var A=h;h=[],Jt(A,function(D){try{(D.rm||D.remove).call(D)}catch(F){Ot(b,2,73,"Unloading:"+Nt(F))}})}s(m,"_doUnload");function x(b){b&&ia(h,b)}return s(x,"_addHook"),{run:m,add:x}}s(hm,"createUnloadHookContainer");var j4,Ta="getPlugin",Xv=(j4={},j4[pl]={isVal:l4,v:{}},j4),$4=function(){function h(){var m=this,x,b,A,D,F;Q(),ui(h,m,function(ue){ue[w1]=function(Ne,Fe,ke,we){G(Ne,Fe,we),x=!0},ue[Ro]=function(Ne,Fe){var ke,we=ue[Br];if(!we||Ne&&we!==Ne[Br]())return;var Ze,Ue=!1,it=Ne||Es(null,we,A&&A[Ta]?A[Ta]():A),Qe=Fe||(ke={reason:0},ke[Ef]=!1,ke);function We(){Ue||(Ue=!0,D.run(it,Fe),F.run(it[No]()),Ze===!0&&it[jn](Qe),Q())}return s(We,"_unloadCallback"),!ue[Qd]||ue[Qd](it,Qe,We)!==!0?We():Ze=!0,Ze},ue[R1]=function(Ne,Fe){var ke=ue[Br];if(!ke||Ne&&ke!==Ne[Br]())return;var we,Ze=!1,Ue=Ne||Bo(null,ke,A&&A[Ta]?A[Ta]():A),it=Fe||{reason:0};function Qe(){Ze||(Ze=!0,G(Ue.getCfg(),Ue.core(),Ue[di]()))}return s(Qe,"_updateCallback"),!ue._doUpdate||ue._doUpdate(Ue,it,Qe)!==!0?Qe():we=!0,we},Lf(ue,"_addUnloadCb",function(){return D},"add"),Lf(ue,"_addHook",function(){return F},"add"),rr(ue,"_unloadHooks",{g:function(){return F}})}),m[No]=function(ue){return V(ue)[No]()},m[$s]=function(){return x},m.setInitialized=function(ue){x=ue},m[N1]=function(ue){A=ue},m[jn]=function(ue,Ne){Ne?Ne[jn](ue):A&&ze(A[zi])&&A[zi](ue,null)},m._getTelCtx=V;function V(ue){ue===void 0&&(ue=null);var Ne=ue;if(!Ne){var Fe=b||Ca(null,{},m[Br]);A&&A[Ta]?Ne=Fe[xs](null,A[Ta]):Ne=Fe[xs](null,A)}return Ne}s(V,"_getTelCtx");function G(ue,Ne,Fe){Cn(ue,Xv,J1(Ne)),!Fe&&Ne&&(Fe=Ne[X2]()[di]());var ke=A;A&&A[Ta]&&(ke=A[Ta]()),m[Br]=Ne,b=Ca(Fe,ue,Ne,ke)}s(G,"_setDefaults");function Q(){x=!1,m[Br]=null,b=null,A=null,F=hm(),D=q4()}s(Q,"_initDefaults")}return s(h,"BaseTelemetryPlugin"),h.__ieDyn=1,h}();function Jv(h,m,x){var b={id:m,fn:x};ia(h,b);var A={remove:function(){Jt(h,function(D,F){if(D.id===b.id)return h[cl](F,1),-1})}};return A}s(Jv,"_addInitializer");function Qv(h,m,x){for(var b=!1,A=h[x0],D=0;D<A;++D){var F=h[D];if(F)try{if(F.fn[bf](null,[m])===!1){b=!0;break}}catch(V){Ot(x,2,64,"Telemetry initializer failed: "+Vn(V),{exception:Nt(V)},!0)}}return!b}s(Qv,"_runInitializers");var Zv=function(h){b1(m,h);function m(){var x=h.call(this)||this;x.identifier="TelemetryInitializerPlugin",x.priority=199;var b,A;D(),ui(m,x,function(F,V){F.addTelemetryInitializer=function(G){return Jv(A,b++,G)},F[zi]=function(G,Q){Qv(A,G,Q?Q[No]():F[No]())&&F[jn](G,Q)},F[Qd]=function(){D()}});function D(){b=0,A=[]}return s(D,"_initDefaults"),x}return s(m,"TelemetryInitializerPlugin"),m.__ieDyn=1,m}($4),Ea,v="Plugins must provide initialize method",E="_notificationManager",w="SDK is still unloading...",R="SDK is not initialized",z=Xt((Ea={cookieCfg:{}},Ea[kf]={rdOnly:!0,ref:!0,v:[]},Ea[gl]={rdOnly:!0,ref:!0,v:[]},Ea[pl]={ref:!0,v:{}},Ea[n4]=Vi,Ea.loggingLevelConsole=0,Ea.diagnosticLogInterval=Vi,Ea));function ne(h,m){return new O4(m)}s(ne,"_createPerfManager");function me(h,m,x){var b,A=[],D=[],F={};return Jt(x,function(V){(le(V)||le(V[w1]))&&X0(v);var G=V[Df],Q=V[ca];V&&G&&(le(F[G])?F[G]=Q:Gf(h,"Two extensions have same priority #"+G+" - "+F[G]+", "+Q)),!G||G<m?A[nr](V):D[nr](V)}),b={},b[Br]=A,b[gl]=D,b}s(me,"_validateExtensions");function Se(h,m){var x=!1;return Jt(m,function(b){if(b===h)return x=!0,-1}),x}s(Se,"_isPluginPresent");function Le(h,m,x,b){x&&vt(x,function(A,D){b&&ci(D)&&ci(m[A])&&Le(h,m[A],D,b),b&&ci(D)&&ci(m[A])?Le(h,m[A],D,b):h.set(m,A,D)})}s(Le,"_deepMergeConfig");function Ge(h,m){var x=null,b=-1;return Jt(h,function(A,D){if(A.w===m)return x=A,b=D,-1}),{i:b,l:x}}s(Ge,"_findWatcher");function ht(h,m){var x=Ge(h,m).l;return x||(x={w:m,rm:function(){var b=Ge(h,m);b.i!==-1&&h[cl](b.i,1)}},h[nr](x)),x}s(ht,"_addDelayedCfgListener");function a0(h,m,x){Jt(m,function(b){var A=Vf(h,b.w,x);delete b.w,b.rm=function(){A.rm()}})}s(a0,"_registerDelayedCfgListener");var i0=function(){function h(){var m,x,b,A,D,F,V,G,Q,ue,Ne,Fe,ke,we,Ze,Ue,it,Qe,We,ft,t0,Z0,Ir,mr,wn,Qr,lh,ac;ui(h,this,function(pt){lc(),pt._getDbgPlgTargets=function(){return[Ir]},pt[$s]=function(){return x},pt[w1]=function(He,Ct,r0,Kt){ke&&X0(w),pt[$s]()&&X0("Core cannot be initialized more than once"),m=Cn(He,z,r0||pt[Lr],!1),He=m.cfg,Dl(m[Po](function(U0){t0=U0.cfg.instrumentationKey;var Zr=U0.ref(U0.cfg,pl);vt(Zr,function(mn){U0.ref(Zr,mn)}),le(t0)&&X0("Please provide instrumentation key")})),D=Kt,Rx(),Nx(),pt[Lr]=r0;var Gt=He[kf];if(ue=[],ue[nr].apply(ue,w6(w6([],Ct,!1),Gt)),Ne=He[gl],Xs(null),(!Fe||Fe[x0]===0)&&X0("No "+gl+" available"),Ne&&Ne[x0]>1){var fr=pt[I1]("TeeChannelController");(!fr||!fr.plugin)&&Ot(b,1,28,"TeeChannel required")}a0(He,Z0,b),Z0=null,x=!0,pt.releaseQueue(),pt[A6]()},pt.getChannels=function(){var He=[];return Fe&&Jt(Fe,function(Ct){He[nr](Ct)}),Y(He)},pt.track=function(He){fm(pt[M1](),function(){return"AppInsightsCore:track"},function(){He===null&&(ch(He),X0("Invalid telemetry item")),!He[ua]&&le(He[ua])&&(ch(He),X0("telemetry name required")),He.iKey=He.iKey||t0,He[Cf]=He[Cf]||U1(new Date),He.ver=He.ver||"4.0",!ke&&pt[$s]()?kl()[jn](He):A[nr](He)},function(){return{item:He}},!He.sync)},pt[X2]=kl,pt[$i]=function(){return D||(D=new $v(m.cfg),pt[E]=D),D},pt[A1]=function(He){pt[$i]()[A1](He)},pt[P1]=function(He){D&&D[P1](He)},pt.getCookieMgr=function(){return G||(G=k4(m.cfg,pt[Lr])),G},pt.setCookieMgr=function(He){G!==He&&(zf(G,!1),G=He)},pt[M1]=function(){return!F&&!V&&Dl(m[Po](function(He){if(He.cfg.enablePerfMgr){var Ct=He.cfg[n4];ze(Ct)&&(V=Ct(pt,pt[$i]()))}})),F||V||eu()},pt.setPerfMgr=function(He){F=He},pt.eventCnt=function(){return A[x0]},pt.releaseQueue=function(){if(x&&A[x0]>0){var He=A;A=[],Jt(He,function(Ct){kl()[jn](Ct)})}},pt[A6]=function(He){return Ze=He||null,ac=!1,Qr&&Qr[ul](),Uo(!0)};function Uo(He){if((!Qr||!Qr[dl])&&!ac){var Ct=He||b&&b.queue[x0]>0;Ct&&(lh||(lh=!0,Dl(m[Po](function(r0){var Kt=r0.cfg.diagnosticLogInterval;(!Kt||!(Kt>0))&&(Kt=1e4);var Gt=!1;Qr&&(Gt=Qr[dl],Qr[ul]()),Qr=C6(Cu,Kt),Qr.unref(),Qr[dl]=Gt}))),Qr[dl]=!0)}return Qr}s(Uo,"_startLogPoller"),pt[Tf]=function(){ac=!0,Qr&&Qr[ul](),Cu()},c4(pt,function(){return we},["addTelemetryInitializer"]),pt[Hi]=function(He,Ct,r0){var Kt;He===void 0&&(He=!0),x||X0(R),ke&&X0(w);var Gt=(Kt={reason:50},Kt[Ef]=He,Kt.flushComplete=!1,Kt),fr;He&&!Ct&&(fr=Nf(function(mn){Ct=mn}));var U0=Es(rt(),pt);U0[Xd](function(){Qe.run(pt[Lr]),X6([G,D,b],He,function(){lc(),Ct&&Ct(Gt)})},pt);function Zr(mn){Gt.flushComplete=mn,ke=!0,it.run(U0,Gt),pt[Tf](),U0[jn](Gt)}return s(Zr,"_doUnload"),Cu(),fh(He,Zr,6,r0),fr},pt[I1]=D5,pt.addPlugin=function(He,Ct,r0,Kt){if(!He){Kt&&Kt(!1),Om(v);return}var Gt=D5(He[ca]);if(Gt&&!Ct){Kt&&Kt(!1),Om("Plugin ["+He[ca]+"] is already loaded!");return}var fr={reason:16};function U0(Yi){ue[nr](He),fr.added=[He],Xs(fr),Kt&&Kt(!0)}if(s(U0,"_addPlugin"),Gt){var Zr=[Gt.plugin],mn={reason:2,isAsync:!!r0};Lm(Zr,mn,function(Yi){Yi?(fr.removed=Zr,fr.reason|=32,U0()):Kt&&Kt(!1)})}else U0()},pt.updateCfg=function(He,Ct){Ct===void 0&&(Ct=!0);var r0;if(pt[$s]()){r0={reason:1,cfg:m.cfg,oldCfg:v6({},m.cfg),newConfig:v6({},He),merge:Ct},He=r0.newConfig;var Kt=m.cfg;He[kf]=Kt[kf],He[gl]=Kt[gl]}m._block(function(Gt){var fr=Gt.cfg;Le(Gt,fr,He,Ct),Ct||vt(fr,function(U0){H(He,U0)||Gt.set(fr,U0,Vi)}),Gt[_f](fr,z)},!0),m[Yd](),r0&&Bm(r0)},pt.evtNamespace=function(){return Ue},pt.flush=fh,pt.getTraceCtx=function(He){return ft||(ft=Gv()),ft},pt.setTraceCtx=function(He){ft=He||null},pt.addUnloadHook=Dl,Lf(pt,"addUnloadCb",function(){return it},"add"),pt.onCfgChange=function(He){var Ct;return x?Ct=Vf(m.cfg,He,pt[Lr]):Ct=ht(Z0,He),{rm:function(){Ct.rm()}}},pt.getWParam=function(){return k2()||m.cfg.enableWParam?0:-1};function bu(){var He={};mr=[];var Ct=s(function(r0){r0&&Jt(r0,function(Kt){if(Kt[ca]&&Kt[P6]&&!He[Kt.identifier]){var Gt=Kt[ca]+"="+Kt[P6];mr[nr](Gt),He[Kt.identifier]=Kt}})},"_addPluginVersions");Ct(Fe),Ne&&Jt(Ne,function(r0){Ct(r0)}),Ct(ue)}s(bu,"_setPluginVersions");function lc(){x=!1,m=Cn({},z,pt[Lr]),m.cfg[R6]=1,rr(pt,"config",{g:function(){return m.cfg},s:function(Ct){pt.updateCfg(Ct,!1)}}),rr(pt,"pluginVersionStringArr",{g:function(){return mr||bu(),mr}}),rr(pt,"pluginVersionString",{g:function(){return wn||(mr||bu(),wn=mr.join(";")),wn||L0}}),rr(pt,"logger",{g:function(){return b||(b=new y5(m.cfg),m[Lr]=b),b},s:function(Ct){m[Lr]=Ct,b!==Ct&&(zf(b,!1),b=Ct)}}),pt[Lr]=new y5(m.cfg),Ir=[];var He=pt.config[kf]||[];He.splice(0,He[x0]),ia(He,Ir),we=new Zv,A=[],zf(D,!1),D=null,F=null,V=null,zf(G,!1),G=null,Q=null,ue=[],Ne=null,Fe=null,ke=!1,Ze=null,Ue=Wi("AIBaseCore",!0),it=q4(),ft=null,t0=null,Qe=hm(),Z0=[],wn=null,mr=null,ac=!1}s(lc,"_initDefaults");function kl(){var He=Ca(rt(),m.cfg,pt);return He[Xd](Uo),He}s(kl,"_createTelCtx");function Xs(He){var Ct=me(pt[Lr],J6,ue);Q=null,wn=null,mr=null,Fe=(Ne||[])[0]||[],Fe=U4(ia(Fe,Ct[gl]));var r0=ia(U4(Ct[Br]),Fe);Ir=Y(r0);var Kt=pt.config[kf]||[];Kt.splice(0,Kt[x0]),ia(Kt,Ir);var Gt=kl();Fe&&Fe[x0]>0&&um(Gt[xs](Fe),r0),um(Gt,r0),He&&Bm(He)}s(Xs,"_initPluginChain");function D5(He){var Ct=null,r0=null,Kt=[];return Jt(Ir,function(Gt){if(Gt[ca]===He&&Gt!==we)return r0=Gt,-1;Gt.getChannel&&Kt[nr](Gt)}),!r0&&Kt[x0]>0&&Jt(Kt,function(Gt){if(r0=Gt.getChannel(He),!r0)return-1}),r0&&(Ct={plugin:r0,setEnabled:function(Gt){Sl(r0)[$n]=!Gt},isEnabled:function(){var Gt=Sl(r0);return!Gt[Ro]&&!Gt[$n]},remove:function(Gt,fr){var U0;Gt===void 0&&(Gt=!0);var Zr=[r0],mn=(U0={reason:1},U0[Ef]=Gt,U0);Lm(Zr,mn,function(Yi){Yi&&Xs({reason:32,removed:Zr}),fr&&fr(Yi)})}}),Ct}s(D5,"_getPlugin");function rt(){if(!Q){var He=(Ir||[]).slice();ji(He,we)===-1&&He[nr](we),Q=Ss(U4(He),m.cfg,pt)}return Q}s(rt,"_getPluginChain");function Lm(He,Ct,r0){if(He&&He[x0]>0){var Kt=Ss(He,m.cfg,pt),Gt=Es(Kt,pt);Gt[Xd](function(){var fr=!1,U0=[];Jt(ue,function(mn,Yi){Se(mn,He)?fr=!0:U0[nr](mn)}),ue=U0,wn=null,mr=null;var Zr=[];Ne&&(Jt(Ne,function(mn,Yi){var fc=[];Jt(mn,function(Fm){Se(Fm,He)?fr=!0:fc[nr](Fm)}),Zr[nr](fc)}),Ne=Zr),r0&&r0(fr),Uo()}),Gt[jn](Ct)}else r0(!1)}s(Lm,"_removePlugins");function Cu(){if(b&&b.queue){var He=b.queue.slice(0);b.queue[x0]=0,Jt(He,function(Ct){var r0,Kt=(r0={},r0[ua]=Ze||"InternalMessageId: "+Ct[Jd],r0.iKey=t0,r0[Cf]=U1(new Date),r0.baseType=Wf.dataType,r0.baseData={message:Ct[hl]},r0);pt.track(Kt)})}}s(Cu,"_flushInternalLogs");function fh(He,Ct,r0,Kt){var Gt=1,fr=!1,U0=null;Kt=Kt||5e3;function Zr(){Gt--,fr&&Gt===0&&(U0&&U0[ul](),U0=null,Ct&&Ct(fr),Ct=null)}if(s(Zr,"doCallback"),Fe&&Fe[x0]>0){var mn=kl()[xs](Fe);mn.iterate(function(Yi){if(Yi.flush){Gt++;var fc=!1;Yi.flush(He,function(){fc=!0,Zr()},r0)||fc||(He&&U0==null?U0=js(function(){U0=null,Zr()},Kt):Zr())}})}return fr=!0,Zr(),!0}s(fh,"_flushChannels");function Rx(){!D&&pt[$i](),Dl(m[Po](function(He){var Ct=He.cfg.disableDbgExt;Ct===!0&&We&&(D[P1](We),We=null),D&&!We&&Ct!==!0&&(We=Ov(He.cfg),D[A1](We))}))}s(Rx,"_initDebugListener");function Nx(){Dl(m[Po](function(He){var Ct=He.cfg.enablePerfMgr;!Ct&&V&&(V=null),Ct&&M6(He.cfg,n4,ne)}))}s(Nx,"_initPerfManager");function Bm(He){var Ct=Bo(rt(),pt);Ct[Xd](Uo),(!pt._updateHook||pt._updateHook(Ct,He)!==!0)&&Ct[jn](He)}s(Bm,"_doUpdate");function Om(He){var Ct=pt[Lr];Ct?(Ot(Ct,2,73,He),Uo()):X0(He)}s(Om,"_logOrThrowError");function ch(He){var Ct=pt[$i]();Ct&&Ct[ma]([He],2)}s(ch,"_notifyInvalidEvent");function Dl(He){Qe.add(He)}s(Dl,"_addUnloadHook")})}return s(h,"AppInsightsCore"),h.__ieDyn=1,h}(),Zt="on",At="attachEvent",_0="addEventListener",zt="detachEvent",M0="removeEventListener",m0="events";Wi("aiEvtPageHide"),Wi("aiEvtPageShow");var e0=/\.[\.]+/g,Sr=/[\.]+$/,Zf=1,Sa=Ws("events"),mm=/^([^.]*)(?:\.(.+)|)/;function H4(h){return h&&h[ml]?h[ml](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,L0):h}s(H4,"_normalizeNamespace");function V4(h,m){var x;if(m){var b=L0;W(m)?(b=L0,Jt(m,function(D){D=H4(D),D&&(D[0]!=="."&&(D="."+D),b+=D)})):b=H4(m),b&&(b[0]!=="."&&(b="."+b),h=(h||L0)+b)}var A=mm.exec(h||L0)||[];return x={},x[Hs]=A[1],x.ns=(A[2]||L0).replace(e0,".").replace(Sr,L0)[wf](".").sort().join("."),x}s(V4,"_getEvtNamespace");function gm(h,m,x){x===void 0&&(x=!0);var b=Sa.get(h,m0,{},x),A=b[m];return A||(A=b[m]=[]),A}s(gm,"_getRegisteredEvents");function C5(h,m,x,b){h&&m&&m[Hs]&&(h[M0]?h[M0](m[Hs],x,b):h[zt]&&h[zt](Zt+m[Hs],x))}s(C5,"_doDetach");function pm(h,m,x,b){var A=!1;return h&&m&&m[Hs]&&x&&(h[_0]?(h[_0](m[Hs],x,b),A=!0):h[At]&&(h[At](Zt+m[Hs],x),A=!0)),A}s(pm,"_doAttach");function z4(h,m,x,b){for(var A=m[x0];A--;){var D=m[A];D&&(!x.ns||x.ns===D.evtName.ns)&&(!b||b(D))&&(C5(h,D.evtName,D[J2],D.capture),m[cl](A,1))}}s(z4,"_doUnregister");function st(h,m,x){if(m[Hs])z4(h,gm(h,m[Hs]),m,x);else{var b=Sa.get(h,m0,{});vt(b,function(A,D){z4(h,D,m,x)}),dn(b)[x0]===0&&Sa.kill(h,m0)}}s(st,"_unregisterEvents");function kt(h,m){var x;return m?(W(m)?x=[h].concat(m):x=[h,m],x=V4("xx",x).ns[wf](".")):x=h,x}s(kt,"mergeEvtNamespace");function l0(h,m,x,b,A){var D;A===void 0&&(A=!1);var F=!1;if(h)try{var V=V4(m,b);if(F=pm(h,V,x,A),F&&Sa.accept(h)){var G=(D={guid:Zf++,evtName:V},D[J2]=x,D.capture=A,D);gm(h,V.type)[nr](G)}}catch{}return F}s(l0,"eventOn");function hr(h,m,x,b,A){if(A===void 0&&(A=!1),h)try{var D=V4(m,b),F=!1;st(h,D,function(V){return D.ns&&!x||V[J2]===x?(F=!0,!0):!1}),F||C5(h,D,x,A)}catch{}}s(hr,"eventOff");var zr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Fr="sampleRate",Mr="ProcessLegacy",wl="http.method",Oo="https://dc.services.visualstudio.com",Fo="/v2/track",wa="not_specified",ec=Y2({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),tu="split",B0="length",ym="toLowerCase",ru="ingestionendpoint",T5="toString",ex="push",pW="removeItem",tc="name",nu="message",yW="count",tx="stringify",rx="pathname",E5="exceptions",Mo="parsedStack",Ia="properties",Il="measurements",S5="sizeInBytes",Al="typeName",K4="severityLevel",nx="problemGroup",ix="isManual",$R="CreateFromInterface",w5="assembly",iu="fileName",vm="hasFullStack",xm="level",I5="method",W4="line",_m="duration",HR="receivedResponse";function VR(h,m,x){var b=m[B0],A=vW(h,m);if(A[B0]!==b){for(var D=0,F=A;x[F]!==void 0;)D++,F=U(A,0,147)+bW(D);A=F}return A}s(VR,"dataSanitizeKeyAndAddUniqueness");function vW(h,m){var x;return m&&(m=Vr(Wt(m)),m[B0]>150&&(x=U(m,0,150),Ot(h,2,57,"name is too long.  It has been truncated to 150 characters.",{name:m},!0))),x||m}s(vW,"dataSanitizeKey");function mi(h,m,x){x===void 0&&(x=1024);var b;return m&&(x=x||1024,m=Vr(Wt(m)),m[B0]>x&&(b=U(m,0,x),Ot(h,2,61,"string value is too long. It has been truncated to "+x+" characters.",{value:m},!0))),b||m}s(mi,"dataSanitizeString");function sx(h,m){return KR(h,m,2048,66)}s(sx,"dataSanitizeUrl");function zR(h,m){var x;return m&&m[B0]>32768&&(x=U(m,0,32768),Ot(h,2,56,"message is too long, it has been truncated to 32768 characters.",{message:m},!0)),x||m}s(zR,"dataSanitizeMessage");function xW(h,m){var x;if(m){var b=""+m;b[B0]>32768&&(x=U(b,0,32768),Ot(h,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:m},!0))}return x||m}s(xW,"dataSanitizeException");function su(h,m){if(m){var x={};vt(m,function(b,A){if(n0(A)&&Pi())try{A=zs()[tx](A)}catch(D){Ot(h,2,49,"custom property is not valid",{exception:D},!0)}A=mi(h,A,8192),b=VR(h,b,x),x[b]=A}),m=x}return m}s(su,"dataSanitizeProperties");function ou(h,m){if(m){var x={};vt(m,function(b,A){b=VR(h,b,x),x[b]=A}),m=x}return m}s(ou,"dataSanitizeMeasurements");function _W(h,m){return m&&KR(h,m,128,69)[T5]()}s(_W,"dataSanitizeId");function KR(h,m,x,b){var A;return m&&(m=Vr(Wt(m)),m[B0]>x&&(A=U(m,0,x),Ot(h,2,b,"input is too long, it has been truncated to "+x+" characters.",{data:m},!0))),A||m}s(KR,"dataSanitizeInput");function bW(h){var m="00"+h;return se(m,m[B0]-3)}s(bW,"dsPadNumber");var WR=sl()||{},GR=0,CW=[null,null,null,null,null];function TW(h){var m=GR,x=CW,b=x[m];return WR.createElement?x[m]||(b=x[m]=WR.createElement("a")):b={host:EW(h,!0)},b.href=h,m++,m>=x[B0]&&(m=0),GR=m,b}s(TW,"urlParseUrl");function EW(h,m){var x=SW(h,m)||"";if(x){var b=x.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[B0]>3&&dt(b[2])&&b[2][B0]>0)return b[2]+(b[3]||"")}return x}s(EW,"urlParseHost");function SW(h,m){var x=null;if(h){var b=h.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[B0]>2&&dt(b[2])&&b[2][B0]>0&&(x=b[2]||"",m&&b[B0]>2)){var A=(b[1]||"")[ym](),D=b[3]||"";(A==="http"&&D===":80"||A==="https"&&D===":443")&&(D=""),x+=D}}return x}s(SW,"urlParseFullHost");var wW=[Oo+Fo,"https://breeze.aimon.applicationinsights.io"+Fo,"https://dc-int.services.visualstudio.com"+Fo];function bm(h){return ji(wW,h[ym]())!==-1}s(bm,"isInternalApplicationInsightsEndpoint");function IW(h,m,x,b){var A,D=b,F=b;if(m&&m[B0]>0){var V=TW(m);if(A=V.host,!D)if(V[rx]!=null){var G=V.pathname[B0]===0?"/":V[rx];G.charAt(0)!=="/"&&(G="/"+G),F=V[rx],D=mi(h,x?x+" "+G:G)}else D=mi(h,m)}else A=b,D=b;return{target:A,name:D,data:F}}s(IW,"AjaxHelperParseDependencyPath");var ox=Wd({LocalStorage:0,SessionStorage:1}),G4=void 0,YR="";function XR(h){try{if(le(ms()))return null;var m=new Date()[T5](),x=Yr(h===ox.LocalStorage?"localStorage":"sessionStorage"),b=YR+m;x.setItem(b,m);var A=x.getItem(b)!==m;if(x[pW](b),!A)return x}catch{}return null}s(XR,"_getVerifiedStorageObject");function JR(){return QR()?XR(ox.SessionStorage):null}s(JR,"_getSessionStorageObject");function AW(h){YR=h||""}s(AW,"utlSetStoragePrefix");function QR(h){return(h||G4===void 0)&&(G4=!!XR(ox.SessionStorage)),G4}s(QR,"utlCanUseSessionStorage");function PW(h,m){var x=JR();if(x!==null)try{return x.getItem(m)}catch(b){G4=!1,Ot(h,2,2,"Browser failed read of session storage. "+Vn(b),{exception:Nt(b)})}return null}s(PW,"utlGetSessionStorage");function RW(h,m,x){var b=JR();if(b!==null)try{return b.setItem(m,x),!0}catch(A){G4=!1,Ot(h,2,4,"Browser failed write to session storage. "+Vn(A),{exception:Nt(A)})}return!1}s(RW,"utlSetSessionStorage");var NW=";",kW="=";function DW(h){if(!h)return{};var m=h[tu](NW),x=yv(m,function(A,D){var F=D[tu](kW);if(F[B0]===2){var V=F[0][ym](),G=F[1];A[V]=G}return A},{});if(dn(x)[B0]>0){if(x.endpointsuffix){var b=x.location?x.location+".":"";x[ru]=x[ru]||"https://"+b+"dc."+x.endpointsuffix}x[ru]=x[ru]||Oo,Bd(x[ru],"/")&&(x[ru]=x[ru].slice(0,-1))}return x}s(DW,"parseConnectionString");var LW=function(){function h(m,x,b){var A=this,D=this;D.ver=1,D.sampleRate=100,D.tags={},D[tc]=mi(m,b)||wa,D.data=x,D.time=U1(new Date),D.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return A.sampleRate===100?4:1},tags:1,data:1}}return s(h,"Envelope"),h}(),A5=function(){function h(m,x,b,A){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var D=this;D.ver=2,D[tc]=mi(m,x)||wa,D[Ia]=su(m,b),D[Il]=ou(m,A)}return s(h,"Event"),h.envelopeType="Microsoft.ApplicationInsights.{0}.Event",h.dataType="EventData",h}(),BW="<no_method>",P5="error",Gi="stack",ax="stackDetails",ZR="errorSrc",lx="message",eN="description";function fx(h,m){var x=h;return x&&!dt(x)&&(JSON&&JSON[tx]?(x=JSON[tx](h),m&&(!x||x==="{}")&&(ze(h[T5])?x=h[T5]():x=""+h)):x=""+h+" - (Missing JSON.stringify)"),x||""}s(fx,"_stringify");function tN(h,m){var x=h;return h&&(x&&!dt(x)&&(x=h[lx]||h[eN]||x),x&&!dt(x)&&(x=fx(x,!0)),h.filename&&(x=x+" @"+(h.filename||"")+":"+(h.lineno||"?")+":"+(h.colno||"?"))),m&&m!=="String"&&m!=="Object"&&m!=="Error"&&gf(x||"",m)===-1&&(x=m+": "+x),x||""}s(tN,"_formatMessage");function OW(h){try{if(n0(h))return"hasFullStack"in h&&"typeName"in h}catch{}return!1}s(OW,"_isExceptionDetailsInternal");function FW(h){try{if(n0(h))return"ver"in h&&"exceptions"in h&&"properties"in h}catch{}return!1}s(FW,"_isExceptionInternal");function rN(h){return h&&h.src&&dt(h.src)&&h.obj&&W(h.obj)}s(rN,"_isStackDetails");function au(h){var m=h||"";dt(m)||(dt(m[Gi])?m=m[Gi]:m=""+m);var x=m[tu](`
`);return{src:m,obj:x}}s(au,"_convertStackObj");function MW(h){for(var m=[],x=h[tu](`
`),b=0;b<x[B0];b++){var A=x[b];x[b+1]&&(A+="@"+x[b+1],b++),m[ex](A)}return{src:h,obj:m}}s(MW,"_getOperaStack");function nN(h){var m=null;if(h)try{if(h[Gi])m=au(h[Gi]);else if(h[P5]&&h[P5][Gi])m=au(h[P5][Gi]);else if(h.exception&&h.exception[Gi])m=au(h.exception[Gi]);else if(rN(h))m=h;else if(rN(h[ax]))m=h[ax];else if(Eo()&&Eo().opera&&h[lx])m=MW(h[nu]);else if(h.reason&&h.reason[Gi])m=au(h.reason[Gi]);else if(dt(h))m=au(h);else{var x=h[lx]||h[eN]||"";dt(h[ZR])&&(x&&(x+=`
`),x+=" from "+h[ZR]),x&&(m=au(x))}}catch(b){m=au(b)}return m||{src:"",obj:null}}s(nN,"_getStackFromErrorObj");function UW(h){var m="";return h&&(h.obj?Jt(h.obj,function(x){m+=x+`
`}):m=h.src||""),m}s(UW,"_formatStackTrace");function qW(h){var m,x=h.obj;if(x&&x[B0]>0){m=[];var b=0,A=0;Jt(x,function(we){var Ze=we[T5]();if(ux.regex.test(Ze)){var Ue=new ux(Ze,b++);A+=Ue[S5],m[ex](Ue)}});var D=32*1024;if(A>D)for(var F=0,V=m[B0]-1,G=0,Q=F,ue=V;F<V;){var Ne=m[F][S5],Fe=m[V][S5];if(G+=Ne+Fe,G>D){var ke=ue-Q+1;m.splice(Q,ke);break}Q=F,ue=V,F++,V--}}return m}s(qW,"_parseStack");function Cm(h){var m="";if(h&&(m=h.typeName||h[tc]||"",!m))try{var x=/function (.{1,200})\(/,b=x.exec(h.constructor[T5]());m=b&&b[B0]>1?b[1]:""}catch{}return m}s(Cm,"_getErrorType");function cx(h){if(h)try{if(!dt(h)){var m=Cm(h),x=fx(h,!1);return(!x||x==="{}")&&(h[P5]&&(h=h[P5],m=Cm(h)),x=fx(h,!0)),gf(x,m)!==0&&m!=="String"?m+":"+x:x}}catch{}return""+(h||"")}s(cx,"_formatErrorCode");var Tm=function(){function h(m,x,b,A,D,F){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var V=this;V.ver=2,FW(x)?(V[E5]=x[E5]||[],V[Ia]=x[Ia],V[Il]=x[Il],x[K4]&&(V[K4]=x[K4]),x.id&&(V.id=x.id,x[Ia].id=x.id),x[nx]&&(V[nx]=x[nx]),le(x[ix])||(V[ix]=x[ix])):(b||(b={}),F&&(b.id=F),V[E5]=[new iN(m,x,b)],V[Ia]=su(m,b),V[Il]=ou(m,A),D&&(V[K4]=D),F&&(V.id=F))}return s(h,"Exception"),h.CreateAutoException=function(m,x,b,A,D,F,V,G){var Q,ue=Cm(D||F||m);return Q={},Q[nu]=tN(m,ue),Q.url=x,Q.lineNumber=b,Q.columnNumber=A,Q.error=cx(D||F||m),Q.evt=cx(F||m),Q[Al]=ue,Q.stackDetails=nN(V||D||F),Q.errorSrc=G,Q},h.CreateFromInterface=function(m,x,b,A){var D=x[E5]&&i1(x[E5],function(V){return iN[$R](m,V)}),F=new h(m,fa(fa({},x),{exceptions:D}),b,A);return F},h.prototype.toInterface=function(){var m,x=this,b=x.exceptions,A=x.properties,D=x.measurements,F=x.severityLevel,V=x.problemGroup,G=x.id,Q=x.isManual,ue=b instanceof Array&&i1(b,function(Ne){return Ne.toInterface()})||void 0;return m={ver:"4.0"},m[E5]=ue,m.severityLevel=F,m.properties=A,m.measurements=D,m.problemGroup=V,m.id=G,m.isManual=Q,m},h.CreateSimpleException=function(m,x,b,A,D,F){var V;return{exceptions:[(V={},V[vm]=!0,V.message=m,V.stack=D,V.typeName=x,V)]}},h.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",h.dataType="ExceptionData",h.formatError=cx,h}(),iN=function(){function h(m,x,b){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var A=this;if(OW(x))A[Al]=x[Al],A[nu]=x[nu],A[Gi]=x[Gi],A[Mo]=x[Mo]||[],A[vm]=x[vm];else{var D=x,F=D&&D.evt;Ve(D)||(D=D[P5]||F||D),A[Al]=mi(m,Cm(D))||wa,A[nu]=zR(m,tN(x||D,A[Al]))||wa;var V=x[ax]||nN(x);A[Mo]=qW(V),W(A[Mo])&&i1(A[Mo],function(G){G[w5]=mi(m,G[w5]),G[iu]=mi(m,G[iu])}),A[Gi]=xW(m,UW(V)),A.hasFullStack=W(A.parsedStack)&&A.parsedStack[B0]>0,b&&(b[Al]=b[Al]||A[Al])}}return s(h,"_ExceptionDetails"),h.prototype.toInterface=function(){var m,x=this,b=x[Mo]instanceof Array&&i1(x[Mo],function(D){return D.toInterface()}),A=(m={id:x.id,outerId:x.outerId,typeName:x[Al],message:x[nu],hasFullStack:x[vm],stack:x[Gi]},m[Mo]=b||void 0,m);return A},h.CreateFromInterface=function(m,x){var b=x[Mo]instanceof Array&&i1(x[Mo],function(D){return ux[$R](D)})||x[Mo],A=new h(m,fa(fa({},x),{parsedStack:b}));return A},h}(),ux=function(){function h(m,x){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var b=this;if(b[S5]=0,typeof m=="string"){var A=m;b[xm]=x,b[I5]=BW,b[w5]=Vr(A),b[iu]="",b[W4]=0;var D=A.match(h.regex);D&&D[B0]>=5&&(b[I5]=Vr(D[2])||b[I5],b[iu]=Vr(D[4]),b[W4]=parseInt(D[5])||0)}else b[xm]=m[xm],b[I5]=m[I5],b[w5]=m[w5],b[iu]=m[iu],b[W4]=m[W4],b[S5]=0;b.sizeInBytes+=b.method[B0],b.sizeInBytes+=b.fileName[B0],b.sizeInBytes+=b.assembly[B0],b[S5]+=h.baseSize,b.sizeInBytes+=b.level.toString()[B0],b.sizeInBytes+=b.line.toString()[B0]}return s(h,"_StackFrame"),h.CreateFromInterface=function(m){return new h(m,null)},h.prototype.toInterface=function(){var m=this;return{level:m[xm],method:m[I5],assembly:m[w5],fileName:m[iu],line:m[W4]}},h.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,h.baseSize=58,h}(),jW=function(){function h(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(h,"DataPoint"),h}(),Y4=function(){function h(m,x,b,A,D,F,V,G,Q){this.aiDataContract={ver:1,metrics:1,properties:0};var ue=this;ue.ver=2;var Ne=new jW;Ne[yW]=A>0?A:void 0,Ne.max=isNaN(F)||F===null?void 0:F,Ne.min=isNaN(D)||D===null?void 0:D,Ne[tc]=mi(m,x)||wa,Ne.value=b,Ne.stdDev=isNaN(V)||V===null?void 0:V,ue.metrics=[Ne],ue[Ia]=su(m,G),ue[Il]=ou(m,Q)}return s(h,"Metric"),h.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",h.dataType="MetricData",h}(),X4="";function sN(h){(isNaN(h)||h<0)&&(h=0),h=Math.round(h);var m=X4+h%1e3,x=X4+Math.floor(h/1e3)%60,b=X4+Math.floor(h/(1e3*60))%60,A=X4+Math.floor(h/(1e3*60*60))%24,D=Math.floor(h/(1e3*60*60*24));return m=m[B0]===1?"00"+m:m[B0]===2?"0"+m:m,x=x[B0]<2?"0"+x:x,b=b[B0]<2?"0"+b:b,A=A[B0]<2?"0"+A:A,(D>0?D+".":X4)+A+":"+b+":"+x+"."+m}s(sN,"msToTimeSpan");var Em=function(){function h(m,x,b,A,D,F,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var G=this;G.ver=2,G.id=_W(m,V),G.url=sx(m,b),G[tc]=mi(m,x)||wa,isNaN(A)||(G[_m]=sN(A)),G[Ia]=su(m,D),G[Il]=ou(m,F)}return s(h,"PageView"),h.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",h.dataType="PageviewData",h}(),Sm=function(){function h(m,x,b,A,D,F,V,G,Q,ue,Ne,Fe){Q===void 0&&(Q="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var ke=this;ke.ver=2,ke.id=x,ke[_m]=sN(D),ke.success=F,ke.resultCode=V+"",ke.type=mi(m,Q);var we=IW(m,b,G,A);ke.data=sx(m,A)||we.data,ke.target=mi(m,we.target),ue&&(ke.target="".concat(ke.target," | ").concat(ue)),ke[tc]=mi(m,we[tc]),ke[Ia]=su(m,Ne),ke[Il]=ou(m,Fe)}return s(h,"RemoteDependencyData"),h.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",h.dataType="RemoteDependencyData",h}(),wm=function(){function h(m,x,b,A,D){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var F=this;F.ver=2,x=x||wa,F[nu]=zR(m,x),F[Ia]=su(m,A),F[Il]=ou(m,D),b&&(F[K4]=b)}return s(h,"Trace"),h.envelopeType="Microsoft.ApplicationInsights.{0}.Message",h.dataType="MessageData",h}(),Im=function(){function h(m,x,b,A,D,F,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var G=this;G.ver=2,G.url=sx(m,b),G[tc]=mi(m,x)||wa,G[Ia]=su(m,D),G[Il]=ou(m,F),V&&(G.domProcessing=V.domProcessing,G[_m]=V[_m],G.networkConnect=V.networkConnect,G.perfTotal=V.perfTotal,G[HR]=V[HR],G.sentRequest=V.sentRequest)}return s(h,"PageViewPerformance"),h.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",h.dataType="PageviewPerformanceData",h}(),lu=function(){function h(m,x){this.aiDataContract={baseType:1,baseData:1},this.baseType=m,this.baseData=x}return s(h,"Data"),h}(),$W=Wd({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function rc(h){var m="ai."+h+".";return function(x){return m+x}}s(rc,"_aiNameFunc");var J4=rc("application"),hn=rc("device"),Am=rc("location"),R5=rc("operation"),dx=rc("session"),nc=rc("user"),fu=rc("cloud"),Q4=rc("internal"),oN=function(h){b1(m,h);function m(){return h.call(this)||this}return s(m,"ContextTagKeys"),m}(Pv({applicationVersion:J4("ver"),applicationBuild:J4("build"),applicationTypeId:J4("typeId"),applicationId:J4("applicationId"),applicationLayer:J4("layer"),deviceId:hn("id"),deviceIp:hn("ip"),deviceLanguage:hn("language"),deviceLocale:hn("locale"),deviceModel:hn("model"),deviceFriendlyName:hn("friendlyName"),deviceNetwork:hn("network"),deviceNetworkName:hn("networkName"),deviceOEMName:hn("oemName"),deviceOS:hn("os"),deviceOSVersion:hn("osVersion"),deviceRoleInstance:hn("roleInstance"),deviceRoleName:hn("roleName"),deviceScreenResolution:hn("screenResolution"),deviceType:hn("type"),deviceMachineName:hn("machineName"),deviceVMName:hn("vmName"),deviceBrowser:hn("browser"),deviceBrowserVersion:hn("browserVersion"),locationIp:Am("ip"),locationCountry:Am("country"),locationProvince:Am("province"),locationCity:Am("city"),operationId:R5("id"),operationName:R5("name"),operationParentId:R5("parentId"),operationRootId:R5("rootId"),operationSyntheticSource:R5("syntheticSource"),operationCorrelationVector:R5("correlationVector"),sessionId:dx("id"),sessionIsFirst:dx("isFirst"),sessionIsNew:dx("isNew"),userAccountAcquisitionDate:nc("accountAcquisitionDate"),userAccountId:nc("accountId"),userAgent:nc("userAgent"),userId:nc("id"),userStoreRegion:nc("storeRegion"),userAuthUserId:nc("authUserId"),userAnonymousUserAcquisitionDate:nc("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:nc("authUserAcquisitionDate"),cloudName:fu("name"),cloudRole:fu("role"),cloudRoleVer:fu("roleVer"),cloudRoleInstance:fu("roleInstance"),cloudEnvironment:fu("environment"),cloudLocation:fu("location"),cloudDeploymentUnit:fu("deploymentUnit"),internalNodeName:Q4("nodeName"),internalSdkVersion:Q4("sdkVersion"),internalAgentVersion:Q4("agentVersion"),internalSnippet:Q4("snippet"),internalSdkSrc:Q4("sdkSrc")})),Kn=new oN;function aN(h,m){hr(h,null,null,m)}s(aN,"_disableEvents");function HW(h){var m=sl(),x=na(),b=!1,A=[],D=1;x&&!le(x.onLine)&&!x.onLine&&(D=2);var F=0,V=Fe(),G=kt(Wi("OfflineListener"),h);try{if(ue(Eo())&&(b=!0),m){var Q=m.body||m;Q.ononline&&ue(Q)&&(b=!0)}}catch{b=!1}function ue(We){var ft=!1;return We&&(ft=l0(We,"online",Ze,G),ft&&l0(We,"offline",Ue,G)),ft}s(ue,"_enableEvents");function Ne(){return V}s(Ne,"_isOnline");function Fe(){return!(F===2||D===2)}s(Fe,"calCurrentState");function ke(){var We=Fe();V!==We&&(V=We,Jt(A,function(ft){var t0={isOnline:V,rState:D,uState:F};try{ft(t0)}catch{}}))}s(ke,"listnerNoticeCheck");function we(We){F=We,ke()}s(we,"setOnlineState");function Ze(){D=1,ke()}s(Ze,"_setOnline");function Ue(){D=2,ke()}s(Ue,"_setOffline");function it(){var We=Eo();if(We&&b){if(aN(We,G),m){var ft=m.body||m;ve(ft.ononline)||aN(ft,G)}b=!1}}s(it,"_unload");function Qe(We){return A[ex](We),{rm:function(){var ft=A.indexOf(We);if(ft>-1)return A.splice(ft,1)}}}return s(Qe,"addListener"),{isOnline:Ne,isListening:function(){return b},unload:it,addListener:Qe,setOnlineState:we}}s(HW,"createOfflineListener");var VW="AppInsightsChannelPlugin",cu="duration",Wn="tags",hx="deviceType",Tn="data",Pl="name",Z4="traceID",b0="length",eh="stringify",uu="measurements",Aa="dataType",du="envelopeType",hu="toString",th="_get",mu="enqueue",gu="count",lN="eventsLimitInMem",N5="push",mx="emitLineDelimitedJson",pu="clear",gx="batchPayloads",px="createNew",k5="markAsSent",rh="clearSent",yx="bufferOverride",vx="BUFFER_KEY",ic="SENT_BUFFER_KEY",nh="concat",ih="MAX_BUFFER_SIZE",xx="sendPOST",sh="triggerSend",En="diagLog",oh="_sender",_x="customHeaders",fN="maxBatchSizeInBytes",bx="onunloadDisableBeacon",Cx="isBeaconApiDisabled",cN="alwaysUseXhrOverride",uN="enableSessionStorageBuffer",sc="_buffer",dN="onunloadDisableFetch",hN="disableSendBeaconSplit",mN="instrumentationKey",gN="unloadTransports",pN="convertUndefined",yN="maxBatchInterval",Pm="serialize",zW="_xhrReadyStateChange",yu="_onError",Tx="_onPartialSuccess",Rm="_onSuccess",Nm="itemsAccepted",KW="itemsReceived",Ex="baseType",km="sampleRate",ah="oriPayload",Sx="setRequestHeader",vN="eventsSendRequest",xN="getSamplingScore",WW="getHashCodeScore",wx="baseType",wr="baseData",Sn="properties",_N="true";function Jr(h,m,x){return ga(h,m,x,wt)}s(Jr,"_setValueIf");function GW(h,m,x){var b=x[Wn]=x[Wn]||{},A=m.ext=m.ext||{},D=m[Wn]=m[Wn]||[],F=A.user;F&&(Jr(b,Kn.userAuthUserId,F.authId),Jr(b,Kn.userId,F.id||F.localId));var V=A.app;V&&Jr(b,Kn.sessionId,V.sesId);var G=A.device;G&&(Jr(b,Kn.deviceId,G.id||G.localId),Jr(b,Kn[hx],G.deviceClass),Jr(b,Kn.deviceIp,G.ip),Jr(b,Kn.deviceModel,G.model),Jr(b,Kn[hx],G[hx]));var Q=m.ext.web;if(Q){Jr(b,Kn.deviceLanguage,Q.browserLang),Jr(b,Kn.deviceBrowserVersion,Q.browserVer),Jr(b,Kn.deviceBrowser,Q.browser);var ue=x[Tn]=x[Tn]||{},Ne=ue[wr]=ue[wr]||{},Fe=Ne[Sn]=Ne[Sn]||{};Jr(Fe,"domain",Q.domain),Jr(Fe,"isManual",Q.isManual?_N:null),Jr(Fe,"screenRes",Q.screenRes),Jr(Fe,"userConsent",Q.userConsent?_N:null)}var ke=A.os;ke&&Jr(b,Kn.deviceOS,ke[Pl]);var we=A.trace;we&&(Jr(b,Kn.operationParentId,we.parentID),Jr(b,Kn.operationName,mi(h,we[Pl])),Jr(b,Kn.operationId,we[Z4]));for(var Ze={},Ue=D[b0]-1;Ue>=0;Ue--){var it=D[Ue];vt(it,function(We,ft){Ze[We]=ft}),D.splice(Ue,1)}vt(D,function(We,ft){Ze[We]=ft});var Qe=fa(fa({},b),Ze);Qe[Kn.internalSdkVersion]||(Qe[Kn.internalSdkVersion]=mi(h,"javascript:".concat(YW.Version),64)),x[Wn]=q6(Qe)}s(GW,"_extractPartAExtensions");function oc(h,m,x){le(h)||vt(h,function(b,A){he(A)?x[b]=A:dt(A)?m[b]=A:Pi()&&(m[b]=zs()[eh](A))})}s(oc,"_extractPropsAndMeasurements");function vu(h,m){le(h)||vt(h,function(x,b){h[x]=b||m})}s(vu,"_convertPropsUndefinedToCustomDefinedValue");function xu(h,m,x,b){var A=new LW(h,b,m);Jr(A,"sampleRate",x[Fr]),(x[wr]||{}).startTime&&(A.time=U1(x[wr].startTime)),A.iKey=x.iKey;var D=x.iKey.replace(/-/g,"");return A[Pl]=A[Pl].replace("{0}",D),GW(h,x,A),x[Wn]=x[Wn]||[],q6(A)}s(xu,"_createEnvelope");function _u(h,m){le(m[wr])&&Ot(h,1,46,"telemetryItem.baseData cannot be null.")}s(_u,"EnvelopeCreatorInit");var YW={Version:"3.1.0"};function XW(h,m,x){_u(h,m);var b=m[wr][uu]||{},A=m[wr][Sn]||{};oc(m[Tn],A,b),le(x)||vu(A,x);var D=m[wr];if(le(D))return Gf(h,"Invalid input for dependency data"),null;var F=D[Sn]&&D[Sn][wl]?D[Sn][wl]:"GET",V=new Sm(h,D.id,D.target,D[Pl],D[cu],D.success,D.responseCode,F,D.type,D.correlationContext,A,b),G=new lu(Sm[Aa],V);return xu(h,Sm[du],m,G)}s(XW,"DependencyEnvelopeCreator");function bN(h,m,x){_u(h,m);var b={},A={};m[wx]!==A5[Aa]&&(b.baseTypeSource=m[wx]),m[wx]===A5[Aa]?(b=m[wr][Sn]||{},A=m[wr][uu]||{}):m[wr]&&oc(m[wr],b,A),oc(m[Tn],b,A),le(x)||vu(b,x);var D=m[wr][Pl],F=new A5(h,D,b,A),V=new lu(A5[Aa],F);return xu(h,A5[du],m,V)}s(bN,"EventEnvelopeCreator");function JW(h,m,x){_u(h,m);var b=m[wr][uu]||{},A=m[wr][Sn]||{};oc(m[Tn],A,b),le(x)||vu(A,x);var D=m[wr],F=Tm.CreateFromInterface(h,D,A,b),V=new lu(Tm[Aa],F);return xu(h,Tm[du],m,V)}s(JW,"ExceptionEnvelopeCreator");function QW(h,m,x){_u(h,m);var b=m[wr],A=b[Sn]||{},D=b[uu]||{};oc(m[Tn],A,D),le(x)||vu(A,x);var F=new Y4(h,b[Pl],b.average,b.sampleCount,b.min,b.max,b.stdDev,A,D),V=new lu(Y4[Aa],F);return xu(h,Y4[du],m,V)}s(QW,"MetricEnvelopeCreator");function ZW(h,m,x){_u(h,m);var b,A=m[wr];!le(A)&&!le(A[Sn])&&!le(A[Sn][cu])?(b=A[Sn][cu],delete A[Sn][cu]):!le(m[Tn])&&!le(m[Tn][cu])&&(b=m[Tn][cu],delete m[Tn][cu]);var D=m[wr],F;((m.ext||{}).trace||{})[Z4]&&(F=m.ext.trace[Z4]);var V=D.id||F,G=D[Pl],Q=D.uri,ue=D[Sn]||{},Ne=D[uu]||{};if(le(D.refUri)||(ue.refUri=D.refUri),le(D.pageType)||(ue.pageType=D.pageType),le(D.isLoggedIn)||(ue.isLoggedIn=D.isLoggedIn[hu]()),!le(D[Sn])){var Fe=D[Sn];vt(Fe,function(Ze,Ue){ue[Ze]=Ue})}oc(m[Tn],ue,Ne),le(x)||vu(ue,x);var ke=new Em(h,G,Q,b,ue,Ne,V),we=new lu(Em[Aa],ke);return xu(h,Em[du],m,we)}s(ZW,"PageViewEnvelopeCreator");function eG(h,m,x){_u(h,m);var b=m[wr],A=b[Pl],D=b.uri||b.url,F=b[Sn]||{},V=b[uu]||{};oc(m[Tn],F,V),le(x)||vu(F,x);var G=new Im(h,A,D,void 0,F,V,b),Q=new lu(Im[Aa],G);return xu(h,Im[du],m,Q)}s(eG,"PageViewPerformanceEnvelopeCreator");function tG(h,m,x){_u(h,m);var b=m[wr].message,A=m[wr].severityLevel,D=m[wr][Sn]||{},F=m[wr][uu]||{};oc(m[Tn],D,F),le(x)||vu(D,x);var V=new wm(h,b,A,D,F),G=new lu(wm[Aa],V);return xu(h,wm[du],m,G)}s(tG,"TraceEnvelopeCreator");var CN=function(){function h(m,x){var b=[],A=!1;this[th]=function(){return b},this._set=function(D){return b=D,b},ui(h,this,function(D){D[mu]=function(F){if(D[gu]()>=x[lN]){A||(Ot(m,2,105,"Maximum in-memory buffer size reached: "+D[gu](),!0),A=!0);return}b[N5](F)},D[gu]=function(){return b[b0]},D.size=function(){for(var F=b[b0],V=0;V<b[b0];V++)F+=b[V][b0];return x[mx]||(F+=2),F},D[pu]=function(){b=[],A=!1},D.getItems=function(){return b.slice(0)},D[gx]=function(F){if(F&&F[b0]>0){var V=x[mx]?F.join(`
`):"["+F.join(",")+"]";return V}return null},D[px]=function(F,V,G){var Q=b.slice(0);F=F||m,V=V||{};var ue=G?new TN(F,V):new Ix(F,V);return Jt(Q,function(Ne){ue[mu](Ne)}),ue}})}return s(h,"BaseSendBuffer"),h.__ieDyn=1,h}(),Ix=function(h){b1(m,h);function m(x,b){var A=h.call(this,x,b)||this;return ui(m,A,function(D,F){D[k5]=function(V){F[pu]()},D[rh]=function(V){}}),A}return s(m,"ArraySendBuffer"),m.__ieDyn=1,m}(CN),TN=function(h){b1(m,h);function m(x,b){var A=h.call(this,x,b)||this,D=!1,F=b==null?void 0:b.namePrefix,V=b[yx]||{getItem:PW,setItem:RW},G=V.getItem,Q=V.setItem;return ui(m,A,function(ue,Ne){var Fe=Ue(m[vx]),ke=Ue(m[ic]),we=ue._set(Fe[nh](ke));we[b0]>m[ih]&&(we[b0]=m[ih]),it(m[ic],[]),it(m[vx],we),ue[mu]=function(Qe){if(ue[gu]()>=m[ih]){D||(Ot(x,2,67,"Maximum buffer size reached: "+ue[gu](),!0),D=!0);return}Ne[mu](Qe),it(m.BUFFER_KEY,ue[th]())},ue[pu]=function(){Ne[pu](),it(m.BUFFER_KEY,ue[th]()),it(m[ic],[]),D=!1},ue[k5]=function(Qe){it(m[vx],ue._set(Ze(Qe,ue[th]())));var We=Ue(m[ic]);We instanceof Array&&Qe instanceof Array&&(We=We[nh](Qe),We[b0]>m[ih]&&(Ot(x,1,67,"Sent buffer reached its maximum size: "+We[b0],!0),We[b0]=m[ih]),it(m[ic],We))},ue[rh]=function(Qe){var We=Ue(m[ic]);We=Ze(Qe,We),it(m[ic],We)},ue[px]=function(Qe,We,ft){ft=!!ft;var t0=ue[th]().slice(0),Z0=Ue(m[ic]).slice(0);Qe=Qe||x,We=We||{},ue[pu]();var Ir=ft?new m(Qe,We):new Ix(Qe,We);return Jt(t0,function(mr){Ir[mu](mr)}),ft&&Ir[k5](Z0),Ir};function Ze(Qe,We){var ft=[];return Jt(We,function(t0){!ze(t0)&&ji(Qe,t0)===-1&&ft[N5](t0)}),ft}s(Ze,"_removePayloadsFromBuffer");function Ue(Qe){var We=Qe;try{We=F?F+"_"+We:We;var ft=G(x,We);if(ft){var t0=zs().parse(ft);if(dt(t0)&&(t0=zs().parse(t0)),t0&&W(t0))return t0}}catch(Z0){Ot(x,1,42," storage key: "+We+", "+Vn(Z0),{exception:Nt(Z0)})}return[]}s(Ue,"_getBuffer");function it(Qe,We){var ft=Qe;try{ft=F?F+"_"+ft:ft;var t0=JSON[eh](We);Q(x,ft,t0)}catch(Z0){Q(x,ft,JSON[eh]([])),Ot(x,2,41," storage key: "+ft+", "+Vn(Z0)+". Buffer cleared",{exception:Nt(Z0)})}}s(it,"_setBuffer")}),A}return s(m,"SessionStorageSendBuffer"),m.BUFFER_KEY="AI_buffer",m.SENT_BUFFER_KEY="AI_sentBuffer",m.MAX_BUFFER_SIZE=2e3,m}(CN),rG=function(){function h(m){ui(h,this,function(x){x[Pm]=function(F){var V=b(F,"root");try{return zs()[eh](V)}catch(G){Ot(m,1,48,G&&ze(G[hu])?G[hu]():"Error serializing object",null,!0)}};function b(F,V){var G="__aiCircularRefCheck",Q={};if(!F)return Ot(m,1,48,"cannot serialize object because it is null or undefined",{name:V},!0),Q;if(F[G])return Ot(m,2,50,"Circular reference detected while serializing object",{name:V},!0),Q;if(!F.aiDataContract){if(V==="measurements")Q=D(F,"number",V);else if(V==="properties")Q=D(F,"string",V);else if(V==="tags")Q=D(F,"string",V);else if(W(F))Q=A(F,V);else{Ot(m,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:V},!0);try{zs()[eh](F),Q=F}catch(ue){Ot(m,1,48,ue&&ze(ue[hu])?ue[hu]():"Error serializing object",null,!0)}}return Q}return F[G]=!0,vt(F.aiDataContract,function(ue,Ne){var Fe=ze(Ne)?Ne()&1:Ne&1,ke=ze(Ne)?Ne()&4:Ne&4,we=Ne&2,Ze=F[ue]!==void 0,Ue=n0(F[ue])&&F[ue]!==null;if(Fe&&!Ze&&!we)Ot(m,1,24,"Missing required field specification. The field is required but not present on source",{field:ue,name:V});else if(!ke){var it=void 0;Ue?we?it=A(F[ue],ue):it=b(F[ue],ue):it=F[ue],it!==void 0&&(Q[ue]=it)}}),delete F[G],Q}s(b,"_serializeObject");function A(F,V){var G;if(F)if(!W(F))Ot(m,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:V},!0);else{G=[];for(var Q=0;Q<F[b0];Q++){var ue=F[Q],Ne=b(ue,V+"["+Q+"]");G[N5](Ne)}}return G}s(A,"_serializeArray");function D(F,V,G){var Q;return F&&(Q={},vt(F,function(ue,Ne){if(V==="string")Ne===void 0?Q[ue]="undefined":Ne===null?Q[ue]="null":Ne[hu]?Q[ue]=Ne[hu]():Q[ue]="invalid field: toString() is not defined.";else if(V==="number")if(Ne===void 0)Q[ue]="undefined";else if(Ne===null)Q[ue]="null";else{var Fe=parseFloat(Ne);Q[ue]=Fe}else Q[ue]="invalid field: "+G+" is of unknown type.",Ot(m,1,Q[ue],null,!0)})),Q}s(D,"_serializeStringMap")})}return s(h,"Serializer"),h.__ieDyn=1,h}(),nG=8,iG=function(){function h(){}return s(h,"HashCodeScoreGenerator"),h.prototype.getHashCodeScore=function(m){var x=this.getHashCode(m)/h.INT_MAX_VALUE;return x*100},h.prototype.getHashCode=function(m){if(m==="")return 0;for(;m[b0]<nG;)m=m[nh](m);for(var x=5381,b=0;b<m[b0];++b)x=(x<<5)+x+m.charCodeAt(b),x=x&x;return Math.abs(x)},h.INT_MAX_VALUE=2147483647,h}(),sG=function(){function h(){var m=this,x=new iG,b=new oN;m[xN]=function(A){var D=0;return A[Wn]&&A[Wn][b.userId]?D=x.getHashCodeScore(A[Wn][b.userId]):A.ext&&A.ext.user&&A.ext.user.id?D=x[WW](A.ext.user.id):A[Wn]&&A[Wn][b.operationId]?D=x.getHashCodeScore(A[Wn][b.operationId]):A.ext&&A.ext.telemetryTrace&&A.ext.telemetryTrace[Z4]?D=x.getHashCodeScore(A.ext.telemetryTrace[Z4]):D=Math.random()*100,D}}return s(h,"SamplingScoreGenerator"),h}(),oG=function(){function h(m,x){this.INT_MAX_VALUE=2147483647;var b=x||J1(null);(m>100||m<0)&&(b.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:m},!0),m=100),this[km]=m,this.samplingScoreGenerator=new sG}return s(h,"Sample"),h.prototype.isSampledIn=function(m){var x=this[km],b=!1;return x==null||x>=100||m.baseType===Y4[Aa]?!0:(b=this.samplingScoreGenerator[xN](m)<x,b)},h}(),kr,Rl,Nl=void 0,EN="",aG=65e3;function Dm(h){try{return h.responseText}catch{}return null}s(Dm,"_getResponseText");function lG(h){return h&&h[xx]}s(lG,"isOverrideFn");function SN(h,m){return m&&(he(m)?h=[m][nh](h):W(m)&&(h=m[nh](h))),h}s(SN,"_prependTransports");var wN=Xt((kr={endpointUrl:G1(wt,Oo+Fo)},kr[mx]=Ys(),kr[yN]=15e3,kr[fN]=102400,kr.disableTelemetry=Ys(),kr[uN]=Ys(!0),kr.isRetryDisabled=Ys(),kr[Cx]=Ys(!0),kr[hN]=Ys(!0),kr.disableXhr=Ys(),kr[dN]=Ys(),kr[bx]=Ys(),kr[mN]=Nl,kr.namePrefix=Nl,kr.samplingPercentage=G1(fG,100),kr[_x]=Nl,kr[pN]=Nl,kr[lN]=1e4,kr[yx]=!1,kr.httpXHROverride={isVal:lG,v:Nl},kr[cN]=Ys(),kr.transports=Nl,kr));function fG(h){return!isNaN(h)&&h>0&&h<=100}s(fG,"_chkSampling");var cG=(Rl={},Rl[A5.dataType]=bN,Rl[wm.dataType]=tG,Rl[Em.dataType]=ZW,Rl[Im.dataType]=eG,Rl[Tm.dataType]=JW,Rl[Y4.dataType]=QW,Rl[Sm.dataType]=XW,Rl),IN=function(h){b1(m,h);function m(){var x=h.call(this)||this;x.priority=1001,x.identifier=VW;var b,A,D,F,V,G,Q,ue=0,Ne,Fe,ke,we,Ze,Ue,it,Qe,We,ft,t0,Z0,Ir,mr,wn,Qr,lh,ac,pt,Uo,bu,lc,kl,Xs,D5;return ui(m,x,function(rt,Lm){NN(),rt.pause=function(){Bx(),D=!0},rt.resume=function(){D&&(D=!1,A=null,Kt(),Lx())},rt.flush=function(xe,Be,gt){if(xe===void 0&&(xe=!0),!D){Bx();try{return rt[sh](xe,null,gt||1)}catch(xt){Ot(rt[En](),1,22,"flush failed, telemetry will not be collected: "+Vn(xt),{exception:Nt(xt)})}}},rt.onunloadFlush=function(){if(!D)if(it||Uo)try{return rt[sh](!0,Zr,2)}catch(xe){Ot(rt[En](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Vn(xe),{exception:Nt(xe)})}else rt.flush(!1)},rt.addHeader=function(xe,Be){Q[xe]=Be},rt.initialize=function(xe,Be,gt,xt){rt.isInitialized()&&Ot(rt[En](),1,28,"Sender is already initialized"),Lm.initialize(xe,Be,gt,xt);var It=rt.identifier;V=new rG(Be.logger),b=0,A=null,rt[oh]=null,G=0;var Dt=rt[En]();ke=kt(Wi("Sender"),Be.evtNamespace&&Be.evtNamespace()),Fe=HW(ke),rt._addHook(Vf(xe,function(g0){var p0=g0.cfg;p0.storagePrefix&&AW(p0.storagePrefix);var gi=Ca(null,p0,Be),Ut=gi.getExtCfg(It,wN);rr(rt,"_senderConfig",{g:function(){return Ut}}),Ze!==Ut.endpointUrl&&(we=Ze=Ut.endpointUrl),ft&&ft!==Ut[_x]&&Jt(ft,function(en){delete Q[en.header]}),Ue=Ut[fN],it=(Ut[bx]===!1||Ut[Cx]===!1)&&Ks(),Qe=Ut[bx]===!1&&Ks(),We=Ut[Cx]===!1&&Ks(),Uo=Ut[cN],bu=!!Ut.disableXhr;var qo=Ut[yx],Pa=!!Ut[uN]&&(!!qo||QR()),L5=Ut.namePrefix,Mm=Pa!==Qr||Pa&&ac!==L5||Pa&&lh!==qo;if(rt[sc]){if(Mm)try{rt._buffer=rt._buffer[px](Dt,Ut,Pa)}catch(en){Ot(rt[En](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Vn(en),{exception:Nt(en)})}Kt()}else rt[sc]=Pa?new TN(Dt,Ut):new Ix(Dt,Ut);ac=L5,Qr=Pa,lh=qo,lc=!Ut[dN]&&vl(!0),D5=!!Ut[hN],rt._sample=new oG(Ut.samplingPercentage,Dt),Z0=Ut[mN],vG(Z0,p0)||Ot(Dt,1,100,"Invalid Instrumentation key "+Z0),ft=Ut[_x],!bm(we)&&ft&&ft[b0]>0?Jt(ft,function(en){x.addHeader(en.header,en.value)}):ft=null,pt=Ut.enableSendPromise;var Ra=Ut.httpXHROverride,Tu=null,cc=null,pi=SN([3,1,2],Ut.transports);Tu=ch(pi,!1);var Js={sendPOST:fc};kl=s(function(en,Eu){return He(Js,en,Eu)},"_xhrSend"),Xs=s(function(en,Eu){return He(Js,en,Eu,!1)},"_fallbackSend"),Tu=Uo?Ra:Tu||Ra||Js,rt[oh]=function(en,Eu){return He(Tu,en,Eu)},lc&&(Ne=Fm);var uh=SN([3,1],Ut[gN]);lc||(uh=uh.filter(function(en){return en!==2})),cc=ch(uh,!0),cc=Uo?Ra:cc||Ra,(Uo||Ut[gN]||!Ne)&&cc&&(Ne=s(function(en,Eu){return He(cc,en,Eu)},"_syncUnloadSender")),Ne||(Ne=kl),t0=Ut.disableTelemetry,Ir=Ut[pN]||Nl,mr=Ut.isRetryDisabled,wn=Ut[yN]}))},rt.processTelemetry=function(xe,Be){Be=rt._getTelCtx(Be);var gt=Be[En]();try{var xt=Cu(xe,gt);if(!xt)return;var It=fh(xe,gt);if(!It)return;var Dt=V[Pm](It),g0=rt[sc];Kt(Dt),g0[mu](Dt),Lx()}catch(p0){Ot(gt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Vn(p0),{exception:Nt(p0)})}rt.processNext(xe,Be)},rt.isCompletelyIdle=function(){return!D&&ue===0&&rt._buffer[gu]()===0},rt[zW]=function(xe,Be,gt){xe.readyState===4&&Gt(xe.status,Be,xe.responseURL,gt,Ox(xe),Dm(xe)||xe.response)},rt[sh]=function(xe,Be,gt){xe===void 0&&(xe=!0);var xt;if(!D)try{var It=rt[sc];if(t0)It[pu]();else if(It[gu]()>0){var Dt=It.getItems();yG(gt||0,xe),Be?xt=Be.call(rt,Dt,xe):xt=rt[oh](Dt,xe)}Bx()}catch(p0){var g0=Ff();(!g0||g0>9)&&Ot(rt[En](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Vn(p0),{exception:Nt(p0)})}return xt},rt.getOfflineSupport=function(){var xe;return xe={getUrl:function(){return we},createPayload:Bm},xe[Pm]=Rx,xe.batch=Nx,xe.shouldProcess=function(Be){return!!Cu(Be)},xe},rt._doTeardown=function(xe,Be){rt.onunloadFlush(),zf(Fe,!1),NN()},rt[yu]=function(xe,Be,gt){Ot(rt[En](),2,26,"Failed to send telemetry.",{message:Be}),rt._buffer&&rt._buffer[rh](xe)},rt[Tx]=function(xe,Be){for(var gt=[],xt=[],It=Be.errors.reverse(),Dt=0,g0=It;Dt<g0.length;Dt++){var p0=g0[Dt],gi=xe.splice(p0.index,1)[0];PN(p0.statusCode)?xt[N5](gi):gt[N5](gi)}xe[b0]>0&&rt[Rm](xe,Be[Nm]),gt[b0]>0&&rt[yu](gt,Ox(null,["partial success",Be[Nm],"of",Be.itemsReceived].join(" "))),xt[b0]>0&&(Dx(xt),Ot(rt[En](),2,40,"Partial success. Delivered: "+xe[b0]+", Failed: "+gt[b0]+". Will retry to send "+xt[b0]+" our of "+Be[KW]+" items"))},rt[Rm]=function(xe,Be){rt._buffer&&rt._buffer[rh](xe)},rt._xdrOnLoad=function(xe,Be){var gt=Dm(xe);if(xe&&(gt+""=="200"||gt===""))b=0,rt[Rm](Be,0);else{var xt=kx(gt);xt&&xt.itemsReceived&&xt.itemsReceived>xt[Nm]&&!mr?rt[Tx](Be,xt):rt[yu](Be,RN(xe))}};function Cu(xe,Be){if(t0)return!1;if(!xe)return Be&&Ot(Be,1,7,"Cannot send empty telemetry"),!1;if(xe.baseData&&!xe[Ex])return Be&&Ot(Be,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(xe[Ex]||(xe[Ex]="EventData"),!rt[oh])return Be&&Ot(Be,1,28,"Sender was not initialized"),!1;if(Om(xe))xe[Fr]=rt._sample[km];else return Be&&Ot(Be,2,33,"Telemetry item was sampled out and not sent",{SampleRate:rt._sample[km]}),!1;return!0}s(Cu,"_validate");function fh(xe,Be){var gt=xe.iKey||Z0,xt=m.constructEnvelope(xe,gt,Be,Ir);if(!xt){Ot(Be,1,47,"Unable to create an AppInsights envelope");return}var It=!1;if(xe[Wn]&&xe[Wn][Mr]&&(Jt(xe[Wn][Mr],function(Dt){try{Dt&&Dt(xt)===!1&&(It=!0,Gf(Be,"Telemetry processor check returns false"))}catch(g0){Ot(Be,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Vn(g0),{exception:Nt(g0)},!0)}}),delete xe[Wn][Mr]),!It)return xt}s(fh,"_getEnvelope");function Rx(xe){var Be=EN,gt=rt[En]();try{var xt=Cu(xe,gt),It=null;xt&&(It=fh(xe,gt)),It&&(Be=V[Pm](It))}catch{}return Be}s(Rx,"_serialize");function Nx(xe){var Be=EN;return xe&&xe[b0]&&(Be="["+xe.join(",")+"]"),Be}s(Nx,"_batch");function Bm(xe){var Be,gt=Q;return bm(we)&&(gt[ec[6]]=ec[7]),Be={urlString:we},Be[Tn]=xe,Be.headers=gt,Be}s(Bm,"_createPayload");function Om(xe){return rt._sample.isSampledIn(xe)}s(Om,"_isSampledIn");function ch(xe,Be){for(var gt,xt=null,It=null,Dt=0;It==null&&Dt<xe[b0];)xt=xe[Dt],!bu&&xt===1?j1()?It=gG:l5()&&(It=fc):xt===2&&vl(Be)?It=r0:xt===3&&(Be?Qe:We)&&(It=Yi),Dt++;return It?(gt={},gt[xx]=It,gt):null}s(ch,"_getSenderInterface");function Dl(xe,Be,gt,xt){Be===200&&xe?rt._onSuccess(xe,xe[b0]):xt&&rt[yu](xe,xt)}s(Dl,"_getOnComplete");function He(xe,Be,gt,xt){xt===void 0&&(xt=!0);var It=s(function(p0,gi,Ut){return Dl(Be,p0,gi,Ut)},"onComplete"),Dt=Ct(Be),g0=xe&&xe[xx];return g0&&Dt?(xt&&rt._buffer[k5](Be),g0(Dt,It,!gt)):null}s(He,"_doSend");function Ct(xe){var Be;if(W(xe)&&xe[b0]>0){var gt=rt._buffer[gx](xe),xt=(Be={},Be[Tn]=gt,Be.urlString=we,Be.headers=Q,Be.disableXhrSync=bu,Be.disableFetchKeepAlive=!lc,Be[ah]=xe,Be);return xt}return null}s(Ct,"_getPayload");function r0(xe,Be,gt){return AN(xe,Be,!1)}s(r0,"_fetchSender");function Kt(xe){var Be=xe?xe[b0]:0;return rt[sc].size()+Be>Ue?((!Fe||Fe.isOnline())&&rt[sh](!0,null,10),!0):!1}s(Kt,"_checkMaxSize");function Gt(xe,Be,gt,xt,It,Dt){var g0=null;if(rt._appId||(g0=kx(Dt),g0&&g0.appId&&(rt._appId=g0.appId)),(xe<200||xe>=300)&&xe!==0){if((xe===301||xe===307||xe===308)&&!fr(gt)){rt[yu](Be,It);return}!mr&&PN(xe)?(Dx(Be),Ot(rt[En](),2,40,". Response code "+xe+". Will retry to send "+Be[b0]+" items.")):rt[yu](Be,It)}else if(Fe&&!Fe.isOnline()){if(!mr){var p0=10;Dx(Be,p0),Ot(rt[En](),2,40,". Offline - Response Code: ".concat(xe,". Offline status: ").concat(!Fe.isOnline(),". Will retry to send ").concat(Be.length," items."))}}else fr(gt),xe===206?(g0||(g0=kx(Dt)),g0&&!mr?rt[Tx](Be,g0):rt[yu](Be,It)):(b=0,rt[Rm](Be,xt))}s(Gt,"_checkResponsStatus");function fr(xe){return G>=10?!1:!le(xe)&&xe!==""&&xe!==we?(we=xe,++G,!0):!1}s(fr,"_checkAndUpdateEndPointUrl");function U0(xe,Be,gt,xt){try{xe(Be,gt,xt)}catch{}}s(U0,"_doOnComplete");function Zr(xe,Be){if(Ne)Ne(xe,!1);else{var gt=Ct(xe);rt._buffer[k5](xe),Yi(gt)}}s(Zr,"_doUnloadSend");function mn(xe,Be){var gt=na(),xt=we,It=rt[sc],Dt=It[gx](xe),g0=new Blob([Dt],{type:"text/plain;charset=UTF-8"}),p0=gt.sendBeacon(xt,g0);return p0&&rt._onSuccess(xe,xe[b0]),p0}s(mn,"_doBeaconSend");function Yi(xe,Be,gt){var xt=xe,It=xt&&xt[ah];if(W(It)&&It[b0]>0&&!mn(It))if(D5)Xs&&Xs(It,!0),Ot(rt[En](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var Dt=[],g0=0;g0<It[b0];g0++){var p0=It[g0];mn([p0])||Dt[N5](p0)}Dt[b0]>0&&(Xs&&Xs(Dt,!0),Ot(rt[En](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}s(Yi,"_beaconSender");function fc(xe,Be,gt){var xt=xe,It,Dt,g0,p0=new XMLHttpRequest,gi=we;try{p0[zr]=!0}catch{}return p0.open("POST",gi,!gt),p0[Sx]("Content-type","application/json"),bm(gi)&&p0[Sx](ec[6],ec[7]),Jt(dn(Q),function(Ut){p0[Sx](Ut,Q[Ut])}),p0.onreadystatechange=function(){var Ut=xt[ah];rt._xhrReadyStateChange(p0,Ut,Ut[b0]),p0.readyState===4&&Dt&&Dt(!0)},p0.onerror=function(Ut){U0(Be,400,{},Ox(p0)),g0&&g0(Ut)},!gt&&pt&&(It=Nf(function(Ut,qo){Dt=Ut,g0=qo})),p0.send(xe[Tn]),It}s(fc,"_xhrSender");function Fm(xe,Be){var gt=s(function(g0,p0,gi){return Dl(xe,g0,p0,gi)},"onComplete");if(W(xe)){for(var xt=xe[b0],It=0;It<xe[b0];It++)xt+=xe[It][b0];var Dt=Ct(xe);rt._buffer[k5](xe),ue+xt<=aG?AN(Dt,gt,!0):Ks()?Yi(Dt):(Xs&&Xs(xe,!0),Ot(rt[En](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}s(Fm,"_fetchKeepAliveSender");function AN(xe,Be,gt){var xt,It=we,Dt=xe,g0=Dt[Tn],p0=new Blob([g0],{type:"application/json"}),gi,Ut,qo,Pa=new Headers,L5=g0[b0],Mm=!1,Ra=!1;bm(It)&&Pa.append(ec[6],ec[7]),Jt(dn(Q),function(pi){Pa.append(pi,Q[pi])});var Tu=(xt={method:"POST",headers:Pa,body:p0},xt[zr]=!0,xt);gt&&(Tu.keepalive=!0,Mm=!0,ue+=L5);var cc=new Request(It,Tu);try{cc[zr]=!0}catch{}!gt&&pt&&(gi=Nf(function(pi,Js){Ut=pi,qo=Js}));try{t5(fetch(cc),function(pi){if(gt&&(ue-=L5,L5=0),!Ra)if(Ra=!0,pi.rejected)U0(Be,400,{},pi.reason&&pi.reason.message),qo&&qo(pi.reason);else{var Js=pi.value;Js.ok?t5(Js.text(),function(uh){var en=Dt[ah];Gt(Js.status,en,Js.url,en[b0],Js.statusText,uh.value||""),Ut&&Ut(!0)}):(U0(Be,400,{},Js.statusText),Ut&&Ut(!1))}})}catch(pi){Ra||(U0(Be,400,{},Nt(pi)),qo&&qo(pi))}return Mm&&!Ra&&(Ra=!0,U0(Be,200,{}),Ut&&Ut(!0)),gi}s(AN,"_doFetchSender");function kx(xe){try{if(xe&&xe!==""){var Be=zs().parse(xe);if(Be&&Be.itemsReceived&&Be.itemsReceived>=Be[Nm]&&Be.itemsReceived-Be.itemsAccepted===Be.errors[b0])return Be}}catch(gt){Ot(rt[En](),1,43,"Cannot parse the response. "+Vn(gt),{response:xe})}return null}s(kx,"_parseResponse");function Dx(xe,Be){if(Be===void 0&&(Be=1),!(!xe||xe[b0]===0)){var gt=rt[sc];gt[rh](xe),b++;for(var xt=0,It=xe;xt<It.length;xt++){var Dt=It[xt];gt[mu](Dt)}mG(Be),Lx()}}s(Dx,"_resendPayload");function mG(xe){var Be=10,gt;if(b<=1)gt=Be;else{var xt=(Math.pow(2,b)-1)/2,It=Math.floor(Math.random()*xt*Be)+1;It=xe*It,gt=Math.max(Math.min(It,3600),Be)}var Dt=sa()+gt*1e3;A=Dt}s(mG,"_setRetryTime");function Lx(){if(!F&&!D){var xe=A?Math.max(0,A-sa()):0,Be=Math.max(wn,xe);F=js(function(){F=null,rt[sh](!0,null,1)},Be)}}s(Lx,"_setupTimer");function Bx(){F&&F.cancel(),F=null,A=null}s(Bx,"_clearScheduledTimer");function PN(xe){return xe===401||xe===403||xe===408||xe===429||xe===500||xe===502||xe===503||xe===504}s(PN,"_isRetriable");function Ox(xe,Be){return xe?"XMLHttpRequest,Status:"+xe.status+",Response:"+Dm(xe)||xe.response||"":Be}s(Ox,"_formatErrorMessageXhr");function gG(xe,Be,gt){var xt=xe,It=Eo(),Dt=new XDomainRequest,g0=xt[Tn];Dt.onload=function(){var Ut=xt[ah];rt._xdrOnLoad(Dt,Ut)},Dt.onerror=function(){U0(Be,400,{},RN(Dt))};var p0=It&&It.location&&It.location.protocol||"";if(we.lastIndexOf(p0,0)!==0){Ot(rt[En](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),rt._buffer[pu]();return}var gi=we.replace(/^(https?:)/,"");Dt.open("POST",gi),Dt.send(g0)}s(gG,"_xdrSender");function RN(xe,Be){return xe?"XDomainRequest,Response:"+Dm(xe)||"":Be}s(RN,"_formatErrorMessageXdr");function pG(){var xe="getNotifyMgr";return rt.core[xe]?rt.core[xe]():rt.core._notificationManager}s(pG,"_getNotifyMgr");function yG(xe,Be){var gt=pG();if(gt&&gt[vN])try{gt[vN](xe,Be)}catch(xt){Ot(rt[En](),1,74,"send request notification failed: "+Vn(xt),{exception:Nt(xt)})}}s(yG,"_notifySendRequest");function vG(xe,Be){var gt=Be.disableInstrumentationKeyValidation,xt=le(gt)?!1:gt;if(xt)return!0;var It="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Dt=new RegExp(It);return Dt.test(xe)}s(vG,"_validateInstrumentationKey");function NN(){rt[oh]=null,rt[sc]=null,rt._appId=null,rt._sample=null,Q={},Fe=null,b=0,A=null,D=!1,F=null,V=null,G=0,ue=0,Ne=null,ke=null,we=null,Ze=null,Ue=0,it=!1,ft=null,t0=!1,Z0=null,Ir=Nl,mr=!1,Qr=null,ac=Nl,bu=!1,lc=!1,D5=!1,kl=null,Xs=null,rr(rt,"_senderConfig",{g:function(){return q1({},wN)}})}s(NN,"_initDefaults")}),x}return s(m,"Sender"),m.constructEnvelope=function(x,b,A,D){var F;b!==x.iKey&&!le(b)?F=fa(fa({},x),{iKey:b}):F=x;var V=cG[F.baseType]||bN;return V(A,F,D)},m}($4),Ax="instrumentationKey",Px="connectionString",uG={diagnosticLogInterval:G1(dG,1e4)};function dG(h){return h&&h>0}s(dG,"_chkDiagLevel");var hG=function(){function h(m){var x=new i0,b;(le(m)||le(m[Ax])&&le(m[Px]))&&X0("Invalid input configuration"),ui(h,this,function(D){rr(D,"config",{g:function(){return b}}),F(),D.initialize=F,D.track=A,c4(D,x,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function F(){var V=Cn(m||{},uG);b=V.cfg,x.addUnloadHook(Vf(V,function(){if(b[Px]){var G=DW(b[Px]),Q=G.ingestionendpoint;b.endpointUrl=Q?Q+Fo:b.endpointUrl,b[Ax]=G.instrumentationkey||b[Ax]}})),x.initialize(b,[new IN])}s(F,"_initialize")});function A(D){D&&(D.baseData=D.baseData||{},D.baseType=D.baseType||"EventData"),x.track(D)}s(A,"_track")}return s(h,"ApplicationInsights"),h.__ieDyn=1,h}();e.AppInsightsCore=i0,e.ApplicationInsights=hG,e.Sender=IN,e.SeverityLevel=$W,e.arrForEach=Jt,e.isNullOrUndefined=le,e.proxyFunctions=c4,e.throwError=X0})});var j$=ae(($pe,q$)=>{"use strict";q$.exports=M$;function M$(e,t,r){e instanceof RegExp&&(e=F$(e,r)),t instanceof RegExp&&(t=F$(t,r));var n=U$(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}s(M$,"balanced");function F$(e,t){var r=t.match(e);return r?r[0]:null}s(F$,"maybeMatch");M$.range=U$;function U$(e,t,r){var n,i,o,a,l,f=r.indexOf(e),c=r.indexOf(t,f+1),u=f;if(f>=0&&c>0){for(n=[],o=r.length;u>=0&&!l;)u==f?(n.push(u),f=r.indexOf(e,u+1)):n.length==1?l=[n.pop(),c]:(i=n.pop(),i<o&&(o=i,a=c),c=r.indexOf(t,u+1)),u=f<c&&f>=0?f:c;n.length&&(l=[o,a])}return l}s(U$,"range")});var Y$=ae((Vpe,G$)=>{var $$=j$();G$.exports=mne;var H$="\0SLASH"+Math.random()+"\0",V$="\0OPEN"+Math.random()+"\0",zI="\0CLOSE"+Math.random()+"\0",z$="\0COMMA"+Math.random()+"\0",K$="\0PERIOD"+Math.random()+"\0";function VI(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}s(VI,"numeric");function dne(e){return e.split("\\\\").join(H$).split("\\{").join(V$).split("\\}").join(zI).split("\\,").join(z$).split("\\.").join(K$)}s(dne,"escapeBraces");function hne(e){return e.split(H$).join("\\").split(V$).join("{").split(zI).join("}").split(z$).join(",").split(K$).join(".")}s(hne,"unescapeBraces");function W$(e){if(!e)return[""];var t=[],r=$$("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=W$(o);return o.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}s(W$,"parseCommaParts");function mne(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),O8(dne(e),!0).map(hne)):[]}s(mne,"expandTop");function gne(e){return"{"+e+"}"}s(gne,"embrace");function pne(e){return/^-?0\d/.test(e)}s(pne,"isPadded");function yne(e,t){return e<=t}s(yne,"lte");function vne(e,t){return e>=t}s(vne,"gte");function O8(e,t){var r=[],n=$$("{","}",e);if(!n)return[e];var i=n.pre,o=n.post.length?O8(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<o.length;a++){var l=i+"{"+n.body+"}"+o[a];r.push(l)}else{var f=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=f||c,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+zI+n.post,O8(e)):[e];var p;if(u)p=n.body.split(/\.\./);else if(p=W$(n.body),p.length===1&&(p=O8(p[0],!1).map(gne),p.length===1))return o.map(function(De){return n.pre+p[0]+De});var g;if(u){var y=VI(p[0]),_=VI(p[1]),S=Math.max(p[0].length,p[1].length),T=p.length==3?Math.abs(VI(p[2])):1,I=yne,P=_<y;P&&(T*=-1,I=vne);var M=p.some(pne);g=[];for(var N=y;I(N,_);N+=T){var L;if(c)L=String.fromCharCode(N),L==="\\"&&(L="");else if(L=String(N),M){var X=S-L.length;if(X>0){var te=new Array(X+1).join("0");N<0?L="-"+te+L.slice(1):L=te+L}}g.push(L)}}else{g=[];for(var Ce=0;Ce<p.length;Ce++)g.push.apply(g,O8(p[Ce],!1))}for(var Ce=0;Ce<g.length;Ce++)for(var a=0;a<o.length;a++){var l=i+g[Ce]+o[a];(!t||u||l)&&r.push(l)}}return r}s(O8,"expand")});var Yp=ae(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.ValuePointer=Fc.ValuePointerRootDeleteError=Fc.ValuePointerRootSetError=void 0;var iA=class iA extends Error{constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}};s(iA,"ValuePointerRootSetError");var Wp=iA;Fc.ValuePointerRootSetError=Wp;var sA=class sA extends Error{constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};s(sA,"ValuePointerRootDeleteError");var Gp=sA;Fc.ValuePointerRootDeleteError=Gp;var dH;(function(e){function t(l){return l.indexOf("~")===-1?l:l.replace(/~1/g,"/").replace(/~0/g,"~")}s(t,"Escape");function*r(l){if(l==="")return;let[f,c]=[0,0];for(let u=0;u<l.length;u++)l.charAt(u)==="/"?(u===0||(c=u,yield t(l.slice(f,c))),f=u+1):c=u;yield t(l.slice(f))}s(r,"Format"),e.Format=r;function n(l,f,c){if(f==="")throw new Wp(l,f,c);let[u,d,p]=[null,l,""];for(let g of r(f))d[g]===void 0&&(d[g]={}),u=d,d=d[g],p=g;u[p]=c}s(n,"Set"),e.Set=n;function i(l,f){if(f==="")throw new Gp(l,f);let[c,u,d]=[null,l,""];for(let p of r(f)){if(u[p]===void 0||u[p]===null)return;c=u,u=u[p],d=p}if(Array.isArray(c)){let p=parseInt(d);c.splice(p,1)}else delete c[d]}s(i,"Delete"),e.Delete=i;function o(l,f){if(f==="")return!0;let[c,u,d]=[null,l,""];for(let p of r(f)){if(u[p]===void 0)return!1;c=u,u=u[p],d=p}return Object.getOwnPropertyNames(c).includes(d)}s(o,"Has"),e.Has=o;function a(l,f){if(f==="")return l;let c=l;for(let u of r(f)){if(c[u]===void 0)return;c=c[u]}return c}s(a,"Get"),e.Get=a})(dH||(Fc.ValuePointer=dH={}))});var t2=ae(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.Clone=void 0;var j8=Ji();function nie(e){return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((r,n)=>({...r,[n]:oA(e[n])}),{})}s(nie,"ObjectType");function iie(e){return e.map(t=>oA(t))}s(iie,"ArrayType");function sie(e){return e.slice()}s(sie,"TypedArrayType");function oie(e){return new Date(e.toISOString())}s(oie,"DateType");function oA(e){if((0,j8.IsArray)(e))return iie(e);if((0,j8.IsDate)(e))return oie(e);if((0,j8.IsPlainObject)(e))return nie(e);if((0,j8.IsTypedArray)(e))return sie(e);if((0,j8.IsValueType)(e))return e;throw new Error("ValueClone: Unable to clone value")}s(oA,"Clone");Xp.Clone=oA});var uA=ae(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.Patch=Wr.Diff=Wr.ValueDeltaUnableToDiffUnknownValue=Wr.ValueDeltaObjectWithSymbolKeyError=Wr.Edit=Wr.Delete=Wr.Update=Wr.Insert=void 0;var Si=Ji(),ho=ws(),aA=Yp(),lA=t2();Wr.Insert=ho.Type.Object({type:ho.Type.Literal("insert"),path:ho.Type.String(),value:ho.Type.Unknown()});Wr.Update=ho.Type.Object({type:ho.Type.Literal("update"),path:ho.Type.String(),value:ho.Type.Unknown()});Wr.Delete=ho.Type.Object({type:ho.Type.Literal("delete"),path:ho.Type.String()});Wr.Edit=ho.Type.Union([Wr.Insert,Wr.Update,Wr.Delete]);var fA=class fA extends Error{constructor(t){super("Cannot diff objects with symbol keys"),this.key=t}};s(fA,"ValueDeltaObjectWithSymbolKeyError");var pd=fA;Wr.ValueDeltaObjectWithSymbolKeyError=pd;var cA=class cA extends Error{constructor(t){super("Unable to create diff edits for unknown value"),this.value=t}};s(cA,"ValueDeltaUnableToDiffUnknownValue");var Jp=cA;Wr.ValueDeltaUnableToDiffUnknownValue=Jp;function $8(e,t){return{type:"update",path:e,value:t}}s($8,"CreateUpdate");function hH(e,t){return{type:"insert",path:e,value:t}}s(hH,"CreateInsert");function mH(e){return{type:"delete",path:e}}s(mH,"CreateDelete");function*aie(e,t,r){if(!(0,Si.IsPlainObject)(r))return yield $8(e,r);let n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],i=[...Object.keys(r),...Object.getOwnPropertySymbols(r)];for(let o of n){if((0,Si.IsSymbol)(o))throw new pd(o);(0,Si.IsUndefined)(r[o])&&i.includes(o)&&(yield $8(`${e}/${String(o)}`,void 0))}for(let o of i)if(!((0,Si.IsUndefined)(t[o])||(0,Si.IsUndefined)(r[o]))){if((0,Si.IsSymbol)(o))throw new pd(o);yield*Qp(`${e}/${String(o)}`,t[o],r[o])}for(let o of i){if((0,Si.IsSymbol)(o))throw new pd(o);(0,Si.IsUndefined)(t[o])&&(yield hH(`${e}/${String(o)}`,r[o]))}for(let o of n.reverse()){if((0,Si.IsSymbol)(o))throw new pd(o);(0,Si.IsUndefined)(r[o])&&!i.includes(o)&&(yield mH(`${e}/${String(o)}`))}}s(aie,"ObjectType");function*lie(e,t,r){if(!(0,Si.IsArray)(r))return yield $8(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*Qp(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield hH(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield mH(`${e}/${n}`))}s(lie,"ArrayType");function*fie(e,t,r){if(!(0,Si.IsTypedArray)(r)||t.length!==r.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(r).constructor.name)return yield $8(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*Qp(`${e}/${n}`,t[n],r[n])}s(fie,"TypedArrayType");function*cie(e,t,r){t!==r&&(yield $8(e,r))}s(cie,"ValueType");function*Qp(e,t,r){if((0,Si.IsPlainObject)(t))return yield*aie(e,t,r);if((0,Si.IsArray)(t))return yield*lie(e,t,r);if((0,Si.IsTypedArray)(t))return yield*fie(e,t,r);if((0,Si.IsValueType)(t))return yield*cie(e,t,r);throw new Jp(t)}s(Qp,"Visit");function uie(e,t){return[...Qp("",e,t)]}s(uie,"Diff");Wr.Diff=uie;function die(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}s(die,"IsRootUpdate");function hie(e){return e.length===0}s(hie,"IsIdentity");function mie(e,t){if(die(t))return(0,lA.Clone)(t[0].value);if(hie(t))return(0,lA.Clone)(e);let r=(0,lA.Clone)(e);for(let n of t)switch(n.type){case"insert":{aA.ValuePointer.Set(r,n.path,n.value);break}case"update":{aA.ValuePointer.Set(r,n.path,n.value);break}case"delete":{aA.ValuePointer.Delete(r,n.path);break}}return r}s(mie,"Patch");Wr.Patch=mie});var pH=ae(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.Mutate=Mc.ValueMutateInvalidRootMutationError=Mc.ValueMutateTypeMismatchError=void 0;var Ds=Ji(),ty=Yp(),dA=t2(),mA=class mA extends Error{constructor(){super("Cannot assign due type mismatch of assignable values")}};s(mA,"ValueMutateTypeMismatchError");var Zp=mA;Mc.ValueMutateTypeMismatchError=Zp;var gA=class gA extends Error{constructor(){super("Only object and array types can be mutated at the root level")}};s(gA,"ValueMutateInvalidRootMutationError");var ey=gA;Mc.ValueMutateInvalidRootMutationError=ey;function gie(e,t,r,n){if(!(0,Ds.IsPlainObject)(r))ty.ValuePointer.Set(e,t,(0,dA.Clone)(n));else{let i=Object.keys(r),o=Object.keys(n);for(let a of i)o.includes(a)||delete r[a];for(let a of o)i.includes(a)||(r[a]=null);for(let a of o)hA(e,`${t}/${a}`,r[a],n[a])}}s(gie,"ObjectType");function pie(e,t,r,n){if(!(0,Ds.IsArray)(r))ty.ValuePointer.Set(e,t,(0,dA.Clone)(n));else{for(let i=0;i<n.length;i++)hA(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}s(pie,"ArrayType");function yie(e,t,r,n){if((0,Ds.IsTypedArray)(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else ty.ValuePointer.Set(e,t,(0,dA.Clone)(n))}s(yie,"TypedArrayType");function vie(e,t,r,n){r!==n&&ty.ValuePointer.Set(e,t,n)}s(vie,"ValueType");function hA(e,t,r,n){if((0,Ds.IsArray)(n))return pie(e,t,r,n);if((0,Ds.IsTypedArray)(n))return yie(e,t,r,n);if((0,Ds.IsPlainObject)(n))return gie(e,t,r,n);if((0,Ds.IsValueType)(n))return vie(e,t,r,n)}s(hA,"Visit");function gH(e){return(0,Ds.IsTypedArray)(e)||(0,Ds.IsValueType)(e)}s(gH,"IsNonMutableValue");function xie(e,t){return(0,Ds.IsPlainObject)(e)&&(0,Ds.IsArray)(t)||(0,Ds.IsArray)(e)&&(0,Ds.IsPlainObject)(t)}s(xie,"IsMismatchedValue");function _ie(e,t){if(gH(e)||gH(t))throw new ey;if(xie(e,t))throw new Zp;hA(e,"",e,t)}s(_ie,"Mutate");Mc.Mutate=_ie});var yH=ae(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0});ny.Equal=void 0;var nf=Ji();function bie(e,t){if(!(0,nf.IsPlainObject)(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>ry(e[i],t[i]))}s(bie,"ObjectType");function Cie(e,t){return(0,nf.IsDate)(t)&&e.getTime()===t.getTime()}s(Cie,"DateType");function Tie(e,t){return!(0,nf.IsArray)(t)||e.length!==t.length?!1:e.every((r,n)=>ry(r,t[n]))}s(Tie,"ArrayType");function Eie(e,t){return!(0,nf.IsTypedArray)(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>ry(r,t[n]))}s(Eie,"TypedArrayType");function Sie(e,t){return e===t}s(Sie,"ValueType");function ry(e,t){if((0,nf.IsPlainObject)(e))return bie(e,t);if((0,nf.IsDate)(e))return Cie(e,t);if((0,nf.IsTypedArray)(e))return Eie(e,t);if((0,nf.IsArray)(e))return Tie(e,t);if((0,nf.IsValueType)(e))return Sie(e,t);throw new Error("ValueEquals: Unable to compare value")}s(ry,"Equal");ny.Equal=ry});var CA=ae(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.Create=wi.ValueCreateRecursiveInstantiationError=wi.ValueCreateTempateLiteralTypeError=wi.ValueCreateIntersectTypeError=wi.ValueCreateNotTypeError=wi.ValueCreateNeverTypeError=wi.ValueCreateUnknownTypeError=void 0;var V0=Ji(),wie=z5(),xH=uc(),as=ws(),pA=class pA extends as.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(pA,"ValueCreateUnknownTypeError");var iy=pA;wi.ValueCreateUnknownTypeError=iy;var yA=class yA extends as.TypeBoxError{constructor(t){super("Never types cannot be created"),this.schema=t}};s(yA,"ValueCreateNeverTypeError");var sy=yA;wi.ValueCreateNeverTypeError=sy;var vA=class vA extends as.TypeBoxError{constructor(t){super("Not types must have a default value"),this.schema=t}};s(vA,"ValueCreateNotTypeError");var oy=vA;wi.ValueCreateNotTypeError=oy;var xA=class xA extends as.TypeBoxError{constructor(t){super("Intersect produced invalid value. Consider using a default value."),this.schema=t}};s(xA,"ValueCreateIntersectTypeError");var ay=xA;wi.ValueCreateIntersectTypeError=ay;var _A=class _A extends as.TypeBoxError{constructor(t){super("Can only create template literal values from patterns that produce finite sequences. Consider using a default value."),this.schema=t}};s(_A,"ValueCreateTempateLiteralTypeError");var ly=_A;wi.ValueCreateTempateLiteralTypeError=ly;var bA=class bA extends as.TypeBoxError{constructor(t,r){super("Value cannot be created as recursive type may produce value of infinite size. Consider using a default."),this.schema=t,this.recursiveMaxDepth=r}};s(bA,"ValueCreateRecursiveInstantiationError");var fy=bA;wi.ValueCreateRecursiveInstantiationError=fy;function Iie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:{}}s(Iie,"TAny");function Aie(e,t){if(e.uniqueItems===!0&&!(0,V0.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the uniqueItems constraint requires a default value");if("contains"in e&&!(0,V0.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the contains constraint requires a default value");return"default"in e?e.default:e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>Ls(e.items,t)):[]}s(Aie,"TArray");function Pie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:async function*(){}()}s(Pie,"TAsyncIterator");function Rie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:BigInt(0)}s(Rie,"TBigInt");function Nie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:!1}s(Nie,"TBoolean");function kie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;{let r=Ls(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let o=this;o[n]=i}}}:class{}}}s(kie,"TConstructor");function Die(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}s(Die,"TDate");function Lie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:()=>Ls(e.returns,t)}s(Lie,"TFunction");function Bie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}s(Bie,"TInteger");function Oie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;{let r=e.allOf.reduce((n,i)=>{let o=Ls(i,t);return typeof o=="object"?{...n,...o}:o},{});if(!(0,wie.Check)(e,t,r))throw new ay(e);return r}}s(Oie,"TIntersect");function Fie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:function*(){}()}s(Fie,"TIterator");function Mie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.const}s(Mie,"TLiteral");function Uie(e,t){throw new sy(e)}s(Uie,"TNever");function qie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;throw new oy(e)}s(qie,"TNot");function jie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:null}s(jie,"TNull");function $ie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}s($ie,"TNumber");function Hie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;{let r=new Set(e.required);return e.default||Object.entries(e.properties).reduce((n,[i,o])=>r.has(i)?{...n,[i]:Ls(o,t)}:{...n},{})}}s(Hie,"TObject");function Vie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:Promise.resolve(Ls(e.item,t))}s(Vie,"TPromise");function zie(e,t){let[r,n]=Object.entries(e.patternProperties)[0];return(0,V0.HasPropertyKey)(e,"default")?e.default:r===as.PatternStringExact||r===as.PatternNumberExact?{}:r.slice(1,r.length-1).split("|").reduce((o,a)=>({...o,[a]:Ls(n,t)}),{})}s(zie,"TRecord");function Kie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:Ls((0,xH.Deref)(e,t),t)}s(Kie,"TRef");function Wie(e,t){if(e.pattern!==void 0){if((0,V0.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with patterns must specify a default value")}else if(e.format!==void 0){if((0,V0.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with formats must specify a default value")}else return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>".").join(""):""}s(Wie,"TString");function Gie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:"value"in e?Symbol.for(e.value):Symbol()}s(Gie,"TSymbol");function Yie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;let r=as.TemplateLiteralParser.ParseExact(e.pattern);if(!as.TemplateLiteralFinite.Check(r))throw new ly(e);return as.TemplateLiteralGenerator.Generate(r).next().value}s(Yie,"TTemplateLiteral");function Xie(e,t){if(_H++>vH)throw new fy(e,vH);return(0,V0.HasPropertyKey)(e,"default")?e.default:Ls((0,xH.Deref)(e,t),t)}s(Xie,"TThis");function Jie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>Ls(e.items[n],t))}s(Jie,"TTuple");function Qie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default}s(Qie,"TUndefined");function Zie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return Ls(e.anyOf[0],t)}s(Zie,"TUnion");function ese(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}s(ese,"TUint8Array");function tse(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:{}}s(tse,"TUnknown");function rse(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default}s(rse,"TVoid");function nse(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;throw new Error("User defined types must specify a default value")}s(nse,"TKind");function Ls(e,t){let r=(0,V0.IsString)(e.$id)?[...t,e]:t,n=e;switch(n[as.Kind]){case"Any":return Iie(n,r);case"Array":return Aie(n,r);case"AsyncIterator":return Pie(n,r);case"BigInt":return Rie(n,r);case"Boolean":return Nie(n,r);case"Constructor":return kie(n,r);case"Date":return Die(n,r);case"Function":return Lie(n,r);case"Integer":return Bie(n,r);case"Intersect":return Oie(n,r);case"Iterator":return Fie(n,r);case"Literal":return Mie(n,r);case"Never":return Uie(n,r);case"Not":return qie(n,r);case"Null":return jie(n,r);case"Number":return $ie(n,r);case"Object":return Hie(n,r);case"Promise":return Vie(n,r);case"Record":return zie(n,r);case"Ref":return Kie(n,r);case"String":return Wie(n,r);case"Symbol":return Gie(n,r);case"TemplateLiteral":return Yie(n,r);case"This":return Xie(n,r);case"Tuple":return Jie(n,r);case"Undefined":return Qie(n,r);case"Union":return Zie(n,r);case"Uint8Array":return ese(n,r);case"Unknown":return tse(n,r);case"Void":return rse(n,r);default:if(!as.TypeRegistry.Has(n[as.Kind]))throw new iy(n);return nse(n,r)}}s(Ls,"Visit");var vH=512,_H=0;function ise(...e){return _H=0,e.length===2?Ls(e[0],e[1]):Ls(e[0],[])}s(ise,"Create");wi.Create=ise});var EH=ae(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.Cast=Ii.Default=Ii.DefaultClone=Ii.ValueCastUnknownTypeError=Ii.ValueCastRecursiveTypeError=Ii.ValueCastNeverTypeError=Ii.ValueCastArrayUniqueItemsTypeError=void 0;var Uc=Ji(),of=CA(),mo=z5(),r2=t2(),bH=uc(),sf=ws(),wA=class wA extends sf.TypeBoxError{constructor(t,r){super("Array cast produced invalid data due to uniqueItems constraint"),this.schema=t,this.value=r}};s(wA,"ValueCastArrayUniqueItemsTypeError");var cy=wA;Ii.ValueCastArrayUniqueItemsTypeError=cy;var IA=class IA extends sf.TypeBoxError{constructor(t){super("Never types cannot be cast"),this.schema=t}};s(IA,"ValueCastNeverTypeError");var uy=IA;Ii.ValueCastNeverTypeError=uy;var AA=class AA extends sf.TypeBoxError{constructor(t){super("Cannot cast recursive schemas"),this.schema=t}};s(AA,"ValueCastRecursiveTypeError");var TA=AA;Ii.ValueCastRecursiveTypeError=TA;var PA=class PA extends sf.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(PA,"ValueCastUnknownTypeError");var dy=PA;Ii.ValueCastUnknownTypeError=dy;var EA;(function(e){function t(i,o,a){if(i[sf.Kind]==="Object"&&typeof a=="object"&&!(0,Uc.IsNull)(a)){let l=i,f=Object.getOwnPropertyNames(a),c=Object.entries(l.properties),[u,d]=[1/c.length,c.length];return c.reduce((p,[g,y])=>{let _=y[sf.Kind]==="Literal"&&y.const===a[g]?d:0,S=(0,mo.Check)(y,o,a[g])?u:0,T=f.includes(g)?u:0;return p+(_+S+T)},0)}else return(0,mo.Check)(i,o,a)?1:0}s(t,"Score");function r(i,o,a){let[l,f]=[i.anyOf[0],0];for(let c of i.anyOf){let u=t(c,o,a);u>f&&(l=c,f=u)}return l}s(r,"Select");function n(i,o,a){if("default"in i)return i.default;{let l=r(i,o,a);return TH(l,o,a)}}s(n,"Create"),e.Create=n})(EA||(EA={}));function CH(e,t,r){return(0,mo.Check)(e,t,r)?(0,r2.Clone)(r):(0,of.Create)(e,t)}s(CH,"DefaultClone");Ii.DefaultClone=CH;function SA(e,t,r){return(0,mo.Check)(e,t,r)?r:(0,of.Create)(e,t)}s(SA,"Default");Ii.Default=SA;function sse(e,t,r){if((0,mo.Check)(e,t,r))return(0,r2.Clone)(r);let n=(0,Uc.IsArray)(r)?(0,r2.Clone)(r):(0,of.Create)(e,t),i=(0,Uc.IsNumber)(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=((0,Uc.IsNumber)(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(f=>Va(e.items,t,f));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!(0,mo.Check)(e,t,l))throw new cy(e,l);return l}s(sse,"TArray");function ose(e,t,r){if((0,mo.Check)(e,t,r))return(0,of.Create)(e,t);let n=new Set(e.returns.required||[]),i=s(function(){},"result");for(let[o,a]of Object.entries(e.returns.properties))!n.has(o)&&r.prototype[o]===void 0||(i.prototype[o]=Va(a,t,r.prototype[o]));return i}s(ose,"TConstructor");function ase(e,t,r){let n=(0,of.Create)(e,t),i=(0,Uc.IsPlainObject)(n)&&(0,Uc.IsPlainObject)(r)?{...n,...r}:r;return(0,mo.Check)(e,t,i)?i:(0,of.Create)(e,t)}s(ase,"TIntersect");function lse(e,t,r){throw new uy(e)}s(lse,"TNever");function fse(e,t,r){if((0,mo.Check)(e,t,r))return r;if(r===null||typeof r!="object")return(0,of.Create)(e,t);let n=new Set(e.required||[]),i={};for(let[o,a]of Object.entries(e.properties))!n.has(o)&&r[o]===void 0||(i[o]=Va(a,t,r[o]));if(typeof e.additionalProperties=="object"){let o=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))o.includes(a)||(i[a]=Va(e.additionalProperties,t,r[a]))}return i}s(fse,"TObject");function cse(e,t,r){if((0,mo.Check)(e,t,r))return(0,r2.Clone)(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return(0,of.Create)(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],o={};for(let[a,l]of Object.entries(r))o[a]=Va(i,t,l);return o}s(cse,"TRecord");function use(e,t,r){return Va((0,bH.Deref)(e,t),t,r)}s(use,"TRef");function dse(e,t,r){return Va((0,bH.Deref)(e,t),t,r)}s(dse,"TThis");function hse(e,t,r){return(0,mo.Check)(e,t,r)?(0,r2.Clone)(r):(0,Uc.IsArray)(r)?e.items===void 0?[]:e.items.map((n,i)=>Va(n,t,r[i])):(0,of.Create)(e,t)}s(hse,"TTuple");function mse(e,t,r){return(0,mo.Check)(e,t,r)?(0,r2.Clone)(r):EA.Create(e,t,r)}s(mse,"TUnion");function Va(e,t,r){let n=(0,Uc.IsString)(e.$id)?[...t,e]:t,i=e;switch(e[sf.Kind]){case"Array":return sse(i,n,r);case"Constructor":return ose(i,n,r);case"Intersect":return ase(i,n,r);case"Never":return lse(i,n,r);case"Object":return fse(i,n,r);case"Record":return cse(i,n,r);case"Ref":return use(i,n,r);case"This":return dse(i,n,r);case"Tuple":return hse(i,n,r);case"Union":return mse(i,n,r);case"Date":case"Symbol":case"Uint8Array":return CH(e,t,r);case"Any":case"AsyncIterator":case"BigInt":case"Boolean":case"Function":case"Integer":case"Iterator":case"Literal":case"Not":case"Null":case"Number":case"Promise":case"String":case"TemplateLiteral":case"Undefined":case"Unknown":case"Void":return SA(i,n,r);default:if(!sf.TypeRegistry.Has(i[sf.Kind]))throw new dy(i);return SA(i,n,r)}}s(Va,"Visit");function TH(...e){return e.length===3?Va(e[0],e[1],e[2]):Va(e[0],[],e[1])}s(TH,"Cast");Ii.Cast=TH});var PH=ae(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.Convert=qc.Default=qc.ValueConvertUnknownTypeError=void 0;var ur=Ji(),gse=t2(),pse=z5(),SH=uc(),n2=ws(),RA=class RA extends n2.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(RA,"ValueConvertUnknownTypeError");var hy=RA;qc.ValueConvertUnknownTypeError=hy;function my(e){return(0,ur.IsString)(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}s(my,"IsStringNumeric");function yse(e){return(0,ur.IsBigInt)(e)||(0,ur.IsBoolean)(e)||(0,ur.IsNumber)(e)}s(yse,"IsValueToString");function H8(e){return e===!0||(0,ur.IsNumber)(e)&&e===1||(0,ur.IsBigInt)(e)&&e===BigInt("1")||(0,ur.IsString)(e)&&(e.toLowerCase()==="true"||e==="1")}s(H8,"IsValueTrue");function V8(e){return e===!1||(0,ur.IsNumber)(e)&&(e===0||Object.is(e,-0))||(0,ur.IsBigInt)(e)&&e===BigInt("0")||(0,ur.IsString)(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}s(V8,"IsValueFalse");function vse(e){return(0,ur.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}s(vse,"IsTimeStringWithTimeZone");function xse(e){return(0,ur.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}s(xse,"IsTimeStringWithoutTimeZone");function _se(e){return(0,ur.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}s(_se,"IsDateTimeStringWithTimeZone");function bse(e){return(0,ur.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}s(bse,"IsDateTimeStringWithoutTimeZone");function Cse(e){return(0,ur.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}s(Cse,"IsDateString");function Tse(e,t){let r=IH(e);return r===t?r:e}s(Tse,"TryConvertLiteralString");function Ese(e,t){let r=AH(e);return r===t?r:e}s(Ese,"TryConvertLiteralNumber");function Sse(e,t){let r=wH(e);return r===t?r:e}s(Sse,"TryConvertLiteralBoolean");function wse(e,t){return typeof e.const=="string"?Tse(t,e.const):typeof e.const=="number"?Ese(t,e.const):typeof e.const=="boolean"?Sse(t,e.const):(0,gse.Clone)(t)}s(wse,"TryConvertLiteral");function wH(e){return H8(e)?!0:V8(e)?!1:e}s(wH,"TryConvertBoolean");function Ise(e){return my(e)?BigInt(parseInt(e)):(0,ur.IsNumber)(e)?BigInt(e|0):V8(e)?BigInt(0):H8(e)?BigInt(1):e}s(Ise,"TryConvertBigInt");function IH(e){return yse(e)?e.toString():(0,ur.IsSymbol)(e)&&e.description!==void 0?e.description.toString():e}s(IH,"TryConvertString");function AH(e){return my(e)?parseFloat(e):H8(e)?1:V8(e)?0:e}s(AH,"TryConvertNumber");function Ase(e){return my(e)?parseInt(e):(0,ur.IsNumber)(e)?e|0:H8(e)?1:V8(e)?0:e}s(Ase,"TryConvertInteger");function Pse(e){return(0,ur.IsString)(e)&&e.toLowerCase()==="null"?null:e}s(Pse,"TryConvertNull");function Rse(e){return(0,ur.IsString)(e)&&e==="undefined"?void 0:e}s(Rse,"TryConvertUndefined");function Nse(e){return(0,ur.IsDate)(e)?e:(0,ur.IsNumber)(e)?new Date(e):H8(e)?new Date(1):V8(e)?new Date(0):my(e)?new Date(parseInt(e)):xse(e)?new Date(`1970-01-01T${e}.000Z`):vse(e)?new Date(`1970-01-01T${e}`):bse(e)?new Date(`${e}.000Z`):_se(e)?new Date(e):Cse(e)?new Date(`${e}T00:00:00.000Z`):e}s(Nse,"TryConvertDate");function kse(e){return e}s(kse,"Default");qc.Default=kse;function Dse(e,t,r){return(0,ur.IsArray)(r)?r.map(n=>Jo(e.items,t,n)):r}s(Dse,"TArray");function Lse(e,t,r){return Ise(r)}s(Lse,"TBigInt");function Bse(e,t,r){return wH(r)}s(Bse,"TBoolean");function Ose(e,t,r){return Nse(r)}s(Ose,"TDate");function Fse(e,t,r){return Ase(r)}s(Fse,"TInteger");function Mse(e,t,r){return e.allOf.every(n=>n2.TypeGuard.TObject(n))?Jo(n2.Type.Composite(e.allOf),t,r):Jo(e.allOf[0],t,r)}s(Mse,"TIntersect");function Use(e,t,r){return wse(e,r)}s(Use,"TLiteral");function qse(e,t,r){return Pse(r)}s(qse,"TNull");function jse(e,t,r){return AH(r)}s(jse,"TNumber");function $se(e,t,r){return(0,ur.IsObject)(r)?Object.getOwnPropertyNames(e.properties).reduce((n,i)=>r[i]!==void 0?{...n,[i]:Jo(e.properties[i],t,r[i])}:{...n},r):r}s($se,"TObject");function Hse(e,t,r){let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],o={};for(let[a,l]of Object.entries(r))o[a]=Jo(i,t,l);return o}s(Hse,"TRecord");function Vse(e,t,r){return Jo((0,SH.Deref)(e,t),t,r)}s(Vse,"TRef");function zse(e,t,r){return IH(r)}s(zse,"TString");function Kse(e,t,r){return(0,ur.IsString)(r)||(0,ur.IsNumber)(r)?Symbol(r):r}s(Kse,"TSymbol");function Wse(e,t,r){return Jo((0,SH.Deref)(e,t),t,r)}s(Wse,"TThis");function Gse(e,t,r){return(0,ur.IsArray)(r)&&!(0,ur.IsUndefined)(e.items)?r.map((n,i)=>i<e.items.length?Jo(e.items[i],t,n):n):r}s(Gse,"TTuple");function Yse(e,t,r){return Rse(r)}s(Yse,"TUndefined");function Xse(e,t,r){for(let n of e.anyOf){let i=Jo(n,t,r);if((0,pse.Check)(n,t,i))return i}return r}s(Xse,"TUnion");function Jo(e,t,r){let n=(0,ur.IsString)(e.$id)?[...t,e]:t,i=e;switch(e[n2.Kind]){case"Array":return Dse(i,n,r);case"BigInt":return Lse(i,n,r);case"Boolean":return Bse(i,n,r);case"Date":return Ose(i,n,r);case"Integer":return Fse(i,n,r);case"Intersect":return Mse(i,n,r);case"Literal":return Use(i,n,r);case"Null":return qse(i,n,r);case"Number":return jse(i,n,r);case"Object":return $se(i,n,r);case"Record":return Hse(i,n,r);case"Ref":return Vse(i,n,r);case"String":return zse(i,n,r);case"Symbol":return Kse(i,n,r);case"This":return Wse(i,n,r);case"Tuple":return Gse(i,n,r);case"Undefined":return Yse(i,n,r);case"Union":return Xse(i,n,r);case"Any":case"AsyncIterator":case"Constructor":case"Function":case"Iterator":case"Never":case"Promise":case"TemplateLiteral":case"Uint8Array":case"Unknown":case"Void":return r;default:if(!n2.TypeRegistry.Has(i[n2.Kind]))throw new hy(i);return r}}s(Jo,"Visit");function Jse(...e){return e.length===3?Jo(e[0],e[1],e[2]):Jo(e[0],[],e[1])}s(Jse,"Convert");qc.Convert=Jse});var FH=ae(py=>{"use strict";Object.defineProperty(py,"__esModule",{value:!0});py.Value=void 0;var RH=og(),Qse=pH(),Zse=ph(),eoe=yH(),NH=EH(),toe=t2(),kH=PH(),DH=CA(),LH=z5(),BH=uA(),gy=b_(),OH;(function(e){function t(...y){return NH.Cast.apply(NH,y)}s(t,"Cast"),e.Cast=t;function r(...y){return DH.Create.apply(DH,y)}s(r,"Create"),e.Create=r;function n(...y){return LH.Check.apply(LH,y)}s(n,"Check"),e.Check=n;function i(...y){return kH.Convert.apply(kH,y)}s(i,"Convert"),e.Convert=i;function o(y){return toe.Clone(y)}s(o,"Clone"),e.Clone=o;function a(...y){let[_,S,T]=y.length===3?[y[0],y[1],y[2]]:[y[0],[],y[1]];if(!n(_,S,T))throw new gy.TransformDecodeCheckError(_,T,f(_,S,T).First());return gy.DecodeTransform.Decode(_,S,T)}s(a,"Decode"),e.Decode=a;function l(...y){let[_,S,T]=y.length===3?[y[0],y[1],y[2]]:[y[0],[],y[1]],I=gy.EncodeTransform.Encode(_,S,T);if(!n(_,S,I))throw new gy.TransformEncodeCheckError(_,T,f(_,S,T).First());return I}s(l,"Encode"),e.Encode=l;function f(...y){return RH.Errors.apply(RH,y)}s(f,"Errors"),e.Errors=f;function c(y,_){return eoe.Equal(y,_)}s(c,"Equal"),e.Equal=c;function u(y,_){return BH.Diff(y,_)}s(u,"Diff"),e.Diff=u;function d(y){return Zse.Hash(y)}s(d,"Hash"),e.Hash=d;function p(y,_){return BH.Patch(y,_)}s(p,"Patch"),e.Patch=p;function g(y,_){Qse.Mutate(y,_)}s(g,"Mutate"),e.Mutate=g})(OH||(py.Value=OH={}))});var UH=ae(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.Value=Nn.ValuePointer=Nn.Delete=Nn.Update=Nn.Insert=Nn.Edit=Nn.ValueErrorIterator=Nn.ValueErrorType=void 0;var MH=og();Object.defineProperty(Nn,"ValueErrorType",{enumerable:!0,get:function(){return MH.ValueErrorType}});Object.defineProperty(Nn,"ValueErrorIterator",{enumerable:!0,get:function(){return MH.ValueErrorIterator}});var yy=uA();Object.defineProperty(Nn,"Edit",{enumerable:!0,get:function(){return yy.Edit}});Object.defineProperty(Nn,"Insert",{enumerable:!0,get:function(){return yy.Insert}});Object.defineProperty(Nn,"Update",{enumerable:!0,get:function(){return yy.Update}});Object.defineProperty(Nn,"Delete",{enumerable:!0,get:function(){return yy.Delete}});var roe=Yp();Object.defineProperty(Nn,"ValuePointer",{enumerable:!0,get:function(){return roe.ValuePointer}});var noe=FH();Object.defineProperty(Nn,"Value",{enumerable:!0,get:function(){return noe.Value}})});var v0=ae((ACe,iV)=>{iV.exports={options:{usePureJavaScript:!1}}});var aV=ae((PCe,oV)=>{var XA={};oV.exports=XA;var sV={};XA.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=_oe(e,t);else{var i=0,o=t.length,a=t.charAt(0),l=[0];for(i=0;i<e.length;++i){for(var f=0,c=e[i];f<l.length;++f)c+=l[f]<<8,l[f]=c%o,c=c/o|0;for(;c>0;)l.push(c%o),c=c/o|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=l.length-1;i>=0;--i)n+=t[l[i]]}if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join(`\r
`)}return n};XA.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=sV[t];if(!r){r=sV[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,o=t.charAt(0),a=[0],n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];if(l===void 0)return;for(var f=0,c=l;f<a.length;++f)c+=a[f]*i,a[f]=c&255,c>>=8;for(;c>0;)a.push(c&255),c>>=8}for(var u=0;e[u]===o&&u<e.length-1;++u)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function _oe(e,t){var r=0,n=t.length,i=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var a=0,l=e.at(r);a<o.length;++a)l+=o[a]<<8,o[a]=l%n,l=l/n|0;for(;l>0;)o.push(l%n),l=l/n|0}var f="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)f+=i;for(r=o.length-1;r>=0;--r)f+=t[o[r]];return f}s(_oe,"_encodeWithByteBuffer")});var G0=ae((NCe,uV)=>{var lV=v0(),fV=aV(),ge=uV.exports=lV.util=lV.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){ge.nextTick=process.nextTick,typeof setImmediate=="function"?ge.setImmediate=setImmediate:ge.setImmediate=ge.nextTick;return}if(typeof setImmediate=="function"){ge.setImmediate=function(){return setImmediate.apply(void 0,arguments)},ge.nextTick=function(l){return setImmediate(l)};return}if(ge.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(f){if(f.source===window&&f.data===e){f.stopPropagation();var c=t.slice();t.length=0,c.forEach(function(u){u()})}};var a=l;s(l,"handler");var e="forge.setImmediate",t=[];ge.setImmediate=function(f){t.push(f),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var f=t.slice();t.length=0,f.forEach(function(c){c()})}).observe(i,{attributes:!0});var o=ge.setImmediate;ge.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),o(f)):(t.push(f),t.length===1&&i.setAttribute("a",n=!n))}}ge.nextTick=ge.setImmediate})();ge.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;ge.globalScope=function(){return ge.isNodejs?global:typeof self>"u"?window:self}();ge.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};ge.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};ge.isArrayBufferView=function(e){return e&&ge.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function J8(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}s(J8,"_checkBitsParam");ge.ByteBuffer=JA;function JA(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(ge.isArrayBuffer(e)||ge.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof JA||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}s(JA,"ByteStringBuffer");ge.ByteStringBuffer=JA;var boe=4096;ge.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>boe&&(this.data.substr(0,1),this._constructedStringLength=0)};ge.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};ge.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};ge.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};ge.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};ge.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};ge.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(ge.encodeUtf8(e))};ge.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};ge.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};ge.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};ge.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};ge.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};ge.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};ge.ByteStringBuffer.prototype.putInt=function(e,t){J8(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};ge.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};ge.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};ge.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};ge.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};ge.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};ge.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};ge.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};ge.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};ge.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};ge.ByteStringBuffer.prototype.getInt=function(e){J8(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};ge.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};ge.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};ge.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};ge.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};ge.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};ge.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};ge.ByteStringBuffer.prototype.copy=function(){var e=ge.createBuffer(this.data);return e.read=this.read,e};ge.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};ge.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};ge.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};ge.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};ge.ByteStringBuffer.prototype.toString=function(){return ge.decodeUtf8(this.bytes())};function Coe(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=ge.isArrayBuffer(e),n=ge.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}s(Coe,"DataBuffer");ge.DataBuffer=Coe;ge.DataBuffer.prototype.length=function(){return this.write-this.read};ge.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};ge.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};ge.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};ge.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};ge.DataBuffer.prototype.putBytes=function(e,t){if(ge.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(ge.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof ge.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&ge.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof ge.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var o;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=ge.binary.hex.decode(e,o,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=ge.binary.base64.decode(e,o,this.write),this;if(t==="utf8"&&(e=ge.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=ge.binary.raw.decode(o),this;if(t==="utf16")return this.accommodate(e.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=ge.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};ge.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};ge.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};ge.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};ge.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};ge.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};ge.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};ge.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};ge.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};ge.DataBuffer.prototype.putInt=function(e,t){J8(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};ge.DataBuffer.prototype.putSignedInt=function(e,t){return J8(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};ge.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};ge.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};ge.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};ge.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};ge.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};ge.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};ge.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};ge.DataBuffer.prototype.getInt=function(e){J8(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};ge.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};ge.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};ge.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};ge.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};ge.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};ge.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};ge.DataBuffer.prototype.copy=function(){return new ge.DataBuffer(this)};ge.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};ge.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};ge.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};ge.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};ge.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return ge.binary.raw.encode(t);if(e==="hex")return ge.binary.hex.encode(t);if(e==="base64")return ge.binary.base64.encode(t);if(e==="utf8")return ge.text.utf8.decode(t);if(e==="utf16")return ge.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};ge.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=ge.encodeUtf8(e)),new ge.ByteBuffer(e)};ge.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};ge.xorBytes=function(e,t,r){for(var n="",i="",o="",a=0,l=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),l>=10&&(n+=o,o="",l=0),o+=String.fromCharCode(i),++l;return n+=o,n};ge.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};ge.bytesToHex=function(e){return ge.createBuffer(e).toHex()};ge.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var Hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Vc=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],cV="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ge.encode64=function(e,t){for(var r="",n="",i,o,a,l=0;l<e.length;)i=e.charCodeAt(l++),o=e.charCodeAt(l++),a=e.charCodeAt(l++),r+=Hc.charAt(i>>2),r+=Hc.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Hc.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":Hc.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};ge.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,o,a=0;a<e.length;)r=Vc[e.charCodeAt(a++)-43],n=Vc[e.charCodeAt(a++)-43],i=Vc[e.charCodeAt(a++)-43],o=Vc[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),o!==64&&(t+=String.fromCharCode((i&3)<<6|o)));return t};ge.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};ge.decodeUtf8=function(e){return decodeURIComponent(escape(e))};ge.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:fV.encode,decode:fV.decode}};ge.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};ge.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n};ge.binary.hex.encode=ge.bytesToHex;ge.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,o=r;for(e.length&1&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n};ge.binary.base64.encode=function(e,t){for(var r="",n="",i,o,a,l=0;l<e.byteLength;)i=e[l++],o=e[l++],a=e[l++],r+=Hc.charAt(i>>2),r+=Hc.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Hc.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":Hc.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};ge.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,a,l,f=0,c=r;f<e.length;)i=Vc[e.charCodeAt(f++)-43],o=Vc[e.charCodeAt(f++)-43],a=Vc[e.charCodeAt(f++)-43],l=Vc[e.charCodeAt(f++)-43],n[c++]=i<<2|o>>4,a!==64&&(n[c++]=(o&15)<<4|a>>2,l!==64&&(n[c++]=(a&3)<<6|l));return t?c-r:n.subarray(0,c)};ge.binary.base58.encode=function(e,t){return ge.binary.baseN.encode(e,cV,t)};ge.binary.base58.decode=function(e,t){return ge.binary.baseN.decode(e,cV,t)};ge.text={utf8:{},utf16:{}};ge.text.utf8.encode=function(e,t,r){e=ge.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n};ge.text.utf8.decode=function(e){return ge.decodeUtf8(String.fromCharCode.apply(null,e))};ge.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,a=r,l=0;l<e.length;++l)i[a++]=e.charCodeAt(l),o+=2;return t?o-r:n};ge.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};ge.deflate=function(e,t,r){if(t=ge.decode64(e.deflate(ge.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};ge.inflate=function(e,t,r){var n=e.inflate(ge.encode64(t)).rval;return n===null?null:ge.decode64(n)};var QA=s(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=ge.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),ZA=s(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(ge.decode64(r))),r},"_getStorageObject"),Toe=s(function(e,t,r,n){var i=ZA(e,t);i===null&&(i={}),i[r]=n,QA(e,t,i)},"_setItem"),Eoe=s(function(e,t,r){var n=ZA(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),Soe=s(function(e,t,r){var n=ZA(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),QA(e,t,n)}},"_removeItem"),woe=s(function(e,t){QA(e,t,null)},"_clearItems"),Sy=s(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,o=!1,a=null;for(var l in r){i=r[l];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),o=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),o=!0)}catch(f){a=f}if(o)break}if(!o)throw a;return n},"_callStorageFunction");ge.setItem=function(e,t,r,n,i){Sy(Toe,arguments,i)};ge.getItem=function(e,t,r,n){return Sy(Eoe,arguments,n)};ge.removeItem=function(e,t,r,n){Sy(Soe,arguments,n)};ge.clearItems=function(e,t,r){Sy(woe,arguments,r)};ge.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};ge.format=function(e){for(var t=/%./g,r,n,i=0,o=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&o.push(n),a=t.lastIndex;var l=r[0][1];switch(l){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+l+"?>")}}return o.push(e.substring(a)),o.join("")};ge.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,l=n===void 0?".":n,f=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",u=c.length>3?c.length%3:0;return f+(u?c.substr(0,u)+l:"")+c.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+l)+(o?a+Math.abs(i-c).toFixed(o).slice(2):"")};ge.formatSize=function(e){return e>=1073741824?e=ge.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=ge.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=ge.formatNumber(e/1024,0)+" KiB":e=ge.formatNumber(e,0)+" bytes",e};ge.bytesFromIP=function(e){return e.indexOf(".")!==-1?ge.bytesFromIPv4(e):e.indexOf(":")!==-1?ge.bytesFromIPv6(e):null};ge.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=ge.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};ge.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=ge.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var o=ge.hexToBytes(e[i]);o.length<2&&n.putByte(0),n.putBytes(o)}return n.getBytes()};ge.bytesToIP=function(e){return e.length===4?ge.bytesToIPv4(e):e.length===16?ge.bytesToIPv6(e):null};ge.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};ge.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var o=ge.bytesToHex(e[i]+e[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var a=r[r.length-1],l=t.length;!a||l!==a.end+1?r.push({start:l,end:l}):(a.end=l,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(o)}if(r.length>0){var f=r[n];f.end-f.start>0&&(t.splice(f.start,f.end-f.start+1,""),f.start===0&&t.unshift(""),f.end===7&&t.push(""))}return t.join(":")};ge.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in ge&&!e.update)return t(null,ge.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return ge.cores=navigator.hardwareConcurrency,t(null,ge.cores);if(typeof Worker>"u")return ge.cores=1,t(null,ge.cores);if(typeof Blob>"u")return ge.cores=2,t(null,ge.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var l=Date.now(),f=l+4;Date.now()<f;);self.postMessage({st:l,et:f})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,l,f){if(l===0){var c=Math.floor(a.reduce(function(u,d){return u+d},0)/a.length);return ge.cores=Math.max(1,c),URL.revokeObjectURL(r),t(null,ge.cores)}i(f,function(u,d){a.push(o(f,d)),n(a,l-1,f)})}s(n,"sample");function i(a,l){for(var f=[],c=[],u=0;u<a;++u){var d=new Worker(r);d.addEventListener("message",function(p){if(c.push(p.data),c.length===a){for(var g=0;g<a;++g)f[g].terminate();l(null,c)}}),f.push(d)}for(var u=0;u<a;++u)f[u].postMessage(u)}s(i,"map");function o(a,l){for(var f=[],c=0;c<a;++c)for(var u=l[c],d=f[c]=[],p=0;p<a;++p)if(c!==p){var g=l[p];(u.st>g.st&&u.st<g.et||g.st>u.st&&g.st<u.et)&&d.push(p)}return f.reduce(function(y,_){return Math.max(y,_.length)},0)}s(o,"reduce")}});var wy=ae((DCe,dV)=>{var Dn=v0();G0();dV.exports=Dn.cipher=Dn.cipher||{};Dn.cipher.algorithms=Dn.cipher.algorithms||{};Dn.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Dn.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Dn.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Dn.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Dn.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Dn.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Dn.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Dn.cipher.algorithms[e]=t};Dn.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Dn.cipher.algorithms?Dn.cipher.algorithms[e]:null};var eP=Dn.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};eP.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Dn.util.createBuffer(),this.output=e.output||Dn.util.createBuffer(),this.mode.start(t)};eP.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};eP.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var rP=ae((LCe,hV)=>{var Ln=v0();G0();Ln.cipher=Ln.cipher||{};var N0=hV.exports=Ln.cipher.modes=Ln.cipher.modes||{};N0.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};N0.ecb.prototype.start=function(e){};N0.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};N0.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};N0.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};N0.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};N0.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};N0.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Iy(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};N0.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};N0.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};N0.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};N0.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};N0.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Ln.util.createBuffer(),this._partialBytes=0};N0.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Iy(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};N0.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};N0.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};N0.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ln.util.createBuffer(),this._partialBytes=0};N0.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Iy(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};N0.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};N0.ofb.prototype.decrypt=N0.ofb.prototype.encrypt;N0.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ln.util.createBuffer(),this._partialBytes=0};N0.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Iy(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};N0.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Ay(this._inBlock)};N0.ctr.prototype.decrypt=N0.ctr.prototype.encrypt;N0.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Ln.util.createBuffer(),this._partialBytes=0,this._R=3774873600};N0.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Ln.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=Ln.util.createBuffer(e.additionalData):r=Ln.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Ln.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(tP(n*8)))}this._inBlock=this._j0.slice(0),Ay(this._inBlock),this._partialBytes=0,r=Ln.util.createBuffer(r),this._aDataLength=tP(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};N0.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Ay(this._inBlock)};N0.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Ay(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};N0.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Ln.util.createBuffer();var n=this._aDataLength.concat(tP(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};N0.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var o=e[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};N0.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};N0.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,o=this._m[r][i];t[0]^=o[0],t[1]^=o[1],t[2]^=o[2],t[3]^=o[3]}return t};N0.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};N0.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var l=[0,0,0,0],f=a/n|0,c=(n-1-a%n)*t;l[f]=1<<t-1<<c,o[a]=this.generateSubHashTable(this.multiply(l,e),t)}return o};N0.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var l=i[o],f=i[a];i[o+a]=[l[0]^f[0],l[1]^f[1],l[2]^f[2],l[3]^f[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var c=i[o^n];i[o]=[e[0]^c[0],e[1]^c[1],e[2]^c[2],e[3]^c[3]]}return i};function Iy(e,t){if(typeof e=="string"&&(e=Ln.util.createBuffer(e)),Ln.util.isArray(e)&&e.length>4){var r=e;e=Ln.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Ln.util.isArray(e)){for(var i=[],o=t/4,n=0;n<o;++n)i.push(e.getInt32());e=i}return e}s(Iy,"transformIV");function Ay(e){e[e.length-1]=e[e.length-1]+1&4294967295}s(Ay,"inc32");function tP(e){return[e/4294967296|0,e&4294967295]}s(tP,"from64To32")});var zc=ae((OCe,yV)=>{var vr=v0();wy();rP();G0();yV.exports=vr.aes=vr.aes||{};vr.aes.startEncrypting=function(e,t,r,n){var i=Py({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};vr.aes.createEncryptionCipher=function(e,t){return Py({key:e,output:null,decrypt:!1,mode:t})};vr.aes.startDecrypting=function(e,t,r,n){var i=Py({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};vr.aes.createDecryptionCipher=function(e,t){return Py({key:e,output:null,decrypt:!0,mode:t})};vr.aes.Algorithm=function(e,t){sP||gV();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return iP(r._w,n,i,!1)},decrypt:function(n,i){return iP(r._w,n,i,!0)}}}),r._init=!1};vr.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=vr.util.createBuffer(t);else if(vr.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=vr.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!vr.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!vr.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=pV(t,e.decrypt&&!a),this._init=!0}};vr.aes._expandKey=function(e,t){return sP||gV(),pV(e,t)};vr.aes._updateBlock=iP;d2("AES-ECB",vr.cipher.modes.ecb);d2("AES-CBC",vr.cipher.modes.cbc);d2("AES-CFB",vr.cipher.modes.cfb);d2("AES-OFB",vr.cipher.modes.ofb);d2("AES-CTR",vr.cipher.modes.ctr);d2("AES-GCM",vr.cipher.modes.gcm);function d2(e,t){var r=s(function(){return new vr.aes.Algorithm(e,t)},"factory");vr.cipher.registerAlgorithm(e,r)}s(d2,"registerAlgorithm");var sP=!1,u2=4,Oi,nP,mV,vd,Qo;function gV(){sP=!0,mV=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Oi=new Array(256),nP=new Array(256),vd=new Array(4),Qo=new Array(4);for(var t=0;t<4;++t)vd[t]=new Array(256),Qo[t]=new Array(256);for(var r=0,n=0,i,o,a,l,f,c,u,t=0;t<256;++t){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,Oi[r]=l,nP[l]=r,f=e[l],i=e[r],o=e[i],a=e[o],c=f<<24^l<<16^l<<8^(l^f),u=(i^o^a)<<24^(r^a)<<16^(r^o^a)<<8^(r^i^a);for(var d=0;d<4;++d)vd[d][r]=c,Qo[d][l]=u,c=c<<24|c>>>8,u=u<<24|u>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}s(gV,"initialize");function pV(e,t){for(var r=e.slice(0),n,i=1,o=r.length,a=o+6+1,l=u2*a,f=o;f<l;++f)n=r[f-1],f%o===0?(n=Oi[n>>>16&255]<<24^Oi[n>>>8&255]<<16^Oi[n&255]<<8^Oi[n>>>24]^mV[i]<<24,i++):o>6&&f%o===4&&(n=Oi[n>>>24]<<24^Oi[n>>>16&255]<<16^Oi[n>>>8&255]<<8^Oi[n&255]),r[f]=r[f-o]^n;if(t){var c,u=Qo[0],d=Qo[1],p=Qo[2],g=Qo[3],y=r.slice(0);l=r.length;for(var f=0,_=l-u2;f<l;f+=u2,_-=u2)if(f===0||f===l-u2)y[f]=r[_],y[f+1]=r[_+3],y[f+2]=r[_+2],y[f+3]=r[_+1];else for(var S=0;S<u2;++S)c=r[_+S],y[f+(3&-S)]=u[Oi[c>>>24]]^d[Oi[c>>>16&255]]^p[Oi[c>>>8&255]]^g[Oi[c&255]];r=y}return r}s(pV,"_expandKey");function iP(e,t,r,n){var i=e.length/4-1,o,a,l,f,c;n?(o=Qo[0],a=Qo[1],l=Qo[2],f=Qo[3],c=nP):(o=vd[0],a=vd[1],l=vd[2],f=vd[3],c=Oi);var u,d,p,g,y,_,S;u=t[0]^e[0],d=t[n?3:1]^e[1],p=t[2]^e[2],g=t[n?1:3]^e[3];for(var T=3,I=1;I<i;++I)y=o[u>>>24]^a[d>>>16&255]^l[p>>>8&255]^f[g&255]^e[++T],_=o[d>>>24]^a[p>>>16&255]^l[g>>>8&255]^f[u&255]^e[++T],S=o[p>>>24]^a[g>>>16&255]^l[u>>>8&255]^f[d&255]^e[++T],g=o[g>>>24]^a[u>>>16&255]^l[d>>>8&255]^f[p&255]^e[++T],u=y,d=_,p=S;r[0]=c[u>>>24]<<24^c[d>>>16&255]<<16^c[p>>>8&255]<<8^c[g&255]^e[++T],r[n?3:1]=c[d>>>24]<<24^c[p>>>16&255]<<16^c[g>>>8&255]<<8^c[u&255]^e[++T],r[2]=c[p>>>24]<<24^c[g>>>16&255]<<16^c[u>>>8&255]<<8^c[d&255]^e[++T],r[n?1:3]=c[g>>>24]<<24^c[u>>>16&255]<<16^c[d>>>8&255]<<8^c[p&255]^e[++T]}s(iP,"_updateBlock");function Py(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=vr.cipher.createDecipher(r,e.key):n=vr.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(o,a){var l=null;a instanceof vr.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=o,i.call(n,a)},n}s(Py,"_createCipher")});var Kc=ae((MCe,vV)=>{var Q8=v0();Q8.pki=Q8.pki||{};var oP=vV.exports=Q8.pki.oids=Q8.oids=Q8.oids||{};function ot(e,t){oP[e]=t,oP[t]=e}s(ot,"_IN");function ar(e,t){oP[e]=t}s(ar,"_I_");ot("1.2.840.113549.1.1.1","rsaEncryption");ot("1.2.840.113549.1.1.4","md5WithRSAEncryption");ot("1.2.840.113549.1.1.5","sha1WithRSAEncryption");ot("1.2.840.113549.1.1.7","RSAES-OAEP");ot("1.2.840.113549.1.1.8","mgf1");ot("1.2.840.113549.1.1.9","pSpecified");ot("1.2.840.113549.1.1.10","RSASSA-PSS");ot("1.2.840.113549.1.1.11","sha256WithRSAEncryption");ot("1.2.840.113549.1.1.12","sha384WithRSAEncryption");ot("1.2.840.113549.1.1.13","sha512WithRSAEncryption");ot("1.3.101.112","EdDSA25519");ot("1.2.840.10040.4.3","dsa-with-sha1");ot("1.3.14.3.2.7","desCBC");ot("1.3.14.3.2.26","sha1");ot("1.3.14.3.2.29","sha1WithRSASignature");ot("2.16.840.1.101.3.4.2.1","sha256");ot("2.16.840.1.101.3.4.2.2","sha384");ot("2.16.840.1.101.3.4.2.3","sha512");ot("2.16.840.1.101.3.4.2.4","sha224");ot("2.16.840.1.101.3.4.2.5","sha512-224");ot("2.16.840.1.101.3.4.2.6","sha512-256");ot("1.2.840.113549.2.2","md2");ot("1.2.840.113549.2.5","md5");ot("1.2.840.113549.1.7.1","data");ot("1.2.840.113549.1.7.2","signedData");ot("1.2.840.113549.1.7.3","envelopedData");ot("1.2.840.113549.1.7.4","signedAndEnvelopedData");ot("1.2.840.113549.1.7.5","digestedData");ot("1.2.840.113549.1.7.6","encryptedData");ot("1.2.840.113549.1.9.1","emailAddress");ot("1.2.840.113549.1.9.2","unstructuredName");ot("1.2.840.113549.1.9.3","contentType");ot("1.2.840.113549.1.9.4","messageDigest");ot("1.2.840.113549.1.9.5","signingTime");ot("1.2.840.113549.1.9.6","counterSignature");ot("1.2.840.113549.1.9.7","challengePassword");ot("1.2.840.113549.1.9.8","unstructuredAddress");ot("1.2.840.113549.1.9.14","extensionRequest");ot("1.2.840.113549.1.9.20","friendlyName");ot("1.2.840.113549.1.9.21","localKeyId");ot("1.2.840.113549.1.9.22.1","x509Certificate");ot("1.2.840.113549.1.12.10.1.1","keyBag");ot("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");ot("1.2.840.113549.1.12.10.1.3","certBag");ot("1.2.840.113549.1.12.10.1.4","crlBag");ot("1.2.840.113549.1.12.10.1.5","secretBag");ot("1.2.840.113549.1.12.10.1.6","safeContentsBag");ot("1.2.840.113549.1.5.13","pkcs5PBES2");ot("1.2.840.113549.1.5.12","pkcs5PBKDF2");ot("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");ot("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");ot("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");ot("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");ot("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");ot("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");ot("1.2.840.113549.2.7","hmacWithSHA1");ot("1.2.840.113549.2.8","hmacWithSHA224");ot("1.2.840.113549.2.9","hmacWithSHA256");ot("1.2.840.113549.2.10","hmacWithSHA384");ot("1.2.840.113549.2.11","hmacWithSHA512");ot("1.2.840.113549.3.7","des-EDE3-CBC");ot("2.16.840.1.101.3.4.1.2","aes128-CBC");ot("2.16.840.1.101.3.4.1.22","aes192-CBC");ot("2.16.840.1.101.3.4.1.42","aes256-CBC");ot("2.5.4.3","commonName");ot("2.5.4.4","surname");ot("2.5.4.5","serialNumber");ot("2.5.4.6","countryName");ot("2.5.4.7","localityName");ot("2.5.4.8","stateOrProvinceName");ot("2.5.4.9","streetAddress");ot("2.5.4.10","organizationName");ot("2.5.4.11","organizationalUnitName");ot("2.5.4.12","title");ot("2.5.4.13","description");ot("2.5.4.15","businessCategory");ot("2.5.4.17","postalCode");ot("2.5.4.42","givenName");ot("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");ot("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");ot("2.16.840.1.113730.1.1","nsCertType");ot("2.16.840.1.113730.1.13","nsComment");ar("2.5.29.1","authorityKeyIdentifier");ar("2.5.29.2","keyAttributes");ar("2.5.29.3","certificatePolicies");ar("2.5.29.4","keyUsageRestriction");ar("2.5.29.5","policyMapping");ar("2.5.29.6","subtreesConstraint");ar("2.5.29.7","subjectAltName");ar("2.5.29.8","issuerAltName");ar("2.5.29.9","subjectDirectoryAttributes");ar("2.5.29.10","basicConstraints");ar("2.5.29.11","nameConstraints");ar("2.5.29.12","policyConstraints");ar("2.5.29.13","basicConstraints");ot("2.5.29.14","subjectKeyIdentifier");ot("2.5.29.15","keyUsage");ar("2.5.29.16","privateKeyUsagePeriod");ot("2.5.29.17","subjectAltName");ot("2.5.29.18","issuerAltName");ot("2.5.29.19","basicConstraints");ar("2.5.29.20","cRLNumber");ar("2.5.29.21","cRLReason");ar("2.5.29.22","expirationDate");ar("2.5.29.23","instructionCode");ar("2.5.29.24","invalidityDate");ar("2.5.29.25","cRLDistributionPoints");ar("2.5.29.26","issuingDistributionPoint");ar("2.5.29.27","deltaCRLIndicator");ar("2.5.29.28","issuingDistributionPoint");ar("2.5.29.29","certificateIssuer");ar("2.5.29.30","nameConstraints");ot("2.5.29.31","cRLDistributionPoints");ot("2.5.29.32","certificatePolicies");ar("2.5.29.33","policyMappings");ar("2.5.29.34","policyConstraints");ot("2.5.29.35","authorityKeyIdentifier");ar("2.5.29.36","policyConstraints");ot("2.5.29.37","extKeyUsage");ar("2.5.29.46","freshestCRL");ar("2.5.29.54","inhibitAnyPolicy");ot("1.3.6.1.4.1.11129.2.4.2","timestampList");ot("1.3.6.1.5.5.7.1.1","authorityInfoAccess");ot("1.3.6.1.5.5.7.3.1","serverAuth");ot("1.3.6.1.5.5.7.3.2","clientAuth");ot("1.3.6.1.5.5.7.3.3","codeSigning");ot("1.3.6.1.5.5.7.3.4","emailProtection");ot("1.3.6.1.5.5.7.3.8","timeStamping")});var Zo=ae((qCe,_V)=>{var Tr=v0();G0();Kc();var yt=_V.exports=Tr.asn1=Tr.asn1||{};yt.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};yt.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};yt.create=function(e,t,r,n,i){if(Tr.util.isArray(n)){for(var o=[],a=0;a<n.length;++a)n[a]!==void 0&&o.push(n[a]);n=o}var l={tagClass:e,type:t,constructed:r,composed:r||Tr.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=yt.copy(l)),l};yt.copy=function(e,t){var r;if(Tr.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(yt.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:yt.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};yt.equals=function(e,t,r){if(Tr.util.isArray(e)){if(!Tr.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!yt.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&yt.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};yt.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function Z8(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}s(Z8,"_checkBufferLength");var Ioe=s(function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var o=r&127;Z8(e,t,o),n=e.getInt(o<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");yt.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=Tr.util.createBuffer(e));var r=e.length(),n=Ry(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function Ry(e,t,r,n){var i;Z8(e,t,2);var o=e.getByte();t--;var a=o&192,l=o&31;i=e.length();var f=Ioe(e,t);if(t-=i-e.length(),f!==void 0&&f>t){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=e.length(),c.remaining=t,c.requested=f,c}f=t}var u,d,p=(o&32)===32;if(p)if(u=[],f===void 0)for(;;){if(Z8(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}i=e.length(),u.push(Ry(e,t,r+1,n)),t-=i-e.length()}else for(;f>0;)i=e.length(),u.push(Ry(e,f,r+1,n)),t-=i-e.length(),f-=i-e.length();if(u===void 0&&a===yt.Class.UNIVERSAL&&l===yt.Type.BITSTRING&&(d=e.bytes(f)),u===void 0&&n.decodeBitStrings&&a===yt.Class.UNIVERSAL&&l===yt.Type.BITSTRING&&f>1){var g=e.read,y=t,_=0;if(l===yt.Type.BITSTRING&&(Z8(e,t,1),_=e.getByte(),t--),_===0)try{i=e.length();var S={strict:!0,decodeBitStrings:!0},T=Ry(e,t,r+1,S),I=i-e.length();t-=I,l==yt.Type.BITSTRING&&I++;var P=T.tagClass;I===f&&(P===yt.Class.UNIVERSAL||P===yt.Class.CONTEXT_SPECIFIC)&&(u=[T])}catch{}u===void 0&&(e.read=g,t=y)}if(u===void 0){if(f===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=t}if(l===yt.Type.BMPSTRING)for(u="";f>0;f-=2)Z8(e,t,2),u+=String.fromCharCode(e.getInt16()),t-=2;else u=e.getBytes(f),t-=f}var M=d===void 0?null:{bitStringContents:d};return yt.create(a,l,p,u,M)}s(Ry,"_fromDer");yt.toDer=function(e){var t=Tr.util.createBuffer(),r=e.tagClass|e.type,n=Tr.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=yt.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var o=0;o<e.value.length;++o)e.value[o]!==void 0&&n.putBuffer(yt.toDer(e.value[o]))}else if(e.type===yt.Type.BMPSTRING)for(var o=0;o<e.value.length;++o)n.putInt16(e.value.charCodeAt(o));else e.type===yt.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),l="";do l+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(l.length|128);for(var o=l.length-1;o>=0;--o)t.putByte(l.charCodeAt(o))}return t.putBuffer(n),t};yt.oidToDer=function(e){var t=e.split("."),r=Tr.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,o,a,l=2;l<t.length;++l){n=!0,i=[],o=parseInt(t[l],10);do a=o&127,o=o>>>7,n||(a|=128),i.push(a),n=!1;while(o>0);for(var f=i.length-1;f>=0;--f)r.putByte(i[f])}return r};yt.derToOid=function(e){var t;typeof e=="string"&&(e=Tr.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};yt.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=0;if(e.length>11){var f=e.charAt(10),c=10;f!=="+"&&f!=="-"&&(l=parseInt(e.substr(10,2),10),c+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,l,0),c&&(f=e.charAt(c),f==="+"||f==="-")){var u=parseInt(e.substr(c+1,2),10),d=parseInt(e.substr(c+4,2),10),p=u*60+d;p*=6e4,f==="+"?t.setTime(+t-p):t.setTime(+t+p)}return t};yt.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),f=0,c=0,u=!1;e.charAt(e.length-1)==="Z"&&(u=!0);var d=e.length-5,p=e.charAt(d);if(p==="+"||p==="-"){var g=parseInt(e.substr(d+1,2),10),y=parseInt(e.substr(d+4,2),10);c=g*60+y,c*=6e4,p==="+"&&(c*=-1),u=!0}return e.charAt(14)==="."&&(f=parseFloat(e.substr(14),10)*1e3),u?(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,l,f),t.setTime(+t+c)):(t.setFullYear(r,n,i),t.setHours(o,a,l,f)),t};yt.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};yt.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};yt.integerToDer=function(e){var t=Tr.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};yt.derToInteger=function(e){typeof e=="string"&&(e=Tr.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};yt.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&Tr.util.isArray(t.value))for(var o=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[o]&&(i=yt.validate(e.value[o],t.value[a],r,n),i?++o:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var f=e.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var xV=/[^\\u0000-\\u00ff]/;yt.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",o=0;o<t*r;++o)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case yt.Class.UNIVERSAL:n+="Universal:";break;case yt.Class.APPLICATION:n+="Application:";break;case yt.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case yt.Class.PRIVATE:n+="Private:";break}if(e.tagClass===yt.Class.UNIVERSAL)switch(n+=e.type,e.type){case yt.Type.NONE:n+=" (None)";break;case yt.Type.BOOLEAN:n+=" (Boolean)";break;case yt.Type.INTEGER:n+=" (Integer)";break;case yt.Type.BITSTRING:n+=" (Bit string)";break;case yt.Type.OCTETSTRING:n+=" (Octet string)";break;case yt.Type.NULL:n+=" (Null)";break;case yt.Type.OID:n+=" (Object Identifier)";break;case yt.Type.ODESC:n+=" (Object Descriptor)";break;case yt.Type.EXTERNAL:n+=" (External or Instance of)";break;case yt.Type.REAL:n+=" (Real)";break;case yt.Type.ENUMERATED:n+=" (Enumerated)";break;case yt.Type.EMBEDDED:n+=" (Embedded PDV)";break;case yt.Type.UTF8:n+=" (UTF8)";break;case yt.Type.ROID:n+=" (Relative Object Identifier)";break;case yt.Type.SEQUENCE:n+=" (Sequence)";break;case yt.Type.SET:n+=" (Set)";break;case yt.Type.PRINTABLESTRING:n+=" (Printable String)";break;case yt.Type.IA5String:n+=" (IA5String (ASCII))";break;case yt.Type.UTCTIME:n+=" (UTC time)";break;case yt.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case yt.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,l="",o=0;o<e.value.length;++o)e.value[o]!==void 0&&(a+=1,l+=yt.prettyPrint(e.value[o],t+1,r),o+1<e.value.length&&(l+=","));n+=i+"Sub values: "+a+l}else{if(n+=i+"Value: ",e.type===yt.Type.OID){var f=yt.derToOid(e.value);n+=f,Tr.pki&&Tr.pki.oids&&f in Tr.pki.oids&&(n+=" ("+Tr.pki.oids[f]+") ")}if(e.type===yt.Type.INTEGER)try{n+=yt.derToInteger(e.value)}catch{n+="0x"+Tr.util.bytesToHex(e.value)}else if(e.type===yt.Type.BITSTRING){if(e.value.length>1?n+="0x"+Tr.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var c=e.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else if(e.type===yt.Type.OCTETSTRING)xV.test(e.value)||(n+="("+e.value+") "),n+="0x"+Tr.util.bytesToHex(e.value);else if(e.type===yt.Type.UTF8)try{n+=Tr.util.decodeUtf8(e.value)}catch(u){if(u.message==="URI malformed")n+="0x"+Tr.util.bytesToHex(e.value)+" (malformed UTF8)";else throw u}else e.type===yt.Type.PRINTABLESTRING||e.type===yt.Type.IA5String?n+=e.value:xV.test(e.value)?n+="0x"+Tr.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var za=ae(($Ce,bV)=>{var Ny=v0();bV.exports=Ny.md=Ny.md||{};Ny.md.algorithms=Ny.md.algorithms||{}});var h2=ae((HCe,CV)=>{var af=v0();za();G0();var Aoe=CV.exports=af.hmac=af.hmac||{};Aoe.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(o,a){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in af.md.algorithms)t=af.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else t=o;if(a===null)a=e;else{if(typeof a=="string")a=af.util.createBuffer(a);else if(af.util.isArray(a)){var l=a;a=af.util.createBuffer();for(var f=0;f<l.length;++f)a.putByte(l[f])}var c=a.length();c>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=af.util.createBuffer(),n=af.util.createBuffer(),c=a.length();for(var f=0;f<c;++f){var l=a.at(f);r.putByte(54^l),n.putByte(92^l)}if(c<t.blockLength)for(var l=t.blockLength-c,f=0;f<l;++f)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(o){t.update(o)},i.getMac=function(){var o=t.digest().bytes();return t.start(),t.update(n),t.update(o),t.digest()},i.digest=i.getMac,i}});var Dy=ae((VCe,wV)=>{var Ka=v0();za();G0();var EV=wV.exports=Ka.md5=Ka.md5||{};Ka.md.md5=Ka.md.algorithms.md5=EV;EV.create=function(){SV||Poe();var e=null,t=Ka.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=Ka.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Ka.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),TV(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Ka.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(aP.substr(0,n.blockLength-a));for(var l,f=0,c=n.fullMessageLength.length-1;c>=0;--c)l=n.fullMessageLength[c]*8+f,f=l/4294967296>>>0,i.putInt32Le(l>>>0);var u={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};TV(u,r,i);var d=Ka.util.createBuffer();return d.putInt32Le(u.h0),d.putInt32Le(u.h1),d.putInt32Le(u.h2),d.putInt32Le(u.h3),d},n};var aP=null,ky=null,e6=null,m2=null,SV=!1;function Poe(){aP="\x80",aP+=Ka.util.fillString("\0",64),ky=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],e6=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],m2=new Array(64);for(var e=0;e<64;++e)m2[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);SV=!0}s(Poe,"_init");function TV(e,t,r){for(var n,i,o,a,l,f,c,u,d=r.length();d>=64;){for(i=e.h0,o=e.h1,a=e.h2,l=e.h3,u=0;u<16;++u)t[u]=r.getInt32Le(),f=l^o&(a^l),n=i+f+m2[u]+t[u],c=e6[u],i=l,l=a,a=o,o+=n<<c|n>>>32-c;for(;u<32;++u)f=a^l&(o^a),n=i+f+m2[u]+t[ky[u]],c=e6[u],i=l,l=a,a=o,o+=n<<c|n>>>32-c;for(;u<48;++u)f=o^a^l,n=i+f+m2[u]+t[ky[u]],c=e6[u],i=l,l=a,a=o,o+=n<<c|n>>>32-c;for(;u<64;++u)f=a^(o|~l),n=i+f+m2[u]+t[ky[u]],c=e6[u],i=l,l=a,a=o,o+=n<<c|n>>>32-c;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,d-=64}}s(TV,"_update")});var xd=ae((KCe,AV)=>{var By=v0();G0();var IV=AV.exports=By.pem=By.pem||{};IV.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Ly(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Ly(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Ly(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=Ly(e.headers[i]);return e.procType&&(r+=`\r
`),r+=By.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};IV.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=r.exec(e),!!o;){var a=o[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var l={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:By.util.decode64(o[3])};if(t.push(l),!!o[2]){for(var f=o[2].split(i),c=0;o&&c<f.length;){for(var u=f[c].replace(/\s+$/,""),d=c+1;d<f.length;++d){var p=f[d];if(!/\s/.test(p[0]))break;u+=p,c=d}if(o=u.match(n),o){for(var g={name:o[1],values:[]},y=o[2].split(","),_=0;_<y.length;++_)g.values.push(Roe(y[_]));if(l.procType)if(!l.contentDomain&&g.name==="Content-Domain")l.contentDomain=y[0]||"";else if(!l.dekInfo&&g.name==="DEK-Info"){if(g.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:y[0],parameters:y[1]||null}}else l.headers.push(g);else{if(g.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(g.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:y[0],type:y[1]}}}++c}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Ly(e){for(var t=e.name+": ",r=[],n=s(function(f,c){return" "+c},"insertSpace"),i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var o=0,a=-1,i=0;i<t.length;++i,++o)if(o>65&&a!==-1){var l=t[a];l===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+l+t.substr(a+1),o=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}s(Ly,"foldHeader");function Roe(e){return e.replace(/^\s+/,"")}s(Roe,"ltrim")});var t6=ae((GCe,RV)=>{var Rr=v0();wy();rP();G0();RV.exports=Rr.des=Rr.des||{};Rr.des.startEncrypting=function(e,t,r,n){var i=Oy({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Rr.des.createEncryptionCipher=function(e,t){return Oy({key:e,output:null,decrypt:!1,mode:t})};Rr.des.startDecrypting=function(e,t,r,n){var i=Oy({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Rr.des.createDecryptionCipher=function(e,t){return Oy({key:e,output:null,decrypt:!0,mode:t})};Rr.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return PV(r._keys,n,i,!1)},decrypt:function(n,i){return PV(r._keys,n,i,!0)}}}),r._init=!1};Rr.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=Rr.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=Uoe(t),this._init=!0}};Wa("DES-ECB",Rr.cipher.modes.ecb);Wa("DES-CBC",Rr.cipher.modes.cbc);Wa("DES-CFB",Rr.cipher.modes.cfb);Wa("DES-OFB",Rr.cipher.modes.ofb);Wa("DES-CTR",Rr.cipher.modes.ctr);Wa("3DES-ECB",Rr.cipher.modes.ecb);Wa("3DES-CBC",Rr.cipher.modes.cbc);Wa("3DES-CFB",Rr.cipher.modes.cfb);Wa("3DES-OFB",Rr.cipher.modes.ofb);Wa("3DES-CTR",Rr.cipher.modes.ctr);function Wa(e,t){var r=s(function(){return new Rr.des.Algorithm(e,t)},"factory");Rr.cipher.registerAlgorithm(e,r)}s(Wa,"registerAlgorithm");var Noe=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],koe=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Doe=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Loe=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],Boe=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Ooe=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Foe=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Moe=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function Uoe(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],g=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],_=e.length()>8?3:1,S=[],T=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],I=0,P,M=0;M<_;M++){var N=e.getInt32(),L=e.getInt32();P=(N>>>4^L)&252645135,L^=P,N^=P<<4,P=(L>>>-16^N)&65535,N^=P,L^=P<<-16,P=(N>>>2^L)&858993459,L^=P,N^=P<<2,P=(L>>>-16^N)&65535,N^=P,L^=P<<-16,P=(N>>>1^L)&1431655765,L^=P,N^=P<<1,P=(L>>>8^N)&16711935,N^=P,L^=P<<8,P=(N>>>1^L)&1431655765,L^=P,N^=P<<1,P=N<<8|L>>>20&240,N=L<<24|L<<8&16711680|L>>>8&65280|L>>>24&240,L=P;for(var X=0;X<T.length;++X){T[X]?(N=N<<2|N>>>26,L=L<<2|L>>>26):(N=N<<1|N>>>27,L=L<<1|L>>>27),N&=-15,L&=-15;var te=t[N>>>28]|r[N>>>24&15]|n[N>>>20&15]|i[N>>>16&15]|o[N>>>12&15]|a[N>>>8&15]|l[N>>>4&15],Ce=f[L>>>28]|c[L>>>24&15]|u[L>>>20&15]|d[L>>>16&15]|p[L>>>12&15]|g[L>>>8&15]|y[L>>>4&15];P=(Ce>>>16^te)&65535,S[I++]=te^P,S[I++]=Ce^P<<16}}return S}s(Uoe,"_createKeys");function PV(e,t,r,n){var i=e.length===32?3:9,o;i===3?o=n?[30,-2,-2]:[0,32,2]:o=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,l=t[0],f=t[1];a=(l>>>4^f)&252645135,f^=a,l^=a<<4,a=(l>>>16^f)&65535,f^=a,l^=a<<16,a=(f>>>2^l)&858993459,l^=a,f^=a<<2,a=(f>>>8^l)&16711935,l^=a,f^=a<<8,a=(l>>>1^f)&1431655765,f^=a,l^=a<<1,l=l<<1|l>>>31,f=f<<1|f>>>31;for(var c=0;c<i;c+=3){for(var u=o[c+1],d=o[c+2],p=o[c];p!=u;p+=d){var g=f^e[p],y=(f>>>4|f<<28)^e[p+1];a=l,l=f,f=a^(koe[g>>>24&63]|Loe[g>>>16&63]|Ooe[g>>>8&63]|Moe[g&63]|Noe[y>>>24&63]|Doe[y>>>16&63]|Boe[y>>>8&63]|Foe[y&63])}a=l,l=f,f=a}l=l>>>1|l<<31,f=f>>>1|f<<31,a=(l>>>1^f)&1431655765,f^=a,l^=a<<1,a=(f>>>8^l)&16711935,l^=a,f^=a<<8,a=(f>>>2^l)&858993459,l^=a,f^=a<<2,a=(l>>>16^f)&65535,f^=a,l^=a<<16,a=(l>>>4^f)&252645135,f^=a,l^=a<<4,r[0]=l,r[1]=f}s(PV,"_updateBlock");function Oy(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=Rr.cipher.createDecipher(r,e.key):n=Rr.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(o,a){var l=null;a instanceof Rr.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=o,i.call(n,a)},n}s(Oy,"_createCipher")});var Fy=ae((XCe,NV)=>{var Fi=v0();h2();za();G0();var qoe=Fi.pkcs5=Fi.pkcs5||{},lf;Fi.util.isNodejs&&!Fi.options.usePureJavaScript&&(lf=require("crypto"));NV.exports=Fi.pbkdf2=qoe.pbkdf2=function(e,t,r,n,i,o){if(typeof i=="function"&&(o=i,i=null),Fi.util.isNodejs&&!Fi.options.usePureJavaScript&&lf.pbkdf2&&(i===null||typeof i!="object")&&(lf.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),o?lf.pbkdf2Sync.length===4?lf.pbkdf2(e,t,r,n,function(P,M){if(P)return o(P);o(null,M.toString("binary"))}):lf.pbkdf2(e,t,r,n,i,function(P,M){if(P)return o(P);o(null,M.toString("binary"))}):lf.pbkdf2Sync.length===4?lf.pbkdf2Sync(e,t,r,n).toString("binary"):lf.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Fi.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Fi.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var l=new Error("Derived key is too long.");if(o)return o(l);throw l}var f=Math.ceil(n/a),c=n-(f-1)*a,u=Fi.hmac.create();u.start(i,e);var d="",p,g,y;if(!o){for(var _=1;_<=f;++_){u.start(null,null),u.update(t),u.update(Fi.util.int32ToBytes(_)),p=y=u.digest().getBytes();for(var S=2;S<=r;++S)u.start(null,null),u.update(y),g=u.digest().getBytes(),p=Fi.util.xorBytes(p,g,a),y=g;d+=_<f?p:p.substr(0,c)}return d}var _=1,S;function T(){if(_>f)return o(null,d);u.start(null,null),u.update(t),u.update(Fi.util.int32ToBytes(_)),p=y=u.digest().getBytes(),S=2,I()}s(T,"outer");function I(){if(S<=r)return u.start(null,null),u.update(y),g=u.digest().getBytes(),p=Fi.util.xorBytes(p,g,a),y=g,++S,Fi.util.setImmediate(I);d+=_<f?p:p.substr(0,c),++_,T()}s(I,"inner"),T()}});var fP=ae((QCe,OV)=>{var Ga=v0();za();G0();var DV=OV.exports=Ga.sha256=Ga.sha256||{};Ga.md.sha256=Ga.md.algorithms.sha256=DV;DV.create=function(){LV||joe();var e=null,t=Ga.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=Ga.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Ga.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),kV(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Ga.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(lP.substr(0,n.blockLength-a));for(var l,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)l=n.fullMessageLength[u+1]*8,f=l/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=l>>>0;i.putInt32(c);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};kV(d,r,i);var p=Ga.util.createBuffer();return p.putInt32(d.h0),p.putInt32(d.h1),p.putInt32(d.h2),p.putInt32(d.h3),p.putInt32(d.h4),p.putInt32(d.h5),p.putInt32(d.h6),p.putInt32(d.h7),p},n};var lP=null,LV=!1,BV=null;function joe(){lP="\x80",lP+=Ga.util.fillString("\0",64),BV=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],LV=!0}s(joe,"_init");function kV(e,t,r){for(var n,i,o,a,l,f,c,u,d,p,g,y,_,S,T,I=r.length();I>=64;){for(c=0;c<16;++c)t[c]=r.getInt32();for(;c<64;++c)n=t[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[c]=n+t[c-7]+i+t[c-16]|0;for(u=e.h0,d=e.h1,p=e.h2,g=e.h3,y=e.h4,_=e.h5,S=e.h6,T=e.h7,c=0;c<64;++c)a=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),l=S^y&(_^S),o=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),f=u&d|p&(u^d),n=T+a+l+BV[c]+t[c],i=o+f,T=S,S=_,_=y,y=g+n>>>0,g=p,p=d,d=u,u=n+i>>>0;e.h0=e.h0+u|0,e.h1=e.h1+d|0,e.h2=e.h2+p|0,e.h3=e.h3+g|0,e.h4=e.h4+y|0,e.h5=e.h5+_|0,e.h6=e.h6+S|0,e.h7=e.h7+T|0,I-=64}}s(kV,"_update")});var cP=ae((eTe,FV)=>{var Ya=v0();G0();var My=null;Ya.util.isNodejs&&!Ya.options.usePureJavaScript&&!process.versions["node-webkit"]&&(My=require("crypto"));var $oe=FV.exports=Ya.prng=Ya.prng||{};$oe.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(c,u){if(!u)return t.generateSync(c);var d=t.plugin.cipher,p=t.plugin.increment,g=t.plugin.formatKey,y=t.plugin.formatSeed,_=Ya.util.createBuffer();t.key=null,S();function S(T){if(T)return u(T);if(_.length()>=c)return u(null,_.getBytes(c));if(t.generated>1048575&&(t.key=null),t.key===null)return Ya.util.nextTick(function(){o(S)});var I=d(t.key,t.seed);t.generated+=I.length,_.putBytes(I),t.key=g(d(t.key,p(t.seed))),t.seed=y(d(t.key,t.seed)),Ya.util.setImmediate(S)}s(S,"generate")},t.generateSync=function(c){var u=t.plugin.cipher,d=t.plugin.increment,p=t.plugin.formatKey,g=t.plugin.formatSeed;t.key=null;for(var y=Ya.util.createBuffer();y.length()<c;){t.generated>1048575&&(t.key=null),t.key===null&&a();var _=u(t.key,t.seed);t.generated+=_.length,y.putBytes(_),t.key=p(u(t.key,d(t.seed))),t.seed=g(u(t.key,t.seed))}return y.getBytes(c)};function o(c){if(t.pools[0].messageLength>=32)return l(),c();var u=32-t.pools[0].messageLength<<5;t.seedFile(u,function(d,p){if(d)return c(d);t.collect(p),l(),c()})}s(o,"_reseed");function a(){if(t.pools[0].messageLength>=32)return l();var c=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(c)),l()}s(a,"_reseedSync");function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var c=t.plugin.md.create();c.update(t.keyBytes);for(var u=1,d=0;d<32;++d)t.reseeds%u===0&&(c.update(t.pools[d].digest().getBytes()),t.pools[d].start()),u=u<<1;t.keyBytes=c.digest().getBytes(),c.start(),c.update(t.keyBytes);var p=c.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(p),t.generated=0}s(l,"_seed");function f(c){var u=null,d=Ya.util.globalScope,p=d.crypto||d.msCrypto;p&&p.getRandomValues&&(u=s(function(N){return p.getRandomValues(N)},"getRandomValues"));var g=Ya.util.createBuffer();if(u)for(;g.length()<c;){var y=Math.max(1,Math.min(c-g.length(),65536)/4),_=new Uint32Array(Math.floor(y));try{u(_);for(var S=0;S<_.length;++S)g.putInt32(_[S])}catch(N){if(!(typeof QuotaExceededError<"u"&&N instanceof QuotaExceededError))throw N}}if(g.length()<c)for(var T,I,P,M=Math.floor(Math.random()*65536);g.length()<c;){I=16807*(M&65535),T=16807*(M>>16),I+=(T&32767)<<16,I+=T>>15,I=(I&2147483647)+(I>>31),M=I&4294967295;for(var S=0;S<3;++S)P=M>>>(S<<3),P^=Math.floor(Math.random()*256),g.putByte(P&255)}return g.getBytes(c)}return s(f,"defaultSeedFile"),My?(t.seedFile=function(c,u){My.randomBytes(c,function(d,p){if(d)return u(d);u(null,p.toString())})},t.seedFileSync=function(c){return My.randomBytes(c).toString()}):(t.seedFile=function(c,u){try{u(null,f(c))}catch(d){u(d)}},t.seedFileSync=f),t.collect=function(c){for(var u=c.length,d=0;d<u;++d)t.pools[t.pool].update(c.substr(d,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(c,u){for(var d="",p=0;p<u;p+=8)d+=String.fromCharCode(c>>p&255);t.collect(d)},t.registerWorker=function(c){if(c===self)t.seedFile=function(d,p){function g(y){var _=y.data;_.forge&&_.forge.prng&&(self.removeEventListener("message",g),p(_.forge.prng.err,_.forge.prng.bytes))}s(g,"listener"),self.addEventListener("message",g),self.postMessage({forge:{prng:{needed:d}}})};else{var u=s(function(d){var p=d.data;p.forge&&p.forge.prng&&t.seedFile(p.forge.prng.needed,function(g,y){c.postMessage({forge:{prng:{err:g,bytes:y}}})})},"listener");c.addEventListener("message",u)}},t}});var po=ae((rTe,uP)=>{var Bn=v0();zc();fP();cP();G0();(function(){if(Bn.random&&Bn.random.getBytes){uP.exports=Bn.random;return}(function(e){var t={},r=new Array(4),n=Bn.util.createBuffer();t.formatKey=function(d){var p=Bn.util.createBuffer(d);return d=new Array(4),d[0]=p.getInt32(),d[1]=p.getInt32(),d[2]=p.getInt32(),d[3]=p.getInt32(),Bn.aes._expandKey(d,!1)},t.formatSeed=function(d){var p=Bn.util.createBuffer(d);return d=new Array(4),d[0]=p.getInt32(),d[1]=p.getInt32(),d[2]=p.getInt32(),d[3]=p.getInt32(),d},t.cipher=function(d,p){return Bn.aes._updateBlock(d,p,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(d){return++d[3],d},t.md=Bn.md.sha256;function i(){var d=Bn.prng.create(t);return d.getBytes=function(p,g){return d.generate(p,g)},d.getBytesSync=function(p){return d.generate(p)},d}s(i,"spawnPrng");var o=i(),a=null,l=Bn.util.globalScope,f=l.crypto||l.msCrypto;if(f&&f.getRandomValues&&(a=s(function(d){return f.getRandomValues(d)},"getRandomValues")),Bn.options.usePureJavaScript||!Bn.util.isNodejs&&!a){if(typeof window>"u"||window.document,o.collectInt(+new Date,32),typeof navigator<"u"){var c="";for(var u in navigator)try{typeof navigator[u]=="string"&&(c+=navigator[u])}catch{}o.collect(c),c=null}e&&(e().mousemove(function(d){o.collectInt(d.clientX,16),o.collectInt(d.clientY,16)}),e().keypress(function(d){o.collectInt(d.charCode,8)}))}if(!Bn.random)Bn.random=o;else for(var u in o)Bn.random[u]=o[u];Bn.random.createInstance=i,uP.exports=Bn.random})(typeof jQuery<"u"?jQuery:null)})()});var hP=ae((iTe,qV)=>{var cs=v0();G0();var dP=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],MV=[1,2,3,5],Hoe=s(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),Voe=s(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");qV.exports=cs.rc2=cs.rc2||{};cs.rc2.expandKey=function(e,t){typeof e=="string"&&(e=cs.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,o=Math.ceil(i/8),a=255>>(i&7),l;for(l=n;l<128;l++)r.putByte(dP[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-o,dP[r.at(128-o)&a]),l=127-o;l>=0;l--)r.setAt(l,dP[r.at(l+1)^r.at(l+o)]);return r};var UV=s(function(e,t,r){var n=!1,i=null,o=null,a=null,l,f,c,u,d=[];for(e=cs.rc2.expandKey(e,t),c=0;c<64;c++)d.push(e.getInt16Le());r?(l=s(function(y){for(c=0;c<4;c++)y[c]+=d[u]+(y[(c+3)%4]&y[(c+2)%4])+(~y[(c+3)%4]&y[(c+1)%4]),y[c]=Hoe(y[c],MV[c]),u++},"mixRound"),f=s(function(y){for(c=0;c<4;c++)y[c]+=d[y[(c+3)%4]&63]},"mashRound")):(l=s(function(y){for(c=3;c>=0;c--)y[c]=Voe(y[c],MV[c]),y[c]-=d[u]+(y[(c+3)%4]&y[(c+2)%4])+(~y[(c+3)%4]&y[(c+1)%4]),u--},"mixRound"),f=s(function(y){for(c=3;c>=0;c--)y[c]-=d[y[(c+3)%4]&63]},"mashRound"));var p=s(function(y){var _=[];for(c=0;c<4;c++){var S=i.getInt16Le();a!==null&&(r?S^=a.getInt16Le():a.putInt16Le(S)),_.push(S&65535)}u=r?0:63;for(var T=0;T<y.length;T++)for(var I=0;I<y[T][0];I++)y[T][1](_);for(c=0;c<4;c++)a!==null&&(r?a.putInt16Le(_[c]):_[c]^=a.getInt16Le()),o.putInt16Le(_[c])},"runPlan"),g=null;return g={start:function(y,_){y&&typeof y=="string"&&(y=cs.util.createBuffer(y)),n=!1,i=cs.util.createBuffer(),o=_||new cs.util.createBuffer,a=y,g.output=o},update:function(y){for(n||i.putBuffer(y);i.length()>=8;)p([[5,l],[1,f],[6,l],[1,f],[5,l]])},finish:function(y){var _=!0;if(r)if(y)_=y(8,i,!r);else{var S=i.length()===8?8:8-i.length();i.fillWithByte(S,S)}if(_&&(n=!0,g.update()),!r&&(_=i.length()===0,_))if(y)_=y(8,o,!r);else{var T=o.length(),I=o.at(T-1);I>T?_=!1:o.truncate(I)}return _}},g},"createCipher");cs.rc2.startEncrypting=function(e,t,r){var n=cs.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};cs.rc2.createEncryptionCipher=function(e,t){return UV(e,t,!0)};cs.rc2.startDecrypting=function(e,t,r){var n=cs.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};cs.rc2.createDecryptionCipher=function(e,t){return UV(e,t,!1)}});var n6=ae((oTe,GV)=>{var mP=v0();GV.exports=mP.jsbn=mP.jsbn||{};var ff,zoe=0xdeadbeefcafe,jV=(zoe&16777215)==15715070;function et(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}s(et,"BigInteger");mP.jsbn.BigInteger=et;function Y0(){return new et(null)}s(Y0,"nbi");function Koe(e,t,r,n,i,o){for(;--o>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}s(Koe,"am1");function Woe(e,t,r,n,i,o){for(var a=t&32767,l=t>>15;--o>=0;){var f=this.data[e]&32767,c=this.data[e++]>>15,u=l*f+c*a;f=a*f+((u&32767)<<15)+r.data[n]+(i&1073741823),i=(f>>>30)+(u>>>15)+l*c+(i>>>30),r.data[n++]=f&1073741823}return i}s(Woe,"am2");function $V(e,t,r,n,i,o){for(var a=t&16383,l=t>>14;--o>=0;){var f=this.data[e]&16383,c=this.data[e++]>>14,u=l*f+c*a;f=a*f+((u&16383)<<14)+r.data[n]+i,i=(f>>28)+(u>>14)+l*c,r.data[n++]=f&268435455}return i}s($V,"am3");typeof navigator>"u"?(et.prototype.am=$V,ff=28):jV&&navigator.appName=="Microsoft Internet Explorer"?(et.prototype.am=Woe,ff=30):jV&&navigator.appName!="Netscape"?(et.prototype.am=Koe,ff=26):(et.prototype.am=$V,ff=28);et.prototype.DB=ff;et.prototype.DM=(1<<ff)-1;et.prototype.DV=1<<ff;var gP=52;et.prototype.FV=Math.pow(2,gP);et.prototype.F1=gP-ff;et.prototype.F2=2*ff-gP;var Goe="0123456789abcdefghijklmnopqrstuvwxyz",Uy=new Array,g2,yo;g2=48;for(yo=0;yo<=9;++yo)Uy[g2++]=yo;g2=97;for(yo=10;yo<36;++yo)Uy[g2++]=yo;g2=65;for(yo=10;yo<36;++yo)Uy[g2++]=yo;function HV(e){return Goe.charAt(e)}s(HV,"int2char");function VV(e,t){var r=Uy[e.charCodeAt(t)];return r==null?-1:r}s(VV,"intAt");function Yoe(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}s(Yoe,"bnpCopyTo");function Xoe(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}s(Xoe,"bnpFromInt");function Wc(e){var t=Y0();return t.fromInt(e),t}s(Wc,"nbv");function Joe(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var a=r==8?e[n]&255:VV(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&e[0]&128&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&et.ZERO.subTo(this,this)}s(Joe,"bnpFromString");function Qoe(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}s(Qoe,"bnpClamp");function Zoe(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,o="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(n=this.data[a]>>l)>0&&(i=!0,o=HV(n));a>=0;)l<t?(n=(this.data[a]&(1<<l)-1)<<t-l,n|=this.data[--a]>>(l+=this.DB-t)):(n=this.data[a]>>(l-=t)&r,l<=0&&(l+=this.DB,--a)),n>0&&(i=!0),i&&(o+=HV(n));return i?o:"0"}s(Zoe,"bnToString");function eae(){var e=Y0();return et.ZERO.subTo(this,e),e}s(eae,"bnNegate");function tae(){return this.s<0?this.negate():this}s(tae,"bnAbs");function rae(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}s(rae,"bnCompareTo");function qy(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}s(qy,"nbits");function nae(){return this.t<=0?0:this.DB*(this.t-1)+qy(this.data[this.t-1]^this.s&this.DM)}s(nae,"bnBitLength");function iae(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}s(iae,"bnpDLShiftTo");function sae(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}s(sae,"bnpDRShiftTo");function oae(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),a=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t.data[l+o+1]=this.data[l]>>n|a,a=(this.data[l]&i)<<r;for(l=o-1;l>=0;--l)t.data[l]=0;t.data[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()}s(oae,"bnpLShiftTo");function aae(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&o)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}s(aae,"bnpRShiftTo");function lae(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}s(lae,"bnpSubTo");function fae(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&et.ZERO.subTo(t,t)}s(fae,"bnpMultiplyTo");function cae(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}s(cae,"bnpSquareTo");function uae(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Y0());var o=Y0(),a=this.s,l=e.s,f=this.DB-qy(n.data[n.t-1]);f>0?(n.lShiftTo(f,o),i.lShiftTo(f,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,u=o.data[c-1];if(u!=0){var d=u*(1<<this.F1)+(c>1?o.data[c-2]>>this.F2:0),p=this.FV/d,g=(1<<this.F1)/d,y=1<<this.F2,_=r.t,S=_-c,T=t==null?Y0():t;for(o.dlShiftTo(S,T),r.compareTo(T)>=0&&(r.data[r.t++]=1,r.subTo(T,r)),et.ONE.dlShiftTo(c,T),T.subTo(o,o);o.t<c;)o.data[o.t++]=0;for(;--S>=0;){var I=r.data[--_]==u?this.DM:Math.floor(r.data[_]*p+(r.data[_-1]+y)*g);if((r.data[_]+=o.am(0,I,r,S,0,c))<I)for(o.dlShiftTo(S,T),r.subTo(T,r);r.data[_]<--I;)r.subTo(T,r)}t!=null&&(r.drShiftTo(c,t),a!=l&&et.ZERO.subTo(t,t)),r.t=c,r.clamp(),f>0&&r.rShiftTo(f,r),a<0&&et.ZERO.subTo(r,r)}}}s(uae,"bnpDivRemTo");function dae(e){var t=Y0();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(et.ZERO)>0&&e.subTo(t,t),t}s(dae,"bnMod");function _d(e){this.m=e}s(_d,"Classic");function hae(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}s(hae,"cConvert");function mae(e){return e}s(mae,"cRevert");function gae(e){e.divRemTo(this.m,null,e)}s(gae,"cReduce");function pae(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(pae,"cMulTo");function yae(e,t){e.squareTo(t),this.reduce(t)}s(yae,"cSqrTo");_d.prototype.convert=hae;_d.prototype.revert=mae;_d.prototype.reduce=gae;_d.prototype.mulTo=pae;_d.prototype.sqrTo=yae;function vae(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}s(vae,"bnpInvDigit");function bd(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}s(bd,"Montgomery");function xae(e){var t=Y0();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(et.ZERO)>0&&this.m.subTo(t,t),t}s(xae,"montConvert");function _ae(e){var t=Y0();return e.copyTo(t),this.reduce(t),t}s(_ae,"montRevert");function bae(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}s(bae,"montReduce");function Cae(e,t){e.squareTo(t),this.reduce(t)}s(Cae,"montSqrTo");function Tae(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(Tae,"montMulTo");bd.prototype.convert=xae;bd.prototype.revert=_ae;bd.prototype.reduce=bae;bd.prototype.mulTo=Tae;bd.prototype.sqrTo=Cae;function Eae(){return(this.t>0?this.data[0]&1:this.s)==0}s(Eae,"bnpIsEven");function Sae(e,t){if(e>4294967295||e<1)return et.ONE;var r=Y0(),n=Y0(),i=t.convert(this),o=qy(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}s(Sae,"bnpExp");function wae(e,t){var r;return e<256||t.isEven()?r=new _d(t):r=new bd(t),this.exp(e,r)}s(wae,"bnModPowInt");et.prototype.copyTo=Yoe;et.prototype.fromInt=Xoe;et.prototype.fromString=Joe;et.prototype.clamp=Qoe;et.prototype.dlShiftTo=iae;et.prototype.drShiftTo=sae;et.prototype.lShiftTo=oae;et.prototype.rShiftTo=aae;et.prototype.subTo=lae;et.prototype.multiplyTo=fae;et.prototype.squareTo=cae;et.prototype.divRemTo=uae;et.prototype.invDigit=vae;et.prototype.isEven=Eae;et.prototype.exp=Sae;et.prototype.toString=Zoe;et.prototype.negate=eae;et.prototype.abs=tae;et.prototype.compareTo=rae;et.prototype.bitLength=nae;et.prototype.mod=dae;et.prototype.modPowInt=wae;et.ZERO=Wc(0);et.ONE=Wc(1);function Iae(){var e=Y0();return this.copyTo(e),e}s(Iae,"bnClone");function Aae(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}s(Aae,"bnIntValue");function Pae(){return this.t==0?this.s:this.data[0]<<24>>24}s(Pae,"bnByteValue");function Rae(){return this.t==0?this.s:this.data[0]<<16>>16}s(Rae,"bnShortValue");function Nae(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}s(Nae,"bnpChunkSize");function kae(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}s(kae,"bnSigNum");function Dae(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=Wc(r),i=Y0(),o=Y0(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(e)+a}s(Dae,"bnpToRadix");function Lae(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,o=0,a=0,l=0;l<e.length;++l){var f=VV(e,l);if(f<0){e.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+f,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0)}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&et.ZERO.subTo(this,this)}s(Lae,"bnpFromRadix");function Bae(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(et.ONE.shiftLeft(e-1),pP,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(et.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}s(Bae,"bnpFromNumber");function Oae(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}s(Oae,"bnToByteArray");function Fae(e){return this.compareTo(e)==0}s(Fae,"bnEquals");function Mae(e){return this.compareTo(e)<0?this:e}s(Mae,"bnMin");function Uae(e){return this.compareTo(e)>0?this:e}s(Uae,"bnMax");function qae(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}s(qae,"bnpBitwiseTo");function jae(e,t){return e&t}s(jae,"op_and");function $ae(e){var t=Y0();return this.bitwiseTo(e,jae,t),t}s($ae,"bnAnd");function pP(e,t){return e|t}s(pP,"op_or");function Hae(e){var t=Y0();return this.bitwiseTo(e,pP,t),t}s(Hae,"bnOr");function zV(e,t){return e^t}s(zV,"op_xor");function Vae(e){var t=Y0();return this.bitwiseTo(e,zV,t),t}s(Vae,"bnXor");function KV(e,t){return e&~t}s(KV,"op_andnot");function zae(e){var t=Y0();return this.bitwiseTo(e,KV,t),t}s(zae,"bnAndNot");function Kae(){for(var e=Y0(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}s(Kae,"bnNot");function Wae(e){var t=Y0();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}s(Wae,"bnShiftLeft");function Gae(e){var t=Y0();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}s(Gae,"bnShiftRight");function Yae(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}s(Yae,"lbit");function Xae(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+Yae(this.data[e]);return this.s<0?this.t*this.DB:-1}s(Xae,"bnGetLowestSetBit");function Jae(e){for(var t=0;e!=0;)e&=e-1,++t;return t}s(Jae,"cbit");function Qae(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=Jae(this.data[r]^t);return e}s(Qae,"bnBitCount");function Zae(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}s(Zae,"bnTestBit");function ele(e,t){var r=et.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}s(ele,"bnpChangeBit");function tle(e){return this.changeBit(e,pP)}s(tle,"bnSetBit");function rle(e){return this.changeBit(e,KV)}s(rle,"bnClearBit");function nle(e){return this.changeBit(e,zV)}s(nle,"bnFlipBit");function ile(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}s(ile,"bnpAddTo");function sle(e){var t=Y0();return this.addTo(e,t),t}s(sle,"bnAdd");function ole(e){var t=Y0();return this.subTo(e,t),t}s(ole,"bnSubtract");function ale(e){var t=Y0();return this.multiplyTo(e,t),t}s(ale,"bnMultiply");function lle(e){var t=Y0();return this.divRemTo(e,t,null),t}s(lle,"bnDivide");function fle(e){var t=Y0();return this.divRemTo(e,null,t),t}s(fle,"bnRemainder");function cle(e){var t=Y0(),r=Y0();return this.divRemTo(e,t,r),new Array(t,r)}s(cle,"bnDivideAndRemainder");function ule(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}s(ule,"bnpDMultiply");function dle(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}s(dle,"bnpDAddOffset");function r6(){}s(r6,"NullExp");function WV(e){return e}s(WV,"nNop");function hle(e,t,r){e.multiplyTo(t,r)}s(hle,"nMulTo");function mle(e,t){e.squareTo(t)}s(mle,"nSqrTo");r6.prototype.convert=WV;r6.prototype.revert=WV;r6.prototype.mulTo=hle;r6.prototype.sqrTo=mle;function gle(e){return this.exp(e,new r6)}s(gle,"bnPow");function ple(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}s(ple,"bnpMultiplyLowerTo");function yle(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}s(yle,"bnpMultiplyUpperTo");function p2(e){this.r2=Y0(),this.q3=Y0(),et.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}s(p2,"Barrett");function vle(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Y0();return e.copyTo(t),this.reduce(t),t}s(vle,"barrettConvert");function xle(e){return e}s(xle,"barrettRevert");function _le(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}s(_le,"barrettReduce");function ble(e,t){e.squareTo(t),this.reduce(t)}s(ble,"barrettSqrTo");function Cle(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(Cle,"barrettMulTo");p2.prototype.convert=vle;p2.prototype.revert=xle;p2.prototype.reduce=_le;p2.prototype.mulTo=Cle;p2.prototype.sqrTo=ble;function Tle(e,t){var r=e.bitLength(),n,i=Wc(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new _d(t):t.isEven()?o=new p2(t):o=new bd(t);var a=new Array,l=3,f=n-1,c=(1<<n)-1;if(a[1]=o.convert(this),n>1){var u=Y0();for(o.sqrTo(a[1],u);l<=c;)a[l]=Y0(),o.mulTo(u,a[l-2],a[l]),l+=2}var d=e.t-1,p,g=!0,y=Y0(),_;for(r=qy(e.data[d])-1;d>=0;){for(r>=f?p=e.data[d]>>r-f&c:(p=(e.data[d]&(1<<r+1)-1)<<f-r,d>0&&(p|=e.data[d-1]>>this.DB+r-f)),l=n;!(p&1);)p>>=1,--l;if((r-=l)<0&&(r+=this.DB,--d),g)a[p].copyTo(i),g=!1;else{for(;l>1;)o.sqrTo(i,y),o.sqrTo(y,i),l-=2;l>0?o.sqrTo(i,y):(_=i,i=y,y=_),o.mulTo(y,a[p],i)}for(;d>=0&&!(e.data[d]&1<<r);)o.sqrTo(i,y),_=i,i=y,y=_,--r<0&&(r=this.DB-1,--d)}return o.revert(i)}s(Tle,"bnModPow");function Ele(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}s(Ele,"bnGCD");function Sle(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}s(Sle,"bnpModInt");function wle(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return et.ZERO;for(var r=e.clone(),n=this.clone(),i=Wc(1),o=Wc(0),a=Wc(0),l=Wc(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!l.isEven())&&(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),o.subTo(l,o)):(n.subTo(r,n),t&&a.subTo(i,a),l.subTo(o,l))}if(n.compareTo(et.ONE)!=0)return et.ZERO;if(l.compareTo(e)>=0)return l.subtract(e);if(l.signum()<0)l.addTo(e,l);else return l;return l.signum()<0?l.add(e):l}s(wle,"bnModInverse");var ea=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Ile=(1<<26)/ea[ea.length-1];function Ale(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=ea[ea.length-1]){for(t=0;t<ea.length;++t)if(r.data[0]==ea[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<ea.length;){for(var n=ea[t],i=t+1;i<ea.length&&n<Ile;)n*=ea[i++];for(n=r.modInt(n);t<i;)if(n%ea[t++]==0)return!1}return r.millerRabin(e)}s(Ale,"bnIsProbablePrime");function Ple(e){var t=this.subtract(et.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=Rle(),o,a=0;a<e;++a){do o=new et(this.bitLength(),i);while(o.compareTo(et.ONE)<=0||o.compareTo(t)>=0);var l=o.modPow(n,this);if(l.compareTo(et.ONE)!=0&&l.compareTo(t)!=0){for(var f=1;f++<r&&l.compareTo(t)!=0;)if(l=l.modPowInt(2,this),l.compareTo(et.ONE)==0)return!1;if(l.compareTo(t)!=0)return!1}}return!0}s(Ple,"bnpMillerRabin");function Rle(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}s(Rle,"bnGetPrng");et.prototype.chunkSize=Nae;et.prototype.toRadix=Dae;et.prototype.fromRadix=Lae;et.prototype.fromNumber=Bae;et.prototype.bitwiseTo=qae;et.prototype.changeBit=ele;et.prototype.addTo=ile;et.prototype.dMultiply=ule;et.prototype.dAddOffset=dle;et.prototype.multiplyLowerTo=ple;et.prototype.multiplyUpperTo=yle;et.prototype.modInt=Sle;et.prototype.millerRabin=Ple;et.prototype.clone=Iae;et.prototype.intValue=Aae;et.prototype.byteValue=Pae;et.prototype.shortValue=Rae;et.prototype.signum=kae;et.prototype.toByteArray=Oae;et.prototype.equals=Fae;et.prototype.min=Mae;et.prototype.max=Uae;et.prototype.and=$ae;et.prototype.or=Hae;et.prototype.xor=Vae;et.prototype.andNot=zae;et.prototype.not=Kae;et.prototype.shiftLeft=Wae;et.prototype.shiftRight=Gae;et.prototype.getLowestSetBit=Xae;et.prototype.bitCount=Qae;et.prototype.testBit=Zae;et.prototype.setBit=tle;et.prototype.clearBit=rle;et.prototype.flipBit=nle;et.prototype.add=sle;et.prototype.subtract=ole;et.prototype.multiply=ale;et.prototype.divide=lle;et.prototype.remainder=fle;et.prototype.divideAndRemainder=cle;et.prototype.modPow=Tle;et.prototype.modInverse=wle;et.prototype.pow=gle;et.prototype.gcd=Ele;et.prototype.isProbablePrime=Ale});var y2=ae((lTe,QV)=>{var Xa=v0();za();G0();var XV=QV.exports=Xa.sha1=Xa.sha1||{};Xa.md.sha1=Xa.md.algorithms.sha1=XV;XV.create=function(){JV||Nle();var e=null,t=Xa.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=Xa.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Xa.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),YV(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Xa.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(yP.substr(0,n.blockLength-a));for(var l,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)l=n.fullMessageLength[u+1]*8,f=l/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=l>>>0;i.putInt32(c);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};YV(d,r,i);var p=Xa.util.createBuffer();return p.putInt32(d.h0),p.putInt32(d.h1),p.putInt32(d.h2),p.putInt32(d.h3),p.putInt32(d.h4),p},n};var yP=null,JV=!1;function Nle(){yP="\x80",yP+=Xa.util.fillString("\0",64),JV=!0}s(Nle,"_init");function YV(e,t,r){for(var n,i,o,a,l,f,c,u,d=r.length();d>=64;){for(i=e.h0,o=e.h1,a=e.h2,l=e.h3,f=e.h4,u=0;u<16;++u)n=r.getInt32(),t[u]=n,c=l^o&(a^l),n=(i<<5|i>>>27)+c+f+1518500249+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<20;++u)n=t[u-3]^t[u-8]^t[u-14]^t[u-16],n=n<<1|n>>>31,t[u]=n,c=l^o&(a^l),n=(i<<5|i>>>27)+c+f+1518500249+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<32;++u)n=t[u-3]^t[u-8]^t[u-14]^t[u-16],n=n<<1|n>>>31,t[u]=n,c=o^a^l,n=(i<<5|i>>>27)+c+f+1859775393+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<40;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,c=o^a^l,n=(i<<5|i>>>27)+c+f+1859775393+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<60;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,c=o&a|l&(o^a),n=(i<<5|i>>>27)+c+f+2400959708+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<80;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,c=o^a^l,n=(i<<5|i>>>27)+c+f+3395469782+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,e.h4=e.h4+f|0,d-=64}}s(YV,"_update")});var vP=ae((cTe,ez)=>{var Ja=v0();G0();po();y2();var ZV=ez.exports=Ja.pkcs1=Ja.pkcs1||{};ZV.encode_rsa_oaep=function(e,t,r){var n,i,o,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,o=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),o?o.start():o=Ja.md.sha1.create(),a||(a=o);var l=Math.ceil(e.n.bitLength()/8),f=l-2*o.digestLength-2;if(t.length>f){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=t.length,c.maxLength=f,c}n||(n=""),o.update(n,"raw");for(var u=o.digest(),d="",p=f-t.length,g=0;g<p;g++)d+="\0";var y=u.getBytes()+d+""+t;if(!i)i=Ja.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=o.digestLength,c}var _=jy(i,l-o.digestLength-1,a),S=Ja.util.xorBytes(y,_,y.length),T=jy(S,o.digestLength,a),I=Ja.util.xorBytes(i,T,i.length);return"\0"+I+S};ZV.decode_rsa_oaep=function(e,t,r){var n,i,o;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var S=new Error("RSAES-OAEP encoded message length is invalid.");throw S.length=t.length,S.expectedLength=a,S}if(i===void 0?i=Ja.md.sha1.create():i.start(),o||(o=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var l=i.digest().getBytes(),f=t.charAt(0),c=t.substring(1,i.digestLength+1),u=t.substring(1+i.digestLength),d=jy(u,i.digestLength,o),p=Ja.util.xorBytes(c,d,c.length),g=jy(p,a-i.digestLength-1,o),y=Ja.util.xorBytes(u,g,u.length),_=y.substring(0,i.digestLength),S=f!=="\0",T=0;T<i.digestLength;++T)S|=l.charAt(T)!==_.charAt(T);for(var I=1,P=i.digestLength,M=i.digestLength;M<y.length;M++){var N=y.charCodeAt(M),L=N&1^1,X=I?65534:0;S|=N&X,I=I&L,P+=I}if(S||y.charCodeAt(P)!==1)throw new Error("Invalid RSAES-OAEP padding.");return y.substring(P+1)};function jy(e,t,r){r||(r=Ja.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),o=0;o<i;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}s(jy,"rsa_mgf1")});var _P=ae((dTe,xP)=>{var Gc=v0();G0();n6();po();(function(){if(Gc.prime){xP.exports=Gc.prime;return}var e=xP.exports=Gc.prime=Gc.prime||{},t=Gc.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=s(function(d,p){return d|p},"op_or");e.generateProbablePrime=function(d,p,g){typeof p=="function"&&(g=p,p={}),p=p||{};var y=p.algorithm||"PRIMEINC";typeof y=="string"&&(y={name:y}),y.options=y.options||{};var _=p.prng||Gc.random,S={nextBytes:function(T){for(var I=_.getBytesSync(T.length),P=0;P<T.length;++P)T[P]=I.charCodeAt(P)}};if(y.name==="PRIMEINC")return o(d,S,y.options,g);throw new Error("Invalid prime generation algorithm: "+y.name)};function o(d,p,g,y){return"workers"in g?f(d,p,g,y):a(d,p,g,y)}s(o,"primeincFindPrime");function a(d,p,g,y){var _=c(d,p),S=0,T=u(_.bitLength());"millerRabinTests"in g&&(T=g.millerRabinTests);var I=10;"maxBlockTime"in g&&(I=g.maxBlockTime),l(_,d,p,S,T,I,y)}s(a,"primeincFindPrimeWithoutWorkers");function l(d,p,g,y,_,S,T){var I=+new Date;do{if(d.bitLength()>p&&(d=c(p,g)),d.isProbablePrime(_))return T(null,d);d.dAddOffset(r[y++%8],0)}while(S<0||+new Date-I<S);Gc.util.setImmediate(function(){l(d,p,g,y,_,S,T)})}s(l,"_primeinc");function f(d,p,g,y){if(typeof Worker>"u")return a(d,p,g,y);var _=c(d,p),S=g.workers,T=g.workLoad||100,I=T*30/8,P=g.workerScript||"forge/prime.worker.js";if(S===-1)return Gc.util.estimateCores(function(N,L){N&&(L=2),S=L-1,M()});M();function M(){S=Math.max(1,S);for(var N=[],L=0;L<S;++L)N[L]=new Worker(P);for(var X=S,L=0;L<S;++L)N[L].addEventListener("message",Ce);var te=!1;function Ce(De){if(!te){--X;var pe=De.data;if(pe.found){for(var Ie=0;Ie<N.length;++Ie)N[Ie].terminate();return te=!0,y(null,new t(pe.prime,16))}_.bitLength()>d&&(_=c(d,p));var ie=_.toString(16);De.target.postMessage({hex:ie,workLoad:T}),_.dAddOffset(I,0)}}s(Ce,"workerMessage")}s(M,"generate")}s(f,"primeincFindPrimeWithWorkers");function c(d,p){var g=new t(d,p),y=d-1;return g.testBit(y)||g.bitwiseTo(t.ONE.shiftLeft(y),i,g),g.dAddOffset(31-g.mod(n).byteValue(),0),g}s(c,"generateRandom");function u(d){return d<=100?27:d<=150?18:d<=200?15:d<=250?12:d<=300?9:d<=350?8:d<=400?7:d<=500?6:d<=600?5:d<=800?4:d<=1250?3:2}s(u,"getMillerRabinTests")})()});var i6=ae((mTe,az)=>{var qt=v0();Zo();n6();Kc();vP();_P();po();G0();typeof z0>"u"&&(z0=qt.jsbn.BigInteger);var z0,bP=qt.util.isNodejs?require("crypto"):null,Pe=qt.asn1,vo=qt.util;qt.pki=qt.pki||{};az.exports=qt.pki.rsa=qt.rsa=qt.rsa||{};var c0=qt.pki,kle=[6,4,2,4,2,4,6,2],Dle={name:"PrivateKeyInfo",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Lle={name:"RSAPrivateKey",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Ble={name:"RSAPublicKey",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Ole=qt.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Fle={name:"DigestInfo",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},Mle=s(function(e){var t;if(e.algorithm in c0.oids)t=c0.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=Pe.oidToDer(t).getBytes(),i=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[]),o=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[]);o.value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,n)),o.value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,""));var a=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(o),i.value.push(a),Pe.toDer(i).getBytes()},"emsaPkcs1v15encode"),sz=s(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(z0.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(z0.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new z0(qt.util.bytesToHex(qt.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(z0.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(o)<0;)i=i.add(t.p);var a=i.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");c0.rsa.encrypt=function(e,t,r){var n=r,i,o=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=oz(e,t,r)):(i=qt.util.createBuffer(),i.putBytes(e));for(var a=new z0(i.toHex(),16),l=sz(a,t,n),f=l.toString(16),c=qt.util.createBuffer(),u=o-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(qt.util.hexToBytes(f)),c.getBytes()};c0.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=i,o}var a=new z0(qt.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=sz(a,t,r),f=l.toString(16),c=qt.util.createBuffer(),u=i-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(qt.util.hexToBytes(f)),n!==!1?$y(c.getBytes(),t,r):c.getBytes()};c0.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||qt.random,i={nextBytes:function(l){for(var f=n.getBytesSync(l.length),c=0;c<l.length;++c)l[c]=f.charCodeAt(c)}},o=r.algorithm||"PRIMEINC",a;if(o==="PRIMEINC")a={algorithm:o,state:0,bits:e,rng:i,eInt:t||65537,e:new z0(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+o);return a};c0.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new z0(null);r.fromInt(30);for(var n=0,i=s(function(d,p){return d|p},"op_or"),o=+new Date,a,l=0;e.keys===null&&(t<=0||l<t);){if(e.state===0){var f=e.p===null?e.pBits:e.qBits,c=f-1;e.pqState===0?(e.num=new z0(f,e.rng),e.num.testBit(c)||e.num.bitwiseTo(z0.ONE.shiftLeft(c),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>f?e.pqState=0:e.num.isProbablePrime(qle(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(kle[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(z0.ONE).gcd(e.e).compareTo(z0.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(z0.ONE),e.q1=e.q.subtract(z0.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(z0.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var u=e.e.modInverse(e.phi);e.keys={privateKey:c0.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:c0.rsa.setPublicKey(e.n,e.e)}}a=+new Date,l+=a-o,o=a}return e.keys!==null};c0.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!qt.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(tz("generateKeyPair"))return bP.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,f,c){if(l)return n(l);n(null,{privateKey:c0.privateKeyFromPem(c),publicKey:c0.publicKeyFromPem(f)})});if(rz("generateKey")&&rz("exportKey"))return vo.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:iz(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return vo.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var f=c0.privateKeyFromAsn1(Pe.fromDer(qt.util.createBuffer(l)));n(null,{privateKey:f,publicKey:c0.setRsaPublicKey(f.n,f.e)})}});if(nz("generateKey")&&nz("exportKey")){var i=vo.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:iz(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(l){var f=l.target.result,c=vo.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);c.oncomplete=function(u){var d=u.target.result,p=c0.privateKeyFromAsn1(Pe.fromDer(qt.util.createBuffer(d)));n(null,{privateKey:p,publicKey:c0.setRsaPublicKey(p.n,p.e)})},c.onerror=function(u){n(u)}},i.onerror=function(l){n(l)};return}}else if(tz("generateKeyPairSync")){var o=bP.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:c0.privateKeyFromPem(o.privateKey),publicKey:c0.publicKeyFromPem(o.publicKey)}}}var a=c0.rsa.createKeyPairGenerationState(e,t,r);if(!n)return c0.rsa.stepKeyPairGenerationState(a,0),a.keys;Ule(a,r,n)};c0.setRsaPublicKey=c0.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(l,f,c){return oz(l,f,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(l,f){return qt.pkcs1.encode_rsa_oaep(f,l,o)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(l){return l}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return c0.rsa.encrypt(a,r,!0)},r.verify=function(n,i,o,a){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:function(f,c){c=$y(c,r,!0);var u=Pe.fromDer(c,{parseAllBytes:a._parseAllDigestBytes}),d={},p=[];if(!Pe.validate(u,Fle,d,p)){var g=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw g.errors=p,g}var y=Pe.derToOid(d.algorithmIdentifier);if(!(y===qt.oids.md2||y===qt.oids.md5||y===qt.oids.sha1||y===qt.oids.sha224||y===qt.oids.sha256||y===qt.oids.sha384||y===qt.oids.sha512||y===qt.oids["sha512-224"]||y===qt.oids["sha512-256"])){var g=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw g.oid=y,g}if((y===qt.oids.md2||y===qt.oids.md5)&&!("parameters"in d))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return f===d.digest}}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:function(f,c){return c=$y(c,r,!0),f===c}});var l=c0.rsa.decrypt(i,r,!0,!1);return o.verify(n,l,r.n.bitLength())},r};c0.setRsaPrivateKey=c0.rsa.setPrivateKey=function(e,t,r,n,i,o,a,l){var f={n:e,e:t,d:r,p:n,q:i,dP:o,dQ:a,qInv:l};return f.decrypt=function(c,u,d){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var p=c0.rsa.decrypt(c,f,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:$y};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(g,y){return qt.pkcs1.decode_rsa_oaep(y,g,d)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(g){return g}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(p,f,!1)},f.sign=function(c,u){var d=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:Mle},d=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return c}},d=1);var p=u.encode(c,f.n.bitLength());return c0.rsa.encrypt(p,f,d)},f};c0.wrapRsaPrivateKey=function(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(0).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(c0.oids.rsaEncryption).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,Pe.toDer(e).getBytes())])};c0.privateKeyFromAsn1=function(e){var t={},r=[];if(Pe.validate(e,Dle,t,r)&&(e=Pe.fromDer(qt.util.createBuffer(t.privateKey))),t={},r=[],!Pe.validate(e,Lle,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,o,a,l,f,c,u,d;return i=qt.util.createBuffer(t.privateKeyModulus).toHex(),o=qt.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=qt.util.createBuffer(t.privateKeyPrivateExponent).toHex(),l=qt.util.createBuffer(t.privateKeyPrime1).toHex(),f=qt.util.createBuffer(t.privateKeyPrime2).toHex(),c=qt.util.createBuffer(t.privateKeyExponent1).toHex(),u=qt.util.createBuffer(t.privateKeyExponent2).toHex(),d=qt.util.createBuffer(t.privateKeyCoefficient).toHex(),c0.setRsaPrivateKey(new z0(i,16),new z0(o,16),new z0(a,16),new z0(l,16),new z0(f,16),new z0(c,16),new z0(u,16),new z0(d,16))};c0.privateKeyToAsn1=c0.privateKeyToRSAPrivateKey=function(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(0).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.n)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.e)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.d)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.p)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.q)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.dP)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.dQ)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.qInv))])};c0.publicKeyFromAsn1=function(e){var t={},r=[];if(Pe.validate(e,Ole,t,r)){var n=Pe.derToOid(t.publicKeyOid);if(n!==c0.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!Pe.validate(e,Ble,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var o=qt.util.createBuffer(t.publicKeyModulus).toHex(),a=qt.util.createBuffer(t.publicKeyExponent).toHex();return c0.setRsaPublicKey(new z0(o,16),new z0(a,16))};c0.publicKeyToAsn1=c0.publicKeyToSubjectPublicKeyInfo=function(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(c0.oids.rsaEncryption).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.BITSTRING,!1,[c0.publicKeyToRSAPublicKey(e)])])};c0.publicKeyToRSAPublicKey=function(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.n)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.e))])};function oz(e,t,r){var n=qt.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=e.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var a=i-3-e.length,l;if(r===0||r===1){l=r===0?0:255;for(var f=0;f<a;++f)n.putByte(l)}else for(;a>0;){for(var c=0,u=qt.random.getBytes(a),f=0;f<a;++f)l=u.charCodeAt(f),l===0?++c:n.putByte(l);a=c}return n.putByte(0),n.putBytes(e),n}s(oz,"_encodePkcs1_v1_5");function $y(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),o=qt.util.createBuffer(e),a=o.getByte(),l=o.getByte();if(a!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var f=0;if(l===0){f=i-3-n;for(var c=0;c<f;++c)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(f=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++f}else if(l===2)for(f=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++f}var u=o.getByte();if(u!==0||f!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}s($y,"_decodePkcs1_v1_5");function Ule(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){o(e.pBits,function(l,f){if(l)return r(l);if(e.p=f,e.q!==null)return a(l,e.q);o(e.qBits,a)})}s(i,"generate");function o(l,f){qt.prime.generateProbablePrime(l,n,f)}s(o,"getPrime");function a(l,f){if(l)return r(l);if(e.q=f,e.p.compareTo(e.q)<0){var c=e.p;e.p=e.q,e.q=c}if(e.p.subtract(z0.ONE).gcd(e.e).compareTo(z0.ONE)!==0){e.p=null,i();return}if(e.q.subtract(z0.ONE).gcd(e.e).compareTo(z0.ONE)!==0){e.q=null,o(e.qBits,a);return}if(e.p1=e.p.subtract(z0.ONE),e.q1=e.q.subtract(z0.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(z0.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,o(e.qBits,a);return}var u=e.e.modInverse(e.phi);e.keys={privateKey:c0.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:c0.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}s(a,"finish")}s(Ule,"_generateKeyPair");function Qa(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=qt.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}s(Qa,"_bnToBytes");function qle(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}s(qle,"_getMillerRabinTests");function tz(e){return qt.util.isNodejs&&typeof bP[e]=="function"}s(tz,"_detectNodeCrypto");function rz(e){return typeof vo.globalScope<"u"&&typeof vo.globalScope.crypto=="object"&&typeof vo.globalScope.crypto.subtle=="object"&&typeof vo.globalScope.crypto.subtle[e]=="function"}s(rz,"_detectSubtleCrypto");function nz(e){return typeof vo.globalScope<"u"&&typeof vo.globalScope.msCrypto=="object"&&typeof vo.globalScope.msCrypto.subtle=="object"&&typeof vo.globalScope.msCrypto.subtle[e]=="function"}s(nz,"_detectSubtleMsCrypto");function iz(e){for(var t=qt.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}s(iz,"_intToUint8Array")});var CP=ae((pTe,dz)=>{var St=v0();zc();Zo();t6();za();Kc();Fy();xd();po();hP();i6();G0();typeof lz>"u"&&(lz=St.jsbn.BigInteger);var lz,Me=St.asn1,y0=St.pki=St.pki||{};dz.exports=y0.pbe=St.pbe=St.pbe||{};var Cd=y0.oids,jle={name:"EncryptedPrivateKeyInfo",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},$le={name:"PBES2Algorithms",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:Me.Class.UNIVERSAL,type:Me.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:Me.Class.UNIVERSAL,type:Me.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Hle={name:"pkcs-12PbeParams",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:Me.Class.UNIVERSAL,type:Me.Type.INTEGER,constructed:!1,capture:"iterations"}]};y0.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=St.random.getBytesSync(r.saltSize),i=r.count,o=Me.integerToDer(i),a,l,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,u,d;switch(r.algorithm){case"aes128":a=16,c=16,u=Cd["aes128-CBC"],d=St.aes.createEncryptionCipher;break;case"aes192":a=24,c=16,u=Cd["aes192-CBC"],d=St.aes.createEncryptionCipher;break;case"aes256":a=32,c=16,u=Cd["aes256-CBC"],d=St.aes.createEncryptionCipher;break;case"des":a=8,c=8,u=Cd.desCBC,d=St.des.createEncryptionCipher;break;default:var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var g="hmacWith"+r.prfAlgorithm.toUpperCase(),y=uz(g),_=St.pkcs5.pbkdf2(t,n,i,a,y),S=St.random.getBytesSync(c),T=d(_);T.start(S),T.update(Me.toDer(e)),T.finish(),f=T.output.getBytes();var I=Vle(n,o,a,g);l=Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(Cd.pkcs5PBES2).getBytes()),Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(Cd.pkcs5PBKDF2).getBytes()),I]),Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(u).getBytes()),Me.create(Me.Class.UNIVERSAL,Me.Type.OCTETSTRING,!1,S)])])])}else if(r.algorithm==="3des"){a=24;var P=new St.util.ByteBuffer(n),_=y0.pbe.generatePkcs12Key(t,P,1,i,a),S=y0.pbe.generatePkcs12Key(t,P,2,i,a),T=St.des.createEncryptionCipher(_);T.start(S),T.update(Me.toDer(e)),T.finish(),f=T.output.getBytes(),l=Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(Cd["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OCTETSTRING,!1,n),Me.create(Me.Class.UNIVERSAL,Me.Type.INTEGER,!1,o.getBytes())])])}else{var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var M=Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[l,Me.create(Me.Class.UNIVERSAL,Me.Type.OCTETSTRING,!1,f)]);return M};y0.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!Me.validate(e,jle,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=Me.derToOid(n.encryptionOid),l=y0.pbe.getCipher(a,n.encryptionParams,t),f=St.util.createBuffer(n.encryptedData);return l.update(f),l.finish()&&(r=Me.fromDer(l.output)),r};y0.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:Me.toDer(e).getBytes()};return St.pem.encode(r,{maxline:t})};y0.encryptedPrivateKeyFromPem=function(e){var t=St.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return Me.fromDer(t.body)};y0.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=y0.wrapRsaPrivateKey(y0.privateKeyToAsn1(e));return n=y0.encryptPrivateKeyInfo(n,t,r),y0.encryptedPrivateKeyToPem(n)}var i,o,a,l;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,o=St.random.getBytesSync(16),l=St.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,o=St.random.getBytesSync(16),l=St.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,o=St.random.getBytesSync(16),l=St.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,o=St.random.getBytesSync(8),l=St.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,o=St.random.getBytesSync(8),l=St.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var c=St.pbe.opensslDeriveBytes(t,o.substr(0,8),a),u=l(c);u.start(o),u.update(Me.toDer(y0.privateKeyToAsn1(e))),u.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:St.util.bytesToHex(o).toUpperCase()},body:u.output.getBytes()};return St.pem.encode(d)};y0.decryptRsaPrivateKey=function(e,t){var r=null,n=St.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var o,a;switch(n.dekInfo.algorithm){case"DES-CBC":o=8,a=St.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,a=St.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,a=St.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,a=St.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,a=St.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,a=s(function(d){return St.rc2.createDecryptionCipher(d,40)},"cipherFn");break;case"RC2-64-CBC":o=8,a=s(function(d){return St.rc2.createDecryptionCipher(d,64)},"cipherFn");break;case"RC2-128-CBC":o=16,a=s(function(d){return St.rc2.createDecryptionCipher(d,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var l=St.util.hexToBytes(n.dekInfo.parameters),f=St.pbe.opensslDeriveBytes(t,l.substr(0,8),o),c=a(f);if(c.start(l),c.update(St.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=y0.decryptPrivateKeyInfo(Me.fromDer(r),t):r=Me.fromDer(r),r!==null&&(r=y0.privateKeyFromAsn1(r)),r};y0.pbe.generatePkcs12Key=function(e,t,r,n,i,o){var a,l;if(typeof o>"u"||o===null){if(!("sha1"in St.md))throw new Error('"sha1" hash algorithm unavailable.');o=St.md.sha1.create()}var f=o.digestLength,c=o.blockLength,u=new St.util.ByteBuffer,d=new St.util.ByteBuffer;if(e!=null){for(l=0;l<e.length;l++)d.putInt16(e.charCodeAt(l));d.putInt16(0)}var p=d.length(),g=t.length(),y=new St.util.ByteBuffer;y.fillWithByte(r,c);var _=c*Math.ceil(g/c),S=new St.util.ByteBuffer;for(l=0;l<_;l++)S.putByte(t.at(l%g));var T=c*Math.ceil(p/c),I=new St.util.ByteBuffer;for(l=0;l<T;l++)I.putByte(d.at(l%p));var P=S;P.putBuffer(I);for(var M=Math.ceil(i/f),N=1;N<=M;N++){var L=new St.util.ByteBuffer;L.putBytes(y.bytes()),L.putBytes(P.bytes());for(var X=0;X<n;X++)o.start(),o.update(L.getBytes()),L=o.digest();var te=new St.util.ByteBuffer;for(l=0;l<c;l++)te.putByte(L.at(l%f));var Ce=Math.ceil(g/c)+Math.ceil(p/c),De=new St.util.ByteBuffer;for(a=0;a<Ce;a++){var pe=new St.util.ByteBuffer(P.getBytes(c)),Ie=511;for(l=te.length()-1;l>=0;l--)Ie=Ie>>8,Ie+=te.at(l)+pe.at(l),pe.setAt(l,Ie&255);De.putBuffer(pe)}P=De,u.putBuffer(L)}return u.truncate(u.length()-i),u};y0.pbe.getCipher=function(e,t,r){switch(e){case y0.oids.pkcs5PBES2:return y0.pbe.getCipherForPBES2(e,t,r);case y0.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case y0.oids["pbewithSHAAnd40BitRC2-CBC"]:return y0.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};y0.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!Me.validate(t,$le,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(e=Me.derToOid(n.kdfOid),e!==y0.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=e,o.supportedOids=["pkcs5PBKDF2"],o}if(e=Me.derToOid(n.encOid),e!==y0.oids["aes128-CBC"]&&e!==y0.oids["aes192-CBC"]&&e!==y0.oids["aes256-CBC"]&&e!==y0.oids["des-EDE3-CBC"]&&e!==y0.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=e,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var a=n.kdfSalt,l=St.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var f,c;switch(y0.oids[e]){case"aes128-CBC":f=16,c=St.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,c=St.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,c=St.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,c=St.des.createDecryptionCipher;break;case"desCBC":f=8,c=St.des.createDecryptionCipher;break}var u=cz(n.prfOid),d=St.pkcs5.pbkdf2(r,a,l,f,u),p=n.encIv,g=c(d);return g.start(p),g};y0.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!Me.validate(t,Hle,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=St.util.createBuffer(n.salt),l=St.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var f,c,u;switch(e){case y0.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,c=8,u=St.des.startDecrypting;break;case y0.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,c=8,u=s(function(_,S){var T=St.rc2.createDecryptionCipher(_,40);return T.start(S,null),T},"cipherFn");break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=e,o}var d=cz(n.prfOid),p=y0.pbe.generatePkcs12Key(r,a,1,l,f,d);d.start();var g=y0.pbe.generatePkcs12Key(r,a,2,l,c,d);return u(p,g)};y0.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in St.md))throw new Error('"md5" hash algorithm unavailable.');n=St.md.md5.create()}t===null&&(t="");for(var i=[fz(n,e+t)],o=16,a=1;o<r;++a,o+=16)i.push(fz(n,i[a-1]+e+t));return i.join("").substr(0,r)};function fz(e,t){return e.start().update(t).digest().getBytes()}s(fz,"hash");function cz(e){var t;if(!e)t="hmacWithSHA1";else if(t=y0.oids[Me.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return uz(t)}s(cz,"prfOidToMessageDigest");function uz(e){var t=St.md;switch(e){case"hmacWithSHA224":t=St.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}s(uz,"prfAlgorithmToMessageDigest");function Vle(e,t,r,n){var i=Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OCTETSTRING,!1,e),Me.create(Me.Class.UNIVERSAL,Me.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(Me.create(Me.Class.UNIVERSAL,Me.Type.INTEGER,!1,St.util.hexToBytes(r.toString(16))),Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(y0.oids[n]).getBytes()),Me.create(Me.Class.UNIVERSAL,Me.Type.NULL,!1,"")])),i}s(Vle,"createPbkdf2Params")});var TP=ae((vTe,gz)=>{var v2=v0();Zo();G0();var bt=v2.asn1,x2=gz.exports=v2.pkcs7asn1=v2.pkcs7asn1||{};v2.pkcs7=v2.pkcs7||{};v2.pkcs7.asn1=x2;var hz={name:"ContentInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:bt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};x2.contentInfoValidator=hz;var mz={name:"EncryptedContentInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:bt.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:bt.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};x2.envelopedDataValidator={name:"EnvelopedData",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(mz)};x2.encryptedDataValidator={name:"EncryptedData",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"version"}].concat(mz)};var zle={name:"SignerInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:bt.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:bt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:bt.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};x2.signedDataValidator={name:"SignedData",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},hz,{name:"SignedData.Certificates",tagClass:bt.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:bt.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SET,capture:"signerInfos",optional:!0,value:[zle]}]};x2.recipientInfoValidator={name:"RecipientInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:bt.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var EP=ae((xTe,pz)=>{var Td=v0();G0();Td.mgf=Td.mgf||{};var Kle=pz.exports=Td.mgf.mgf1=Td.mgf1=Td.mgf1||{};Kle.create=function(e){var t={generate:function(r,n){for(var i=new Td.util.ByteBuffer,o=Math.ceil(n/e.digestLength),a=0;a<o;a++){var l=new Td.util.ByteBuffer;l.putInt32(a),e.start(),e.update(r+l.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()}};return t}});var vz=ae((_Te,yz)=>{var Hy=v0();EP();yz.exports=Hy.mgf=Hy.mgf||{};Hy.mgf.mgf1=Hy.mgf1});var Vy=ae((bTe,xz)=>{var Ed=v0();po();G0();var Wle=xz.exports=Ed.pss=Ed.pss||{};Wle.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=Ed.util.createBuffer(i));var o;if("saltLength"in e)o=e.saltLength;else if(i!==null)o=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==o)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||Ed.random,l={};return l.encode=function(f,c){var u,d=c-1,p=Math.ceil(d/8),g=f.digest().getBytes();if(p<n+o+2)throw new Error("Message is too long to encrypt.");var y;i===null?y=a.getBytesSync(o):y=i.bytes();var _=new Ed.util.ByteBuffer;_.fillWithByte(0,8),_.putBytes(g),_.putBytes(y),t.start(),t.update(_.getBytes());var S=t.digest().getBytes(),T=new Ed.util.ByteBuffer;T.fillWithByte(0,p-o-n-2),T.putByte(1),T.putBytes(y);var I=T.getBytes(),P=p-n-1,M=r.generate(S,P),N="";for(u=0;u<P;u++)N+=String.fromCharCode(I.charCodeAt(u)^M.charCodeAt(u));var L=65280>>8*p-d&255;return N=String.fromCharCode(N.charCodeAt(0)&~L)+N.substr(1),N+S+"\xBC"},l.verify=function(f,c,u){var d,p=u-1,g=Math.ceil(p/8);if(c=c.substr(-g),g<n+o+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(c.charCodeAt(g-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var y=g-n-1,_=c.substr(0,y),S=c.substr(y,n),T=65280>>8*g-p&255;if(_.charCodeAt(0)&T)throw new Error("Bits beyond keysize not zero as expected.");var I=r.generate(S,y),P="";for(d=0;d<y;d++)P+=String.fromCharCode(_.charCodeAt(d)^I.charCodeAt(d));P=String.fromCharCode(P.charCodeAt(0)&~T)+P.substr(1);var M=g-n-o-2;for(d=0;d<M;d++)if(P.charCodeAt(d)!==0)throw new Error("Leftmost octets not zero as expected");if(P.charCodeAt(M)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var N=P.substr(-o),L=new Ed.util.ByteBuffer;L.fillWithByte(0,8),L.putBytes(f),L.putBytes(N),t.start(),t.update(L.getBytes());var X=t.digest().getBytes();return S===X},l}});var Wy=ae((CTe,Ez)=>{var jt=v0();zc();Zo();t6();za();vz();Kc();xd();Vy();i6();G0();var q=jt.asn1,lt=Ez.exports=jt.pki=jt.pki||{},K0=lt.oids,Hr={};Hr.CN=K0.commonName;Hr.commonName="CN";Hr.C=K0.countryName;Hr.countryName="C";Hr.L=K0.localityName;Hr.localityName="L";Hr.ST=K0.stateOrProvinceName;Hr.stateOrProvinceName="ST";Hr.O=K0.organizationName;Hr.organizationName="O";Hr.OU=K0.organizationalUnitName;Hr.organizationalUnitName="OU";Hr.E=K0.emailAddress;Hr.emailAddress="E";var bz=jt.pki.rsa.publicKeyValidator,Gle={name:"Certificate",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:q.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:q.Class.UNIVERSAL,type:q.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:q.Class.UNIVERSAL,type:q.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:q.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:q.Class.UNIVERSAL,type:q.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:q.Class.UNIVERSAL,type:q.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:q.Class.UNIVERSAL,type:q.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:q.Class.UNIVERSAL,type:q.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},bz,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:q.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:q.Class.UNIVERSAL,type:q.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:q.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:q.Class.UNIVERSAL,type:q.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:q.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:q.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:q.Class.UNIVERSAL,type:q.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},Yle={name:"rsapss",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:q.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:q.Class.UNIVERSAL,type:q.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:q.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:q.Class.UNIVERSAL,type:q.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:q.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:q.Class.UNIVERSAL,type:q.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:q.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:q.Class.UNIVERSAL,type:q.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},Xle={name:"CertificationRequestInfo",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:q.Class.UNIVERSAL,type:q.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},bz,{name:"CertificationRequestInfo.attributes",tagClass:q.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:q.Class.UNIVERSAL,type:q.Type.SET,constructed:!0}]}]}]},Jle={name:"CertificationRequest",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[Xle,{name:"CertificationRequest.signatureAlgorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:q.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:q.Class.UNIVERSAL,type:q.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};lt.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,o,a=0;a<e.value.length;++a){n=e.value[a];for(var l=0;l<n.value.length;++l)o={},i=n.value[l],o.type=q.derToOid(i.value[0].value),o.value=i.value[1].value,o.valueTagClass=i.value[1].type,o.type in K0&&(o.name=K0[o.type],o.name in Hr&&(o.shortName=Hr[o.name])),t&&(t.update(o.type),t.update(o.value)),r.push(o)}return r};lt.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=q.derToOid(n.value[0].value),o=n.value[1].value,a=0;a<o.length;++a){var l={};if(l.type=i,l.value=o[a].value,l.valueTagClass=o[a].type,l.type in K0&&(l.name=K0[l.type],l.name in Hr&&(l.shortName=Hr[l.name])),l.type===K0.extensionRequest){l.extensions=[];for(var f=0;f<l.value.length;++f)l.extensions.push(lt.certificateExtensionFromAsn1(l.value[f]))}t.push(l)}return t};function Yc(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}s(Yc,"_getAttribute");var zy=s(function(e,t,r){var n={};if(e!==K0["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:K0.sha1},mgf:{algorithmOid:K0.mgf1,hash:{algorithmOid:K0.sha1}},saltLength:20});var i={},o=[];if(!q.validate(t,Yle,i,o)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=o,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=q.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=q.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=q.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),Ky=s(function(e){switch(K0[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return jt.md.sha1.create();case"md5WithRSAEncryption":return jt.md.md5.create();case"sha256WithRSAEncryption":return jt.md.sha256.create();case"sha384WithRSAEncryption":return jt.md.sha384.create();case"sha512WithRSAEncryption":return jt.md.sha512.create();case"RSASSA-PSS":return jt.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),Cz=s(function(e){var t=e.certificate,r;switch(t.signatureOid){case K0.sha1WithRSAEncryption:case K0.sha1WithRSASignature:break;case K0["RSASSA-PSS"]:var n,i;if(n=K0[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||jt.md[n]===void 0){var o=new Error("Unsupported MGF hash function.");throw o.oid=t.signatureParameters.mgf.hash.algorithmOid,o.name=n,o}if(i=K0[t.signatureParameters.mgf.algorithmOid],i===void 0||jt.mgf[i]===void 0){var o=new Error("Unsupported MGF function.");throw o.oid=t.signatureParameters.mgf.algorithmOid,o.name=i,o}if(i=jt.mgf[i].create(jt.md[n].create()),n=K0[t.signatureParameters.hash.algorithmOid],n===void 0||jt.md[n]===void 0){var o=new Error("Unsupported RSASSA-PSS hash function.");throw o.oid=t.signatureParameters.hash.algorithmOid,o.name=n,o}r=jt.pss.create(jt.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");lt.certificateFromPem=function(e,t,r){var n=jt.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var o=q.fromDer(n.body,r);return lt.certificateFromAsn1(o,t)};lt.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:q.toDer(lt.certificateToAsn1(e)).getBytes()};return jt.pem.encode(r,{maxline:t})};lt.publicKeyFromPem=function(e){var t=jt.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=q.fromDer(t.body);return lt.publicKeyFromAsn1(n)};lt.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:q.toDer(lt.publicKeyToAsn1(e)).getBytes()};return jt.pem.encode(r,{maxline:t})};lt.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:q.toDer(lt.publicKeyToRSAPublicKey(e)).getBytes()};return jt.pem.encode(r,{maxline:t})};lt.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||jt.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=q.toDer(lt.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=q.toDer(lt.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var o=r.digest();if(t.encoding==="hex"){var a=o.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return o};lt.certificationRequestFromPem=function(e,t,r){var n=jt.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var o=q.fromDer(n.body,r);return lt.certificationRequestFromAsn1(o,t)};lt.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:q.toDer(lt.certificationRequestToAsn1(e)).getBytes()};return jt.pem.encode(r,{maxline:t})};lt.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return Yc(e.issuer,t)},e.issuer.addField=function(t){xo([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return Yc(e.subject,t)},e.subject.addField=function(t){xo([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){xo(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){xo(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)Tz(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||jt.md.sha1.create();var n=K0[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=lt.getTBSCertificate(e);var o=q.toDer(e.tbsCertificate);e.md.update(o.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,o=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw o.expectedIssuer=i.attributes,o.actualIssuer=n.attributes,o}var a=t.md;if(a===null){a=Ky({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||lt.getTBSCertificate(t),f=q.toDer(l);a.update(f.getBytes())}return a!==null&&(r=Cz({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var o,a,l=0;r&&l<n.attributes.length;++l)o=n.attributes[l],a=i.attributes[l],(o.type!==a.type||o.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return lt.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=K0.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return jt.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};lt.certificateFromAsn1=function(e,t){var r={},n=[];if(!q.validate(e,Gle,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var o=q.derToOid(r.publicKeyOid);if(o!==lt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=lt.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=jt.util.createBuffer(r.certSerialNumber);a.serialNumber=l.toHex(),a.signatureOid=jt.asn1.derToOid(r.certSignatureOid),a.signatureParameters=zy(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=jt.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=zy(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var f=[];if(r.certValidity1UTCTime!==void 0&&f.push(q.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&f.push(q.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&f.push(q.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&f.push(q.generalizedTimeToDate(r.certValidity4GeneralizedTime)),f.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(f.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=f[0],a.validity.notAfter=f[1],a.tbsCertificate=r.tbsCertificate,t){a.md=Ky({signatureOid:a.signatureOid,type:"certificate"});var c=q.toDer(a.tbsCertificate);a.md.update(c.getBytes())}var u=jt.md.sha1.create(),d=q.toDer(r.certIssuer);u.update(d.getBytes()),a.issuer.getField=function(y){return Yc(a.issuer,y)},a.issuer.addField=function(y){xo([y]),a.issuer.attributes.push(y)},a.issuer.attributes=lt.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=u.digest().toHex();var p=jt.md.sha1.create(),g=q.toDer(r.certSubject);return p.update(g.getBytes()),a.subject.getField=function(y){return Yc(a.subject,y)},a.subject.addField=function(y){xo([y]),a.subject.attributes.push(y)},a.subject.attributes=lt.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=p.digest().toHex(),r.certExtensions?a.extensions=lt.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=lt.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};lt.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(lt.certificateExtensionFromAsn1(n.value[i]));return t};lt.certificateExtensionFromAsn1=function(e){var t={};if(t.id=q.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===q.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in K0){if(t.name=K0[t.id],t.name==="keyUsage"){var r=q.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=q.fromDer(t.value);r.value.length>0&&r.value[0].type===q.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var o=null;r.value.length>0&&r.value[0].type===q.Type.INTEGER?o=r.value[0].value:r.value.length>1&&(o=r.value[1].value),o!==null&&(t.pathLenConstraint=q.derToInteger(o))}else if(t.name==="extKeyUsage")for(var r=q.fromDer(t.value),a=0;a<r.value.length;++a){var l=q.derToOid(r.value[a].value);l in K0?t[K0[l]]=!0:t[l]=!0}else if(t.name==="nsCertType"){var r=q.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var f,r=q.fromDer(t.value),c=0;c<r.value.length;++c){f=r.value[c];var u={type:f.type,value:f.value};switch(t.altNames.push(u),f.type){case 1:case 2:case 6:break;case 7:u.ip=jt.util.bytesToIP(f.value);break;case 8:u.oid=q.derToOid(f.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=q.fromDer(t.value);t.subjectKeyIdentifier=jt.util.bytesToHex(r.value)}}return t};lt.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!q.validate(e,Jle,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var o=q.derToOid(r.publicKeyOid);if(o!==lt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=lt.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=jt.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=zy(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=jt.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=zy(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=Ky({signatureOid:a.signatureOid,type:"certification request"});var l=q.toDer(a.certificationRequestInfo);a.md.update(l.getBytes())}var f=jt.md.sha1.create();return a.subject.getField=function(c){return Yc(a.subject,c)},a.subject.addField=function(c){xo([c]),a.subject.attributes.push(c)},a.subject.attributes=lt.RDNAttributesAsArray(r.certificationRequestInfoSubject,f),a.subject.hash=f.digest().toHex(),a.publicKey=lt.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(c){return Yc(a,c)},a.addAttribute=function(c){xo([c]),a.attributes.push(c)},a.attributes=lt.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};lt.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return Yc(e.subject,t)},e.subject.addField=function(t){xo([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return Yc(e,t)},e.addAttribute=function(t){xo([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){xo(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){xo(t),e.attributes=t},e.sign=function(t,r){e.md=r||jt.md.sha1.create();var n=K0[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=lt.getCertificationRequestInfo(e);var o=q.toDer(e.certificationRequestInfo);e.md.update(o.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=Ky({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||lt.getCertificationRequestInfo(e),i=q.toDer(n);r.update(i.getBytes())}return r!==null&&(t=Cz({certificate:e,md:r,signature:e.signature})),t},e};function _2(e){for(var t=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,o=0;o<i.length;++o){r=i[o];var a=r.value,l=q.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===q.Type.UTF8&&(a=jt.util.encodeUtf8(a))),n=q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(r.type).getBytes()),q.create(q.Class.UNIVERSAL,l,!1,a)])]),t.value.push(n)}return t}s(_2,"_dnToAsn1");function xo(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in lt.oids?t.name=lt.oids[t.type]:t.shortName&&t.shortName in Hr&&(t.name=lt.oids[Hr[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in lt.oids)t.type=lt.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Hr&&(t.shortName=Hr[t.name]),t.type===K0.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=q.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(lt.certificateExtensionToAsn1(Tz(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}s(xo,"_fillMissingFields");function Tz(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in lt.oids&&(e.name=lt.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in lt.oids)e.id=lt.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,o=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(o|=128,n=7);var a=String.fromCharCode(n);o!==0?a+=String.fromCharCode(i)+String.fromCharCode(o):i!==0&&(a+=String.fromCharCode(i)),e.value=q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(q.create(q.Class.UNIVERSAL,q.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push(q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var f in e)e[f]===!0&&(f in K0?l.push(q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(K0[f]).getBytes())):f.indexOf(".")!==-1&&l.push(q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(f).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),e.value=q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);for(var c,u=0;u<e.altNames.length;++u){c=e.altNames[u];var a=c.value;if(c.type===7&&c.ip){if(a=jt.util.bytesFromIP(c.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else c.type===8&&(c.oid?a=q.oidToDer(q.oidToDer(c.oid)):a=q.oidToDer(a));e.value.value.push(q.create(q.Class.CONTEXT_SPECIFIC,c.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=q.create(q.Class.UNIVERSAL,q.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var d=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=d.toHex(),e.value=q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,d.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);var l=e.value.value;if(e.keyIdentifier){var p=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!1,p))}if(e.authorityCertIssuer){var g=[q.create(q.Class.CONTEXT_SPECIFIC,4,!0,[_2(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];l.push(q.create(q.Class.CONTEXT_SPECIFIC,1,!0,g))}if(e.serialNumber){var y=jt.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);l.push(q.create(q.Class.CONTEXT_SPECIFIC,2,!1,y))}}else if(e.name==="cRLDistributionPoints"){e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);for(var l=e.value.value,_=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]),S=q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[]),c,u=0;u<e.altNames.length;++u){c=e.altNames[u];var a=c.value;if(c.type===7&&c.ip){if(a=jt.util.bytesFromIP(c.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else c.type===8&&(c.oid?a=q.oidToDer(q.oidToDer(c.oid)):a=q.oidToDer(a));S.value.push(q.create(q.Class.CONTEXT_SPECIFIC,c.type,!1,a))}_.value.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[S])),l.push(_)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}s(Tz,"_fillMissingExtensionFields");function SP(e,t){switch(e){case K0["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(t.hash.algorithmOid).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(q.create(q.Class.CONTEXT_SPECIFIC,1,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(t.mgf.algorithmOid).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(t.mgf.hash.algorithmOid).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(q.create(q.Class.CONTEXT_SPECIFIC,2,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(t.saltLength).getBytes())])),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,r);default:return q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")}}s(SP,"_signatureParametersToAsn1");function Qle(e){var t=q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],o=i.value,a=q.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===q.Type.UTF8&&(o=jt.util.encodeUtf8(o));var l=!1;"valueConstructed"in i&&(l=i.valueConstructed);var f=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(i.type).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[q.create(q.Class.UNIVERSAL,a,l,o)])]);t.value.push(f)}return t}s(Qle,"_CRIAttributesToAsn1");var Zle=new Date("1950-01-01T00:00:00Z"),efe=new Date("2050-01-01T00:00:00Z");function _z(e){return e>=Zle&&e<efe?q.create(q.Class.UNIVERSAL,q.Type.UTCTIME,!1,q.dateToUtcTime(e)):q.create(q.Class.UNIVERSAL,q.Type.GENERALIZEDTIME,!1,q.dateToGeneralizedTime(e))}s(_z,"_dateToAsn1");lt.getTBSCertificate=function(e){var t=_z(e.validity.notBefore),r=_z(e.validity.notAfter),n=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes())]),q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,jt.util.hexToBytes(e.serialNumber)),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.siginfo.algorithmOid).getBytes()),SP(e.siginfo.algorithmOid,e.siginfo.parameters)]),_2(e.issuer),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[t,r]),_2(e.subject),lt.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(q.create(q.Class.CONTEXT_SPECIFIC,1,!0,[q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(q.create(q.Class.CONTEXT_SPECIFIC,2,!0,[q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(lt.certificateExtensionsToAsn1(e.extensions)),n};lt.getCertificationRequestInfo=function(e){var t=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),_2(e.subject),lt.publicKeyToAsn1(e.publicKey),Qle(e)]);return t};lt.distinguishedNameToAsn1=function(e){return _2(e)};lt.certificateToAsn1=function(e){var t=e.tbsCertificate||lt.getTBSCertificate(e);return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[t,q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.signatureOid).getBytes()),SP(e.signatureOid,e.signatureParameters)]),q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,"\0"+e.signature)])};lt.certificateExtensionsToAsn1=function(e){var t=q.create(q.Class.CONTEXT_SPECIFIC,3,!0,[]),r=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(lt.certificateExtensionToAsn1(e[n]));return t};lt.certificateExtensionToAsn1=function(e){var t=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);t.value.push(q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.id).getBytes())),e.critical&&t.value.push(q.create(q.Class.UNIVERSAL,q.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=q.toDer(r).getBytes()),t.value.push(q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,r)),t};lt.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||lt.getCertificationRequestInfo(e);return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[t,q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.signatureOid).getBytes()),SP(e.signatureOid,e.signatureParameters)]),q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,"\0"+e.signature)])};lt.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var l=r(a.issuer);return l},t.addCertificate=function(a){if(typeof a=="string"&&(a=jt.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var l=t.certs[a.subject.hash];jt.util.isArray(l)||(l=[l]),l.push(a),t.certs[a.subject.hash]=l}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=jt.pki.certificateFromPem(a));var l=r(a.subject);if(!l)return!1;jt.util.isArray(l)||(l=[l]);for(var f=q.toDer(lt.certificateToAsn1(a)).getBytes(),c=0;c<l.length;++c){var u=q.toDer(lt.certificateToAsn1(l[c])).getBytes();if(f===u)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var l in t.certs)if(t.certs.hasOwnProperty(l)){var f=t.certs[l];if(!jt.util.isArray(f))a.push(f);else for(var c=0;c<f.length;++c)a.push(f[c])}return a},t.removeCertificate=function(a){var l;if(typeof a=="string"&&(a=jt.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var f=r(a.subject);if(!jt.util.isArray(f))return l=t.certs[a.subject.hash],delete t.certs[a.subject.hash],l;for(var c=q.toDer(lt.certificateToAsn1(a)).getBytes(),u=0;u<f.length;++u){var d=q.toDer(lt.certificateToAsn1(f[u])).getBytes();c===d&&(l=f[u],f.splice(u,1))}return f.length===0&&delete t.certs[a.subject.hash],l};function r(a){return n(a),t.certs[a.hash]||null}s(r,"getBySubject");function n(a){if(!a.hash){var l=jt.md.sha1.create();a.attributes=lt.RDNAttributesAsArray(_2(a),l),a.hash=l.digest().toHex()}}if(s(n,"ensureSubjectHasHash"),e)for(var i=0;i<e.length;++i){var o=e[i];t.addCertificate(o)}return t};lt.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};lt.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var o=!0,a=null,l=0;do{var f=t.shift(),c=null,u=!1;if(i&&(i<f.validity.notBefore||i>f.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:lt.certificateError.certificate_expired,notBefore:f.validity.notBefore,notAfter:f.validity.notAfter,now:i}),a===null){if(c=t[0]||e.getIssuer(f),c===null&&f.isIssuer(f)&&(u=!0,c=f),c){var d=c;jt.util.isArray(d)||(d=[d]);for(var p=!1;!p&&d.length>0;){c=d.shift();try{p=c.verify(f)}catch{}}p||(a={message:"Certificate signature is invalid.",error:lt.certificateError.bad_certificate})}a===null&&(!c||u)&&!e.hasCertificate(f)&&(a={message:"Certificate is not trusted.",error:lt.certificateError.unknown_ca})}if(a===null&&c&&!f.isIssuer(c)&&(a={message:"Certificate issuer is invalid.",error:lt.certificateError.bad_certificate}),a===null)for(var g={keyUsage:!0,basicConstraints:!0},y=0;a===null&&y<f.extensions.length;++y){var _=f.extensions[y];_.critical&&!(_.name in g)&&(a={message:"Certificate has an unsupported critical extension.",error:lt.certificateError.unsupported_certificate})}if(a===null&&(!o||t.length===0&&(!c||u))){var S=f.getExtension("basicConstraints"),T=f.getExtension("keyUsage");if(T!==null&&(!T.keyCertSign||S===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:lt.certificateError.bad_certificate}),a===null&&S!==null&&!S.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:lt.certificateError.bad_certificate}),a===null&&T!==null&&"pathLenConstraint"in S){var I=l-1;I>S.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:lt.certificateError.bad_certificate})}}var P=a===null?!0:a.error,M=r.verify?r.verify(P,l,n):P;if(M===!0)a=null;else throw P===!0&&(a={message:"The application rejected the certificate.",error:lt.certificateError.bad_certificate}),(M||M===0)&&(typeof M=="object"&&!jt.util.isArray(M)?(M.message&&(a.message=M.message),M.error&&(a.error=M.error)):typeof M=="string"&&(a.error=M)),a;o=!1,++l}while(t.length>0);return!0}});var IP=ae((ETe,wz)=>{var xr=v0();Zo();h2();Kc();TP();CP();po();i6();y2();G0();Wy();var oe=xr.asn1,k0=xr.pki,o6=wz.exports=xr.pkcs12=xr.pkcs12||{},Sz={name:"ContentInfo",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:oe.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},tfe={name:"PFX",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:oe.Class.UNIVERSAL,type:oe.Type.INTEGER,constructed:!1,capture:"version"},Sz,{name:"PFX.macData",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:oe.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:oe.Class.UNIVERSAL,type:oe.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},rfe={name:"SafeBag",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:oe.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},nfe={name:"Attribute",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SET,constructed:!0,capture:"values"}]},ife={name:"CertBag",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:oe.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:oe.Class.UNIVERSAL,type:oe.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function s6(e,t,r,n){for(var i=[],o=0;o<e.length;o++)for(var a=0;a<e[o].safeBags.length;a++){var l=e[o].safeBags[a];if(!(n!==void 0&&l.type!==n)){if(t===null){i.push(l);continue}l.attributes[t]!==void 0&&l.attributes[t].indexOf(r)>=0&&i.push(l)}}return i}s(s6,"_getBagsByAttribute");o6.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!oe.validate(e,tfe,n,i)){var o=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw o.errors=o,o}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:function(S){var T={},I;return"localKeyId"in S?I=S.localKeyId:"localKeyIdHex"in S&&(I=xr.util.hexToBytes(S.localKeyIdHex)),I===void 0&&!("friendlyName"in S)&&"bagType"in S&&(T[S.bagType]=s6(a.safeContents,null,null,S.bagType)),I!==void 0&&(T.localKeyId=s6(a.safeContents,"localKeyId",I,S.bagType)),"friendlyName"in S&&(T.friendlyName=s6(a.safeContents,"friendlyName",S.friendlyName,S.bagType)),T},getBagsByFriendlyName:function(S,T){return s6(a.safeContents,"friendlyName",S,T)},getBagsByLocalKeyId:function(S,T){return s6(a.safeContents,"localKeyId",S,T)}};if(n.version.charCodeAt(0)!==3){var o=new Error("PKCS#12 PFX of version other than 3 not supported.");throw o.version=n.version.charCodeAt(0),o}if(oe.derToOid(n.contentType)!==k0.oids.data){var o=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw o.oid=oe.derToOid(n.contentType),o}var l=n.content.value[0];if(l.tagClass!==oe.Class.UNIVERSAL||l.type!==oe.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=wP(l),n.mac){var f=null,c=0,u=oe.derToOid(n.macAlgorithm);switch(u){case k0.oids.sha1:f=xr.md.sha1.create(),c=20;break;case k0.oids.sha256:f=xr.md.sha256.create(),c=32;break;case k0.oids.sha384:f=xr.md.sha384.create(),c=48;break;case k0.oids.sha512:f=xr.md.sha512.create(),c=64;break;case k0.oids.md5:f=xr.md.md5.create(),c=16;break}if(f===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+u);var d=new xr.util.ByteBuffer(n.macSalt),p="macIterations"in n?parseInt(xr.util.bytesToHex(n.macIterations),16):1,g=o6.generateKey(r,d,3,p,c,f),y=xr.hmac.create();y.start(f,g),y.update(l.value);var _=y.getMac();if(_.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return sfe(a,l.value,t,r),a};function wP(e){if(e.composed||e.constructed){for(var t=xr.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}s(wP,"_decodePkcs7Data");function sfe(e,t,r,n){if(t=oe.fromDer(t,r),t.tagClass!==oe.Class.UNIVERSAL||t.type!==oe.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var o=t.value[i],a={},l=[];if(!oe.validate(o,Sz,a,l)){var f=new Error("Cannot read ContentInfo.");throw f.errors=l,f}var c={encrypted:!1},u=null,d=a.content.value[0];switch(oe.derToOid(a.contentType)){case k0.oids.data:if(d.tagClass!==oe.Class.UNIVERSAL||d.type!==oe.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");u=wP(d).value;break;case k0.oids.encryptedData:u=ofe(d,n),c.encrypted=!0;break;default:var f=new Error("Unsupported PKCS#12 contentType.");throw f.contentType=oe.derToOid(a.contentType),f}c.safeBags=afe(u,r,n),e.safeContents.push(c)}}s(sfe,"_decodeAuthenticatedSafe");function ofe(e,t){var r={},n=[];if(!oe.validate(e,xr.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var o=oe.derToOid(r.contentType);if(o!==k0.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=o,i}o=oe.derToOid(r.encAlgorithm);var a=k0.pbe.getCipher(o,r.encParameter,t),l=wP(r.encryptedContentAsn1),f=xr.util.createBuffer(l.value);if(a.update(f),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}s(ofe,"_decryptSafeContents");function afe(e,t,r){if(!t&&e.length===0)return[];if(e=oe.fromDer(e,t),e.tagClass!==oe.Class.UNIVERSAL||e.type!==oe.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var o=e.value[i],a={},l=[];if(!oe.validate(o,rfe,a,l)){var f=new Error("Cannot read SafeBag.");throw f.errors=l,f}var c={type:oe.derToOid(a.bagId),attributes:lfe(a.bagAttributes)};n.push(c);var u,d,p=a.bagValue.value[0];switch(c.type){case k0.oids.pkcs8ShroudedKeyBag:if(p=k0.decryptPrivateKeyInfo(p,r),p===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case k0.oids.keyBag:try{c.key=k0.privateKeyFromAsn1(p)}catch{c.key=null,c.asn1=p}continue;case k0.oids.certBag:u=ife,d=s(function(){if(oe.derToOid(a.certId)!==k0.oids.x509Certificate){var y=new Error("Unsupported certificate type, only X.509 supported.");throw y.oid=oe.derToOid(a.certId),y}var _=oe.fromDer(a.cert,t);try{c.cert=k0.certificateFromAsn1(_,!0)}catch{c.cert=null,c.asn1=_}},"decoder");break;default:var f=new Error("Unsupported PKCS#12 SafeBag type.");throw f.oid=c.type,f}if(u!==void 0&&!oe.validate(p,u,a,l)){var f=new Error("Cannot read PKCS#12 "+u.name);throw f.errors=l,f}d()}return n}s(afe,"_decodeSafeContents");function lfe(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!oe.validate(e[r],nfe,n,i)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=i,o}var a=oe.derToOid(n.oid);if(k0.oids[a]!==void 0){t[k0.oids[a]]=[];for(var l=0;l<n.values.length;++l)t[k0.oids[a]].push(n.values[l].value)}}return t}s(lfe,"_decodeBagAttributes");o6.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,o;if(i!==null)i=xr.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var a=xr.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=k0.certificateFromPem(a));var l=xr.md.sha1.create();l.update(oe.toDer(k0.certificateToAsn1(a)).getBytes()),i=l.digest().getBytes()}else i=xr.random.getBytes(20);var f=[];i!==null&&f.push(oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(k0.oids.localKeyId).getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.SET,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&f.push(oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(k0.oids.friendlyName).getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.SET,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.BMPSTRING,!1,n.friendlyName)])])),f.length>0&&(o=oe.create(oe.Class.UNIVERSAL,oe.Type.SET,!0,f));var c=[],u=[];t!==null&&(xr.util.isArray(t)?u=t:u=[t]);for(var d=[],p=0;p<u.length;++p){t=u[p],typeof t=="string"&&(t=k0.certificateFromPem(t));var g=p===0?o:void 0,y=k0.certificateToAsn1(t),_=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(k0.oids.certBag).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(k0.oids.x509Certificate).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,oe.toDer(y).getBytes())])])]),g]);d.push(_)}if(d.length>0){var S=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,d),T=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(k0.oids.data).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,oe.toDer(S).getBytes())])]);c.push(T)}var I=null;if(e!==null){var P=k0.wrapRsaPrivateKey(k0.privateKeyToAsn1(e));r===null?I=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(k0.oids.keyBag).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[P]),o]):I=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(k0.oids.pkcs8ShroudedKeyBag).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[k0.encryptPrivateKeyInfo(P,r,n)]),o]);var M=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[I]),N=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(k0.oids.data).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,oe.toDer(M).getBytes())])]);c.push(N)}var L=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,c),X;if(n.useMac){var l=xr.md.sha1.create(),te=new xr.util.ByteBuffer(xr.random.getBytes(n.saltSize)),Ce=n.count,e=o6.generateKey(r,te,3,Ce,20),De=xr.hmac.create();De.start(l,e),De.update(oe.toDer(L).getBytes());var pe=De.getMac();X=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(k0.oids.sha1).getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.NULL,!1,"")]),oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,pe.getBytes())]),oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,te.getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.INTEGER,!1,oe.integerToDer(Ce).getBytes())])}return oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.INTEGER,!1,oe.integerToDer(3).getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(k0.oids.data).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,oe.toDer(L).getBytes())])]),X])};o6.generateKey=xr.pbe.generatePkcs12Key});var PP=ae((wTe,Iz)=>{var Xc=v0();Zo();Kc();CP();xd();Fy();IP();Vy();i6();G0();Wy();var AP=Xc.asn1,b2=Iz.exports=Xc.pki=Xc.pki||{};b2.pemToDer=function(e){var t=Xc.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Xc.util.createBuffer(t.body)};b2.privateKeyFromPem=function(e){var t=Xc.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=AP.fromDer(t.body);return b2.privateKeyFromAsn1(n)};b2.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:AP.toDer(b2.privateKeyToAsn1(e)).getBytes()};return Xc.pem.encode(r,{maxline:t})};b2.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:AP.toDer(e).getBytes()};return Xc.pem.encode(r,{maxline:t})}});var BP=ae((ITe,Bz)=>{var tt=v0();Zo();h2();Dy();xd();PP();po();y2();G0();var Jy=s(function(e,t,r,n){var i=tt.util.createBuffer(),o=e.length>>1,a=o+(e.length&1),l=e.substr(0,a),f=e.substr(o,a),c=tt.util.createBuffer(),u=tt.hmac.create();r=t+r;var d=Math.ceil(n/16),p=Math.ceil(n/20);u.start("MD5",l);var g=tt.util.createBuffer();c.putBytes(r);for(var y=0;y<d;++y)u.start(null,null),u.update(c.getBytes()),c.putBuffer(u.digest()),u.start(null,null),u.update(c.bytes()+r),g.putBuffer(u.digest());u.start("SHA1",f);var _=tt.util.createBuffer();c.clear(),c.putBytes(r);for(var y=0;y<p;++y)u.start(null,null),u.update(c.getBytes()),c.putBuffer(u.digest()),u.start(null,null),u.update(c.bytes()+r),_.putBuffer(u.digest());return i.putBytes(tt.util.xorBytes(g.getBytes(),_.getBytes(),n)),i},"prf_TLS1"),ffe=s(function(e,t,r){var n=tt.hmac.create();n.start("SHA1",e);var i=tt.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),cfe=s(function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=tt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"deflate"),ufe=s(function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=tt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"inflate"),Os=s(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return tt.util.createBuffer(e.getBytes(r))},"readVector"),_o=s(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),$={};$.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};$.SupportedVersions=[$.Versions.TLS_1_1,$.Versions.TLS_1_0];$.Version=$.SupportedVersions[0];$.MaxFragment=15360;$.ConnectionEnd={server:0,client:1};$.PRFAlgorithm={tls_prf_sha256:0};$.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};$.CipherType={stream:0,block:1,aead:2};$.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};$.CompressionMethod={none:0,deflate:1};$.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};$.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};$.Alert={};$.Alert.Level={warning:1,fatal:2};$.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};$.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};$.CipherSuites={};$.getCipherSuite=function(e){var t=null;for(var r in $.CipherSuites){var n=$.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};$.handleUnexpected=function(e,t){var r=!e.open&&e.entity===$.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.unexpected_message}})};$.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&($.queue(e,$.createAlert(e,{level:$.Alert.Level.warning,description:$.Alert.Description.no_renegotiation})),$.flush(e)),e.process()};$.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===$.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});else{var o=t.fragment,a=o.length();if(n={version:{major:o.getByte(),minor:o.getByte()},random:tt.util.createBuffer(o.getBytes(32)),session_id:Os(o,1),extensions:[]},i?(n.cipher_suite=o.getBytes(2),n.compression_method=o.getByte()):(n.cipher_suites=Os(o,2),n.compression_methods=Os(o,1)),a=r-(a-o.length()),a>0){for(var l=Os(o,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:Os(l,2)});if(!i)for(var f=0;f<n.extensions.length;++f){var c=n.extensions[f];if(c.type[0]===0&&c.type[1]===0)for(var u=Os(c.data,2);u.length()>0;){var d=u.getByte();if(d!==0)break;e.session.extensions.server_name.serverNameList.push(Os(u,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=$.getCipherSuite(n.cipher_suite);else for(var p=tt.util.createBuffer(n.cipher_suites.bytes());p.length()>0&&(e.session.cipherSuite=$.getCipherSuite(p.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.handshake_failure},cipherSuite:tt.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=$.CompressionMethod.none}return n};$.createSecurityParameters=function(e,t){var r=e.entity===$.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,o=r?n:$.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:$.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}};$.handleServerHello=function(e,t,r){var n=$.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=Rz,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=hfe,e.session.resuming=!1,$.createSecurityParameters(e,n)),e.session.id=i,e.process()}};$.handleClientHello=function(e,t,r){var n=$.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),o=null;if(e.sessionCache&&(o=e.sessionCache.getSession(i),o===null?i="":(o.version.major!==n.version.major||o.version.minor>n.version.minor)&&(o=null,i="")),i.length===0&&(i=tt.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},o)e.version=e.session.version=o.version,e.session.sp=o.sp;else{for(var a,l=1;l<$.SupportedVersions.length&&(a=$.SupportedVersions[l],!(a.minor<=n.version.minor));++l);e.version={major:a.major,minor:a.minor},e.session.version=e.version}o!==null?(e.expect=DP,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?_fe:kP,e.session.resuming=!1,$.createSecurityParameters(e,n)),e.open=!0,$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createServerHello(e)})),e.session.resuming?($.queue(e,$.createRecord(e,{type:$.ContentType.change_cipher_spec,data:$.createChangeCipherSpec()})),e.state.pending=$.createConnectionState(e),e.state.current.write=e.state.pending.write,$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createFinished(e)}))):($.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createCertificate(e)})),e.fail||($.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createServerKeyExchange(e)})),e.verifyClient!==!1&&$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createCertificateRequest(e)})),$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createServerHelloDone(e)})))),$.flush(e),e.process()}};$.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:Os(n,3)},o,a,l=[];try{for(;i.certificate_list.length()>0;)o=Os(i.certificate_list,3),a=tt.asn1.fromDer(o),o=tt.pki.certificateFromAsn1(a,!0),l.push(o)}catch(c){return e.error(e,{message:"Could not parse certificate list.",cause:c,send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.bad_certificate}})}var f=e.entity===$.ConnectionEnd.client;(f||e.verifyClient===!0)&&l.length===0?e.error(e,{message:f?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}}):l.length===0?e.expect=f?Az:kP:(f?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],$.verifyCertificateChain(e,l)&&(e.expect=f?Az:kP)),e.process()};$.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.unsupported_certificate}});e.expect=mfe,e.process()};$.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:Os(n,2).getBytes()},o=null;if(e.getPrivateKey)try{o=e.getPrivateKey(e,e.session.serverCertificate),o=tt.pki.privateKeyFromPem(o)}catch(f){e.error(e,{message:"Could not get private key.",cause:f,send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}})}if(o===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=o.decrypt(i.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==a.pre_master_secret.charCodeAt(0)||l.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=tt.random.getBytes(48)}e.expect=DP,e.session.clientCertificate!==null&&(e.expect=bfe),e.process()};$.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:Os(n,1),certificate_authorities:Os(n,2)};e.session.certificateRequest=i,e.expect=gfe,e.process()};$.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o={signature:Os(n,2).getBytes()},a=tt.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var l=e.session.clientCertificate;if(!l.publicKey.verify(a,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.handshake_failure}})}e.expect=DP,e.process()};$.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.insufficient_security}},i=0,o=e.verify(e,n.alert.description,i,[]);if(o!==!0)return(o||o===0)&&(typeof o=="object"&&!tt.util.isArray(o)?(o.message&&(n.message=o.message),o.alert&&(n.alert.description=o.alert)):typeof o=="number"&&(n.alert.description=o)),e.error(e,n)}e.session.certificateRequest!==null&&(t=$.createRecord(e,{type:$.ContentType.handshake,data:$.createCertificate(e)}),$.queue(e,t)),t=$.createRecord(e,{type:$.ContentType.handshake,data:$.createClientKeyExchange(e)}),$.queue(e,t),e.expect=vfe;var a=s(function(l,f){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&$.queue(l,$.createRecord(l,{type:$.ContentType.handshake,data:$.createCertificateVerify(l,f)})),$.queue(l,$.createRecord(l,{type:$.ContentType.change_cipher_spec,data:$.createChangeCipherSpec()})),l.state.pending=$.createConnectionState(l),l.state.current.write=l.state.pending.write,$.queue(l,$.createRecord(l,{type:$.ContentType.handshake,data:$.createFinished(l)})),l.expect=Rz,$.flush(l),l.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);$.getClientSignature(e,a)};$.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});var r=e.entity===$.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=$.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?pfe:Cfe,e.process()};$.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o=t.fragment.getBytes();n=tt.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===$.ConnectionEnd.client,l=a?"server finished":"client finished",f=e.session.sp,c=12,u=Jy;if(n=u(f.master_secret,l,n.getBytes(),c),n.getBytes()!==o)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&a||!e.session.resuming&&!a)&&($.queue(e,$.createRecord(e,{type:$.ContentType.change_cipher_spec,data:$.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createFinished(e)}))),e.expect=a?yfe:Tfe,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,$.flush(e),e.isConnected=!0,e.connected(e),e.process()};$.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case $.Alert.Description.close_notify:i="Connection closed.";break;case $.Alert.Description.unexpected_message:i="Unexpected message.";break;case $.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case $.Alert.Description.decryption_failed:i="Decryption failed.";break;case $.Alert.Description.record_overflow:i="Record overflow.";break;case $.Alert.Description.decompression_failure:i="Decompression failed.";break;case $.Alert.Description.handshake_failure:i="Handshake failure.";break;case $.Alert.Description.bad_certificate:i="Bad certificate.";break;case $.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case $.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case $.Alert.Description.certificate_expired:i="Certificate expired.";break;case $.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case $.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case $.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case $.Alert.Description.access_denied:i="Access denied.";break;case $.Alert.Description.decode_error:i="Decode error.";break;case $.Alert.Description.decrypt_error:i="Decrypt error.";break;case $.Alert.Description.export_restriction:i="Export restriction.";break;case $.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case $.Alert.Description.insufficient_security:i="Insufficient security.";break;case $.Alert.Description.internal_error:i="Internal error.";break;case $.Alert.Description.user_canceled:i="User canceled.";break;case $.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===$.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===$.ConnectionEnd.client?"server":"client",alert:n}),e.process()};$.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=tt.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var o=r.bytes(i+4);r.read+=4,n in Xy[e.entity][e.expect]?(e.entity===$.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:tt.md.md5.create(),sha1:tt.md.sha1.create()}),n!==$.HandshakeType.hello_request&&n!==$.HandshakeType.certificate_verify&&n!==$.HandshakeType.finished&&(e.session.md5.update(o),e.session.sha1.update(o)),Xy[e.entity][e.expect][n](e,t,i)):$.handleUnexpected(e,t)};$.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};$.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),o=r.getBytes(i);if(n===$.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>o.length)return e.process();$.queue(e,$.createRecord(e,{type:$.ContentType.heartbeat,data:$.createHeartbeat($.HeartbeatMessageType.heartbeat_response,o)})),$.flush(e)}else if(n===$.HeartbeatMessageType.heartbeat_response){if(o!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,tt.util.createBuffer(o))}e.process()};var dfe=0,hfe=1,Az=2,mfe=3,gfe=4,Rz=5,pfe=6,yfe=7,vfe=8,xfe=0,_fe=1,kP=2,bfe=3,DP=4,Cfe=5,Tfe=6,j=$.handleUnexpected,Nz=$.handleChangeCipherSpec,ni=$.handleAlert,Mi=$.handleHandshake,kz=$.handleApplicationData,ii=$.handleHeartbeat,LP=[];LP[$.ConnectionEnd.client]=[[j,ni,Mi,j,ii],[j,ni,Mi,j,ii],[j,ni,Mi,j,ii],[j,ni,Mi,j,ii],[j,ni,Mi,j,ii],[Nz,ni,j,j,ii],[j,ni,Mi,j,ii],[j,ni,Mi,kz,ii],[j,ni,Mi,j,ii]];LP[$.ConnectionEnd.server]=[[j,ni,Mi,j,ii],[j,ni,Mi,j,ii],[j,ni,Mi,j,ii],[j,ni,Mi,j,ii],[Nz,ni,j,j,ii],[j,ni,Mi,j,ii],[j,ni,Mi,kz,ii],[j,ni,Mi,j,ii]];var Jc=$.handleHelloRequest,Efe=$.handleServerHello,Dz=$.handleCertificate,Pz=$.handleServerKeyExchange,RP=$.handleCertificateRequest,Gy=$.handleServerHelloDone,Lz=$.handleFinished,Xy=[];Xy[$.ConnectionEnd.client]=[[j,j,Efe,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[Jc,j,j,j,j,j,j,j,j,j,j,Dz,Pz,RP,Gy,j,j,j,j,j,j],[Jc,j,j,j,j,j,j,j,j,j,j,j,Pz,RP,Gy,j,j,j,j,j,j],[Jc,j,j,j,j,j,j,j,j,j,j,j,j,RP,Gy,j,j,j,j,j,j],[Jc,j,j,j,j,j,j,j,j,j,j,j,j,j,Gy,j,j,j,j,j,j],[Jc,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[Jc,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,Lz],[Jc,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[Jc,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j]];var Sfe=$.handleClientHello,wfe=$.handleClientKeyExchange,Ife=$.handleCertificateVerify;Xy[$.ConnectionEnd.server]=[[j,Sfe,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,Dz,j,j,j,j,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,wfe,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,Ife,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,Lz],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j]];$.generateKeys=function(e,t){var r=Jy,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,o=e.version.major===$.Versions.TLS_1_0.major&&e.version.minor===$.Versions.TLS_1_0.minor;o&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return o&&(l.client_write_IV=a.getBytes(t.fixed_iv_length),l.server_write_IV=a.getBytes(t.fixed_iv_length)),l};$.createConnectionState=function(e){var t=e.entity===$.ConnectionEnd.client,r=s(function(){var o={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(a){return!0},compressionState:null,compressFunction:function(a){return!0},updateSequenceNumber:function(){o.sequenceNumber[1]===4294967295?(o.sequenceNumber[1]=0,++o.sequenceNumber[0]):++o.sequenceNumber[1]}};return o},"createMode"),n={read:r(),write:r()};if(n.read.update=function(o,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(o,a,n.read)||o.error(o,{message:"Could not decompress record.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.decompression_failure}}):o.error(o,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.bad_record_mac}}),!o.fail},n.write.update=function(o,a){return n.write.compressFunction(o,a,n.write)?n.write.cipherFunction(a,n.write)||o.error(o,{message:"Could not encrypt record.",send:!1,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}}):o.error(o,{message:"Could not compress record.",send:!1,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}}),!o.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=$.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case $.CompressionMethod.none:break;case $.CompressionMethod.deflate:n.read.compressFunction=ufe,n.write.compressFunction=cfe;break;default:throw new Error("Unsupported compression algorithm.")}}return n};$.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=tt.util.createBuffer();return r.putInt32(t),r.putBytes(tt.random.getBytes(28)),r};$.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};$.createAlert=function(e,t){var r=tt.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),$.createRecord(e,{type:$.ContentType.alert,data:r})};$.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=tt.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),o=tt.util.createBuffer();o.putByte($.CompressionMethod.none);var a=o.length(),l=tt.util.createBuffer();if(e.virtualHost){var f=tt.util.createBuffer();f.putByte(0),f.putByte(0);var c=tt.util.createBuffer();c.putByte(0),_o(c,2,tt.util.createBuffer(e.virtualHost));var u=tt.util.createBuffer();_o(u,2,c),_o(f,2,u),l.putBuffer(f)}var d=l.length();d>0&&(d+=2);var p=e.session.id,g=p.length+1+2+4+28+2+i+1+a+d,y=tt.util.createBuffer();return y.putByte($.HandshakeType.client_hello),y.putInt24(g),y.putByte(e.version.major),y.putByte(e.version.minor),y.putBytes(e.session.sp.client_random),_o(y,1,tt.util.createBuffer(p)),_o(y,2,t),_o(y,1,o),d>0&&_o(y,2,l),y};$.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=tt.util.createBuffer();return n.putByte($.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),_o(n,1,tt.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};$.createCertificate=function(e){var t=e.entity===$.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=tt.util.createBuffer();if(r!==null)try{tt.util.isArray(r)||(r=[r]);for(var o=null,a=0;a<r.length;++a){var l=tt.pem.decode(r[a])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var f=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw f.headerType=l.type,f}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var c=tt.util.createBuffer(l.body);o===null&&(o=tt.asn1.fromDer(c.bytes(),!1));var u=tt.util.createBuffer();_o(u,3,c),i.putBuffer(u)}r=tt.pki.certificateFromAsn1(o),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(g){return e.error(e,{message:"Could not send certificate list.",cause:g,send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.bad_certificate}})}var d=3+i.length(),p=tt.util.createBuffer();return p.putByte($.HandshakeType.certificate),p.putInt24(d),_o(p,3,i),p};$.createClientKeyExchange=function(e){var t=tt.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(tt.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,o=tt.util.createBuffer();return o.putByte($.HandshakeType.client_key_exchange),o.putInt24(i),o.putInt16(t.length),o.putBytes(t),o};$.createServerKeyExchange=function(e){var t=0,r=tt.util.createBuffer();return t>0&&(r.putByte($.HandshakeType.server_key_exchange),r.putInt24(t)),r};$.getClientSignature=function(e,t){var r=tt.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,o){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=tt.pki.privateKeyFromPem(a)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}}):i=a.sign(i,null),o(n,i)},e.getSignature(e,r,t)};$.createCertificateVerify=function(e,t){var r=t.length+2,n=tt.util.createBuffer();return n.putByte($.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};$.createCertificateRequest=function(e){var t=tt.util.createBuffer();t.putByte(1);var r=tt.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],o=tt.pki.distinguishedNameToAsn1(i.subject),a=tt.asn1.toDer(o);r.putInt16(a.length()),r.putBuffer(a)}var l=1+t.length()+2+r.length(),f=tt.util.createBuffer();return f.putByte($.HandshakeType.certificate_request),f.putInt24(l),_o(f,1,t),_o(f,2,r),f};$.createServerHelloDone=function(e){var t=tt.util.createBuffer();return t.putByte($.HandshakeType.server_hello_done),t.putInt24(0),t};$.createChangeCipherSpec=function(){var e=tt.util.createBuffer();return e.putByte(1),e};$.createFinished=function(e){var t=tt.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===$.ConnectionEnd.client,n=e.session.sp,i=12,o=Jy,a=r?"client finished":"server finished";t=o(n.master_secret,a,t.getBytes(),i);var l=tt.util.createBuffer();return l.putByte($.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l};$.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=tt.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),o=Math.max(16,i-r-3);return n.putBytes(tt.random.getBytes(o)),n};$.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===$.ContentType.handshake||t.type===$.ContentType.alert||t.type===$.ContentType.change_cipher_spec))){if(t.type===$.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=$.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>$.MaxFragment;)n.push($.createRecord(e,{type:t.type,data:tt.util.createBuffer(i.slice(0,$.MaxFragment))})),i=i.slice($.MaxFragment);i.length>0&&n.push($.createRecord(e,{type:t.type,data:tt.util.createBuffer(i)}))}for(var o=0;o<n.length&&!e.fail;++o){var a=n[o],l=e.state.current.write;l.update(e,a)&&e.records.push(a)}}};$.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var NP=s(function(e){switch(e){case!0:return!0;case tt.pki.certificateError.bad_certificate:return $.Alert.Description.bad_certificate;case tt.pki.certificateError.unsupported_certificate:return $.Alert.Description.unsupported_certificate;case tt.pki.certificateError.certificate_revoked:return $.Alert.Description.certificate_revoked;case tt.pki.certificateError.certificate_expired:return $.Alert.Description.certificate_expired;case tt.pki.certificateError.certificate_unknown:return $.Alert.Description.certificate_unknown;case tt.pki.certificateError.unknown_ca:return $.Alert.Description.unknown_ca;default:return $.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),Afe=s(function(e){switch(e){case!0:return!0;case $.Alert.Description.bad_certificate:return tt.pki.certificateError.bad_certificate;case $.Alert.Description.unsupported_certificate:return tt.pki.certificateError.unsupported_certificate;case $.Alert.Description.certificate_revoked:return tt.pki.certificateError.certificate_revoked;case $.Alert.Description.certificate_expired:return tt.pki.certificateError.certificate_expired;case $.Alert.Description.certificate_unknown:return tt.pki.certificateError.certificate_unknown;case $.Alert.Description.unknown_ca:return tt.pki.certificateError.unknown_ca;default:return tt.pki.certificateError.bad_certificate}},"_alertDescToCertError");$.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(o,a,l){var f=NP(o),c=e.verify(e,o,a,l);if(c!==!0){if(typeof c=="object"&&!tt.util.isArray(c)){var u=new Error("The application rejected the certificate.");throw u.send=!0,u.alert={level:$.Alert.Level.fatal,description:$.Alert.Description.bad_certificate},c.message&&(u.message=c.message),c.alert&&(u.alert.description=c.alert),u}c!==o&&(c=Afe(c))}return c},tt.pki.verifyCertificateChain(e.caStore,t,r)}catch(o){var i=o;(typeof i!="object"||tt.util.isArray(i))&&(i={send:!0,alert:{level:$.Alert.Level.fatal,description:NP(o)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:$.Alert.Level.fatal,description:NP(i.error)}),e.error(e,i)}return!e.fail};$.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var o=null,a=null;if(i?a=tt.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){o=r.cache[a],delete r.cache[a];for(var l in r.order)if(r.order[l]===a){r.order.splice(l,1);break}}return o},r.setSession=function(i,o){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=tt.util.bytesToHex(i);r.order.push(a),r.cache[a]=o}}return r};$.createConnection=function(e){var t=null;e.caStore?tt.util.isArray(e.caStore)?t=tt.pki.createCaStore(e.caStore):t=e.caStore:t=tt.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in $.CipherSuites)r.push($.CipherSuites[n])}var i=e.server?$.ConnectionEnd.server:$.ConnectionEnd.client,o=e.sessionCache?$.createSessionCache(e.sessionCache):null,a={version:{major:$.Version.major,minor:$.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:o,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(u,d,p,g){return d},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:tt.util.createBuffer(),tlsData:tt.util.createBuffer(),data:tt.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(u,d){d.origin=d.origin||(u.entity===$.ConnectionEnd.client?"client":"server"),d.send&&($.queue(u,$.createAlert(u,d.alert)),$.flush(u));var p=d.fatal!==!1;p&&(u.fail=!0),e.error(u,d),p&&u.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(u){a.version={major:$.Version.major,minor:$.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===$.ConnectionEnd.client?dfe:xfe,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(u||typeof u>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=$.createConnectionState(a)},a.reset();var l=s(function(u,d){var p=d.type-$.ContentType.change_cipher_spec,g=LP[u.entity][u.expect];p in g?g[p](u,d):$.handleUnexpected(u,d)},"_update"),f=s(function(u){var d=0,p=u.input,g=p.length();if(g<5)d=5-g;else{u.record={type:p.getByte(),version:{major:p.getByte(),minor:p.getByte()},length:p.getInt16(),fragment:tt.util.createBuffer(),ready:!1};var y=u.record.version.major===u.version.major;y&&u.session&&u.session.version&&(y=u.record.version.minor===u.version.minor),y||u.error(u,{message:"Incompatible TLS version.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.protocol_version}})}return d},"_readRecordHeader"),c=s(function(u){var d=0,p=u.input,g=p.length();if(g<u.record.length)d=u.record.length-g;else{u.record.fragment.putBytes(p.getBytes(u.record.length)),p.compact();var y=u.state.current.read;y.update(u,u.record)&&(u.fragmented!==null&&(u.fragmented.type===u.record.type?(u.fragmented.fragment.putBuffer(u.record.fragment),u.record=u.fragmented):u.error(u,{message:"Invalid fragmented record.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.unexpected_message}})),u.record.ready=!0)}return d},"_readRecord");return a.handshake=function(u){if(a.entity!==$.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,u=u||"";var d=null;u.length>0&&(a.sessionCache&&(d=a.sessionCache.getSession(u)),d===null&&(u="")),u.length===0&&a.sessionCache&&(d=a.sessionCache.getSession(),d!==null&&(u=d.id)),a.session={id:u,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:tt.md.md5.create(),sha1:tt.md.sha1.create()},d&&(a.version=d.version,a.session.sp=d.sp),a.session.sp.client_random=$.createRandom().getBytes(),a.open=!0,$.queue(a,$.createRecord(a,{type:$.ContentType.handshake,data:$.createClientHello(a)})),$.flush(a)}},a.process=function(u){var d=0;return u&&a.input.putBytes(u),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(d=f(a)),!a.fail&&a.record!==null&&!a.record.ready&&(d=c(a)),!a.fail&&a.record!==null&&a.record.ready&&l(a,a.record)),d},a.prepare=function(u){return $.queue(a,$.createRecord(a,{type:$.ContentType.application_data,data:tt.util.createBuffer(u)})),$.flush(a)},a.prepareHeartbeatRequest=function(u,d){return u instanceof tt.util.ByteBuffer&&(u=u.bytes()),typeof d>"u"&&(d=u.length),a.expectedHeartbeatPayload=u,$.queue(a,$.createRecord(a,{type:$.ContentType.heartbeat,data:$.createHeartbeat($.HeartbeatMessageType.heartbeat_request,u,d)})),$.flush(a)},a.close=function(u){if(!a.fail&&a.sessionCache&&a.session){var d={id:a.session.id,version:a.session.version,sp:a.session.sp};d.sp.keys=null,a.sessionCache.setSession(d.id,d)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,$.queue(a,$.createAlert(a,{level:$.Alert.Level.warning,description:$.Alert.Description.close_notify})),$.flush(a)),a.closed(a)),a.reset(u)},a};Bz.exports=tt.tls=tt.tls||{};for(Yy in $)typeof $[Yy]!="function"&&(tt.tls[Yy]=$[Yy]);var Yy;tt.tls.prf_tls1=Jy;tt.tls.hmac_sha1=ffe;tt.tls.createSessionCache=$.createSessionCache;tt.tls.createConnection=$.createConnection});var Mz=ae((PTe,Fz)=>{var Qc=v0();zc();BP();var bo=Fz.exports=Qc.tls;bo.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=bo.BulkCipherAlgorithm.aes,e.cipher_type=bo.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=bo.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Oz};bo.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=bo.BulkCipherAlgorithm.aes,e.cipher_type=bo.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=bo.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Oz};function Oz(e,t,r){var n=t.entity===Qc.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:Qc.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:Qc.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=kfe,e.write.cipherFunction=Pfe,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=bo.hmac_sha1}s(Oz,"initConnectionState");function Pfe(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===bo.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=Qc.random.getBytesSync(16),t.cipherState.init=!0;var o=t.cipherState.cipher;return o.start({iv:i}),e.version.minor>=bo.Versions.TLS_1_1.minor&&o.output.putBytes(i),o.update(e.fragment),o.finish(Rfe)&&(e.fragment=o.output,e.length=e.fragment.length(),r=!0),r}s(Pfe,"encrypt_aes_cbc_sha1");function Rfe(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}s(Rfe,"encrypt_aes_cbc_sha1_padding");function Nfe(e,t,r){var n=!0;if(r){for(var i=t.length(),o=t.last(),a=i-1-o;a<i-1;++a)n=n&&t.at(a)==o;n&&t.truncate(o+1)}return n}s(Nfe,"decrypt_aes_cbc_sha1_padding");function kfe(e,t){var r=!1,n;e.version.minor===bo.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(Nfe);var o=t.macLength,a=Qc.random.getBytesSync(o),l=i.output.length();l>=o?(e.fragment=i.output.getBytes(l-o),a=i.output.getBytes(o)):e.fragment=i.output.getBytes(),e.fragment=Qc.util.createBuffer(e.fragment),e.length=e.fragment.length();var f=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=Dfe(t.macKey,a,f)&&r,r}s(kfe,"decrypt_aes_cbc_sha1");function Dfe(e,t,r){var n=Qc.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}s(Dfe,"compareMacs")});var MP=ae((NTe,$z)=>{var Er=v0();za();G0();var a6=$z.exports=Er.sha512=Er.sha512||{};Er.md.sha512=Er.md.algorithms.sha512=a6;var qz=Er.sha384=Er.sha512.sha384=Er.sha512.sha384||{};qz.create=function(){return a6.create("SHA-384")};Er.md.sha384=Er.md.algorithms.sha384=qz;Er.sha512.sha256=Er.sha512.sha256||{create:function(){return a6.create("SHA-512/256")}};Er.md["sha512/256"]=Er.md.algorithms["sha512/256"]=Er.sha512.sha256;Er.sha512.sha224=Er.sha512.sha224||{create:function(){return a6.create("SHA-512/224")}};Er.md["sha512/224"]=Er.md.algorithms["sha512/224"]=Er.sha512.sha224;a6.create=function(e){if(jz||Lfe(),typeof e>"u"&&(e="SHA-512"),!(e in Sd))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=Sd[e],r=null,n=Er.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var l={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var f=l.messageLengthSize/4,c=0;c<f;++c)l.fullMessageLength.push(0);n=Er.util.createBuffer(),r=new Array(t.length);for(var c=0;c<t.length;++c)r[c]=t[c].slice(0);return l},l.start(),l.update=function(f,c){c==="utf8"&&(f=Er.util.encodeUtf8(f));var u=f.length;l.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var d=l.fullMessageLength.length-1;d>=0;--d)l.fullMessageLength[d]+=u[1],u[1]=u[0]+(l.fullMessageLength[d]/4294967296>>>0),l.fullMessageLength[d]=l.fullMessageLength[d]>>>0,u[0]=u[1]/4294967296>>>0;return n.putBytes(f),Uz(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var f=Er.util.createBuffer();f.putBytes(n.bytes());var c=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,u=c&l.blockLength-1;f.putBytes(OP.substr(0,l.blockLength-u));for(var d,p,g=l.fullMessageLength[0]*8,y=0;y<l.fullMessageLength.length-1;++y)d=l.fullMessageLength[y+1]*8,p=d/4294967296>>>0,g+=p,f.putInt32(g>>>0),g=d>>>0;f.putInt32(g);for(var _=new Array(r.length),y=0;y<r.length;++y)_[y]=r[y].slice(0);Uz(_,i,f);var S=Er.util.createBuffer(),T;e==="SHA-512"?T=_.length:e==="SHA-384"?T=_.length-2:T=_.length-4;for(var y=0;y<T;++y)S.putInt32(_[y][0]),(y!==T-1||e!=="SHA-512/224")&&S.putInt32(_[y][1]);return S},l};var OP=null,jz=!1,FP=null,Sd=null;function Lfe(){OP="\x80",OP+=Er.util.fillString("\0",128),FP=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Sd={},Sd["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Sd["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Sd["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Sd["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],jz=!0}s(Lfe,"_init");function Uz(e,t,r){for(var n,i,o,a,l,f,c,u,d,p,g,y,_,S,T,I,P,M,N,L,X,te,Ce,De,pe,Ie,ie,Z,_e,Ae,be,Ke,ce,ve,le,Ee=r.length();Ee>=128;){for(_e=0;_e<16;++_e)t[_e][0]=r.getInt32()>>>0,t[_e][1]=r.getInt32()>>>0;for(;_e<80;++_e)Ke=t[_e-2],Ae=Ke[0],be=Ke[1],n=((Ae>>>19|be<<13)^(be>>>29|Ae<<3)^Ae>>>6)>>>0,i=((Ae<<13|be>>>19)^(be<<3|Ae>>>29)^(Ae<<26|be>>>6))>>>0,ve=t[_e-15],Ae=ve[0],be=ve[1],o=((Ae>>>1|be<<31)^(Ae>>>8|be<<24)^Ae>>>7)>>>0,a=((Ae<<31|be>>>1)^(Ae<<24|be>>>8)^(Ae<<25|be>>>7))>>>0,ce=t[_e-7],le=t[_e-16],be=i+ce[1]+a+le[1],t[_e][0]=n+ce[0]+o+le[0]+(be/4294967296>>>0)>>>0,t[_e][1]=be>>>0;for(_=e[0][0],S=e[0][1],T=e[1][0],I=e[1][1],P=e[2][0],M=e[2][1],N=e[3][0],L=e[3][1],X=e[4][0],te=e[4][1],Ce=e[5][0],De=e[5][1],pe=e[6][0],Ie=e[6][1],ie=e[7][0],Z=e[7][1],_e=0;_e<80;++_e)c=((X>>>14|te<<18)^(X>>>18|te<<14)^(te>>>9|X<<23))>>>0,u=((X<<18|te>>>14)^(X<<14|te>>>18)^(te<<23|X>>>9))>>>0,d=(pe^X&(Ce^pe))>>>0,p=(Ie^te&(De^Ie))>>>0,l=((_>>>28|S<<4)^(S>>>2|_<<30)^(S>>>7|_<<25))>>>0,f=((_<<4|S>>>28)^(S<<30|_>>>2)^(S<<25|_>>>7))>>>0,g=(_&T|P&(_^T))>>>0,y=(S&I|M&(S^I))>>>0,be=Z+u+p+FP[_e][1]+t[_e][1],n=ie+c+d+FP[_e][0]+t[_e][0]+(be/4294967296>>>0)>>>0,i=be>>>0,be=f+y,o=l+g+(be/4294967296>>>0)>>>0,a=be>>>0,ie=pe,Z=Ie,pe=Ce,Ie=De,Ce=X,De=te,be=L+i,X=N+n+(be/4294967296>>>0)>>>0,te=be>>>0,N=P,L=M,P=T,M=I,T=_,I=S,be=i+a,_=n+o+(be/4294967296>>>0)>>>0,S=be>>>0;be=e[0][1]+S,e[0][0]=e[0][0]+_+(be/4294967296>>>0)>>>0,e[0][1]=be>>>0,be=e[1][1]+I,e[1][0]=e[1][0]+T+(be/4294967296>>>0)>>>0,e[1][1]=be>>>0,be=e[2][1]+M,e[2][0]=e[2][0]+P+(be/4294967296>>>0)>>>0,e[2][1]=be>>>0,be=e[3][1]+L,e[3][0]=e[3][0]+N+(be/4294967296>>>0)>>>0,e[3][1]=be>>>0,be=e[4][1]+te,e[4][0]=e[4][0]+X+(be/4294967296>>>0)>>>0,e[4][1]=be>>>0,be=e[5][1]+De,e[5][0]=e[5][0]+Ce+(be/4294967296>>>0)>>>0,e[5][1]=be>>>0,be=e[6][1]+Ie,e[6][0]=e[6][0]+pe+(be/4294967296>>>0)>>>0,e[6][1]=be>>>0,be=e[7][1]+Z,e[7][0]=e[7][0]+ie+(be/4294967296>>>0)>>>0,e[7][1]=be>>>0,Ee-=128}}s(Uz,"_update")});var Hz=ae(UP=>{var Bfe=v0();Zo();var On=Bfe.asn1;UP.privateKeyValidator={name:"PrivateKeyInfo",tagClass:On.Class.UNIVERSAL,type:On.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:On.Class.UNIVERSAL,type:On.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:On.Class.UNIVERSAL,type:On.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:On.Class.UNIVERSAL,type:On.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:On.Class.UNIVERSAL,type:On.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};UP.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:On.Class.UNIVERSAL,type:On.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:On.Class.UNIVERSAL,type:On.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:On.Class.UNIVERSAL,type:On.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:On.Class.UNIVERSAL,type:On.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var rK=ae((LTe,tK)=>{var si=v0();n6();po();MP();G0();var Yz=Hz(),Ofe=Yz.publicKeyValidator,Ffe=Yz.privateKeyValidator;typeof Vz>"u"&&(Vz=si.jsbn.BigInteger);var Vz,$P=si.util.ByteBuffer,us=typeof Buffer>"u"?Uint8Array:Buffer;si.pki=si.pki||{};tK.exports=si.pki.ed25519=si.ed25519=si.ed25519||{};var D0=si.ed25519;D0.constants={};D0.constants.PUBLIC_KEY_BYTE_LENGTH=32;D0.constants.PRIVATE_KEY_BYTE_LENGTH=64;D0.constants.SEED_BYTE_LENGTH=32;D0.constants.SIGN_BYTE_LENGTH=64;D0.constants.HASH_BYTE_LENGTH=64;D0.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=si.random.getBytesSync(D0.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==D0.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+D0.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=cf({message:t,encoding:"binary"});for(var r=new us(D0.constants.PUBLIC_KEY_BYTE_LENGTH),n=new us(D0.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return jfe(r,n),{publicKey:r,privateKey:n}};D0.privateKeyFromAsn1=function(e){var t={},r=[],n=si.asn1.validate(e,Ffe,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var o=si.asn1.derToOid(t.privateKeyOid),a=si.oids.EdDSA25519;if(o!==a)throw new Error('Invalid OID "'+o+'"; OID must be "'+a+'".');var l=t.privateKey,f=cf({message:si.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:f}};D0.publicKeyFromAsn1=function(e){var t={},r=[],n=si.asn1.validate(e,Ofe,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var o=si.asn1.derToOid(t.publicKeyOid),a=si.oids.EdDSA25519;if(o!==a)throw new Error('Invalid OID "'+o+'"; OID must be "'+a+'".');var l=t.ed25519PublicKey;if(l.length!==D0.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return cf({message:l,encoding:"binary"})};D0.publicKeyFromPrivateKey=function(e){e=e||{};var t=cf({message:e.privateKey,encoding:"binary"});if(t.length!==D0.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+D0.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new us(D0.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};D0.sign=function(e){e=e||{};var t=cf(e),r=cf({message:e.privateKey,encoding:"binary"});if(r.length===D0.constants.SEED_BYTE_LENGTH){var n=D0.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==D0.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+D0.constants.SEED_BYTE_LENGTH+" or "+D0.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new us(D0.constants.SIGN_BYTE_LENGTH+t.length);$fe(i,t,t.length,r);for(var o=new us(D0.constants.SIGN_BYTE_LENGTH),a=0;a<o.length;++a)o[a]=i[a];return o};D0.verify=function(e){e=e||{};var t=cf(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=cf({message:e.signature,encoding:"binary"});if(r.length!==D0.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+D0.constants.SIGN_BYTE_LENGTH);var n=cf({message:e.publicKey,encoding:"binary"});if(n.length!==D0.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+D0.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new us(D0.constants.SIGN_BYTE_LENGTH+t.length),o=new us(D0.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<D0.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<t.length;++a)i[a+D0.constants.SIGN_BYTE_LENGTH]=t[a];return Hfe(o,i,i.length,n)>=0};function cf(e){var t=e.message;if(t instanceof Uint8Array||t instanceof us)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new $P(t,r)}else if(!(t instanceof $P))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new us(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}s(cf,"messageToNativeBuffer");var HP=Yt(),Qy=Yt([1]),Mfe=Yt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Ufe=Yt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),zz=Yt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Kz=Yt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),qP=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),qfe=Yt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function l6(e,t){var r=si.md.sha512.create(),n=new $P(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var o=new us(D0.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)o[a]=i.charCodeAt(a);return o}s(l6,"sha512");function jfe(e,t){var r=[Yt(),Yt(),Yt(),Yt()],n,i=l6(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,WP(r,i),KP(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}s(jfe,"crypto_sign_keypair");function $fe(e,t,r,n){var i,o,a=new Float64Array(64),l=[Yt(),Yt(),Yt(),Yt()],f=l6(n,32);f[0]&=248,f[31]&=127,f[31]|=64;var c=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=f[32+i];var u=l6(e.subarray(32),r+32);for(VP(u),WP(l,u),KP(e,l),i=32;i<64;++i)e[i]=n[i];var d=l6(e,r+64);for(VP(d),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=u[i];for(i=0;i<32;++i)for(o=0;o<32;o++)a[i+o]+=d[i]*f[o];return Xz(e.subarray(32),a),c}s($fe,"crypto_sign");function Hfe(e,t,r,n){var i,o,a=new us(32),l=[Yt(),Yt(),Yt(),Yt()],f=[Yt(),Yt(),Yt(),Yt()];if(o=-1,r<64||Vfe(f,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var c=l6(e,r);if(VP(c),Zz(l,f,c),WP(f,t.subarray(32)),zP(l,f),KP(a,l),r-=64,Jz(t,0,a,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return o=r,o}s(Hfe,"crypto_sign_open");function Xz(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*qP[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*qP[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*qP[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}s(Xz,"modL");function VP(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;Xz(e,t)}s(VP,"reduce");function zP(e,t){var r=Yt(),n=Yt(),i=Yt(),o=Yt(),a=Yt(),l=Yt(),f=Yt(),c=Yt(),u=Yt();T2(r,e[1],e[0]),T2(u,t[1],t[0]),gr(r,r,u),C2(n,e[0],e[1]),C2(u,t[0],t[1]),gr(n,n,u),gr(i,e[3],t[3]),gr(i,i,Ufe),gr(o,e[2],t[2]),C2(o,o,o),T2(a,n,r),T2(l,o,i),C2(f,o,i),C2(c,n,r),gr(e[0],a,l),gr(e[1],c,f),gr(e[2],f,l),gr(e[3],a,c)}s(zP,"add");function Wz(e,t,r){for(var n=0;n<4;++n)eK(e[n],t[n],r)}s(Wz,"cswap");function KP(e,t){var r=Yt(),n=Yt(),i=Yt();Gfe(i,t[2]),gr(r,t[0],i),gr(n,t[1],i),Zy(e,n),e[31]^=Qz(r)<<7}s(KP,"pack");function Zy(e,t){var r,n,i,o=Yt(),a=Yt();for(r=0;r<16;++r)a[r]=t[r];for(jP(a),jP(a),jP(a),n=0;n<2;++n){for(o[0]=a[0]-65517,r=1;r<15;++r)o[r]=a[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,eK(a,o,1-i)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}s(Zy,"pack25519");function Vfe(e,t){var r=Yt(),n=Yt(),i=Yt(),o=Yt(),a=Yt(),l=Yt(),f=Yt();return Zc(e[2],Qy),zfe(e[1],t),wd(i,e[1]),gr(o,i,Mfe),T2(i,i,e[2]),C2(o,e[2],o),wd(a,o),wd(l,a),gr(f,l,a),gr(r,f,i),gr(r,r,o),Kfe(r,r),gr(r,r,i),gr(r,r,o),gr(r,r,o),gr(e[0],r,o),wd(n,e[0]),gr(n,n,o),Gz(n,i)&&gr(e[0],e[0],qfe),wd(n,e[0]),gr(n,n,o),Gz(n,i)?-1:(Qz(e[0])===t[31]>>7&&T2(e[0],HP,e[0]),gr(e[3],e[0],e[1]),0)}s(Vfe,"unpackneg");function zfe(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}s(zfe,"unpack25519");function Kfe(e,t){var r=Yt(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)wd(r,r),n!==1&&gr(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}s(Kfe,"pow2523");function Gz(e,t){var r=new us(32),n=new us(32);return Zy(r,e),Zy(n,t),Jz(r,0,n,0)}s(Gz,"neq25519");function Jz(e,t,r,n){return Wfe(e,t,r,n,32)}s(Jz,"crypto_verify_32");function Wfe(e,t,r,n,i){var o,a=0;for(o=0;o<i;++o)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}s(Wfe,"vn");function Qz(e){var t=new us(32);return Zy(t,e),t[0]&1}s(Qz,"par25519");function Zz(e,t,r){var n,i;for(Zc(e[0],HP),Zc(e[1],Qy),Zc(e[2],Qy),Zc(e[3],HP),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,Wz(e,t,n),zP(t,e),zP(e,e),Wz(e,t,n)}s(Zz,"scalarmult");function WP(e,t){var r=[Yt(),Yt(),Yt(),Yt()];Zc(r[0],zz),Zc(r[1],Kz),Zc(r[2],Qy),gr(r[3],zz,Kz),Zz(e,r,t)}s(WP,"scalarbase");function Zc(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}s(Zc,"set25519");function Gfe(e,t){var r=Yt(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)wd(r,r),n!==2&&n!==4&&gr(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}s(Gfe,"inv25519");function jP(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}s(jP,"car25519");function eK(e,t,r){for(var n,i=~(r-1),o=0;o<16;++o)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}s(eK,"sel25519");function Yt(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}s(Yt,"gf");function C2(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}s(C2,"A");function T2(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}s(T2,"Z");function wd(e,t){gr(e,t,t)}s(wd,"S");function gr(e,t,r){var n,i,o=0,a=0,l=0,f=0,c=0,u=0,d=0,p=0,g=0,y=0,_=0,S=0,T=0,I=0,P=0,M=0,N=0,L=0,X=0,te=0,Ce=0,De=0,pe=0,Ie=0,ie=0,Z=0,_e=0,Ae=0,be=0,Ke=0,ce=0,ve=r[0],le=r[1],Ee=r[2],mt=r[3],Et=r[4],dt=r[5],ze=r[6],n0=r[7],W=r[8],Je=r[9],he=r[10],Xe=r[11],Ve=r[12],nt=r[13],wt=r[14],Mt=r[15];n=t[0],o+=n*ve,a+=n*le,l+=n*Ee,f+=n*mt,c+=n*Et,u+=n*dt,d+=n*ze,p+=n*n0,g+=n*W,y+=n*Je,_+=n*he,S+=n*Xe,T+=n*Ve,I+=n*nt,P+=n*wt,M+=n*Mt,n=t[1],a+=n*ve,l+=n*le,f+=n*Ee,c+=n*mt,u+=n*Et,d+=n*dt,p+=n*ze,g+=n*n0,y+=n*W,_+=n*Je,S+=n*he,T+=n*Xe,I+=n*Ve,P+=n*nt,M+=n*wt,N+=n*Mt,n=t[2],l+=n*ve,f+=n*le,c+=n*Ee,u+=n*mt,d+=n*Et,p+=n*dt,g+=n*ze,y+=n*n0,_+=n*W,S+=n*Je,T+=n*he,I+=n*Xe,P+=n*Ve,M+=n*nt,N+=n*wt,L+=n*Mt,n=t[3],f+=n*ve,c+=n*le,u+=n*Ee,d+=n*mt,p+=n*Et,g+=n*dt,y+=n*ze,_+=n*n0,S+=n*W,T+=n*Je,I+=n*he,P+=n*Xe,M+=n*Ve,N+=n*nt,L+=n*wt,X+=n*Mt,n=t[4],c+=n*ve,u+=n*le,d+=n*Ee,p+=n*mt,g+=n*Et,y+=n*dt,_+=n*ze,S+=n*n0,T+=n*W,I+=n*Je,P+=n*he,M+=n*Xe,N+=n*Ve,L+=n*nt,X+=n*wt,te+=n*Mt,n=t[5],u+=n*ve,d+=n*le,p+=n*Ee,g+=n*mt,y+=n*Et,_+=n*dt,S+=n*ze,T+=n*n0,I+=n*W,P+=n*Je,M+=n*he,N+=n*Xe,L+=n*Ve,X+=n*nt,te+=n*wt,Ce+=n*Mt,n=t[6],d+=n*ve,p+=n*le,g+=n*Ee,y+=n*mt,_+=n*Et,S+=n*dt,T+=n*ze,I+=n*n0,P+=n*W,M+=n*Je,N+=n*he,L+=n*Xe,X+=n*Ve,te+=n*nt,Ce+=n*wt,De+=n*Mt,n=t[7],p+=n*ve,g+=n*le,y+=n*Ee,_+=n*mt,S+=n*Et,T+=n*dt,I+=n*ze,P+=n*n0,M+=n*W,N+=n*Je,L+=n*he,X+=n*Xe,te+=n*Ve,Ce+=n*nt,De+=n*wt,pe+=n*Mt,n=t[8],g+=n*ve,y+=n*le,_+=n*Ee,S+=n*mt,T+=n*Et,I+=n*dt,P+=n*ze,M+=n*n0,N+=n*W,L+=n*Je,X+=n*he,te+=n*Xe,Ce+=n*Ve,De+=n*nt,pe+=n*wt,Ie+=n*Mt,n=t[9],y+=n*ve,_+=n*le,S+=n*Ee,T+=n*mt,I+=n*Et,P+=n*dt,M+=n*ze,N+=n*n0,L+=n*W,X+=n*Je,te+=n*he,Ce+=n*Xe,De+=n*Ve,pe+=n*nt,Ie+=n*wt,ie+=n*Mt,n=t[10],_+=n*ve,S+=n*le,T+=n*Ee,I+=n*mt,P+=n*Et,M+=n*dt,N+=n*ze,L+=n*n0,X+=n*W,te+=n*Je,Ce+=n*he,De+=n*Xe,pe+=n*Ve,Ie+=n*nt,ie+=n*wt,Z+=n*Mt,n=t[11],S+=n*ve,T+=n*le,I+=n*Ee,P+=n*mt,M+=n*Et,N+=n*dt,L+=n*ze,X+=n*n0,te+=n*W,Ce+=n*Je,De+=n*he,pe+=n*Xe,Ie+=n*Ve,ie+=n*nt,Z+=n*wt,_e+=n*Mt,n=t[12],T+=n*ve,I+=n*le,P+=n*Ee,M+=n*mt,N+=n*Et,L+=n*dt,X+=n*ze,te+=n*n0,Ce+=n*W,De+=n*Je,pe+=n*he,Ie+=n*Xe,ie+=n*Ve,Z+=n*nt,_e+=n*wt,Ae+=n*Mt,n=t[13],I+=n*ve,P+=n*le,M+=n*Ee,N+=n*mt,L+=n*Et,X+=n*dt,te+=n*ze,Ce+=n*n0,De+=n*W,pe+=n*Je,Ie+=n*he,ie+=n*Xe,Z+=n*Ve,_e+=n*nt,Ae+=n*wt,be+=n*Mt,n=t[14],P+=n*ve,M+=n*le,N+=n*Ee,L+=n*mt,X+=n*Et,te+=n*dt,Ce+=n*ze,De+=n*n0,pe+=n*W,Ie+=n*Je,ie+=n*he,Z+=n*Xe,_e+=n*Ve,Ae+=n*nt,be+=n*wt,Ke+=n*Mt,n=t[15],M+=n*ve,N+=n*le,L+=n*Ee,X+=n*mt,te+=n*Et,Ce+=n*dt,De+=n*ze,pe+=n*n0,Ie+=n*W,ie+=n*Je,Z+=n*he,_e+=n*Xe,Ae+=n*Ve,be+=n*nt,Ke+=n*wt,ce+=n*Mt,o+=38*N,a+=38*L,l+=38*X,f+=38*te,c+=38*Ce,u+=38*De,d+=38*pe,p+=38*Ie,g+=38*ie,y+=38*Z,_+=38*_e,S+=38*Ae,T+=38*be,I+=38*Ke,P+=38*ce,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=I+i+65535,i=Math.floor(n/65536),I=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=M+i+65535,i=Math.floor(n/65536),M=n-i*65536,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=I+i+65535,i=Math.floor(n/65536),I=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=M+i+65535,i=Math.floor(n/65536),M=n-i*65536,o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=l,e[3]=f,e[4]=c,e[5]=u,e[6]=d,e[7]=p,e[8]=g,e[9]=y,e[10]=_,e[11]=S,e[12]=T,e[13]=I,e[14]=P,e[15]=M}s(gr,"M")});var oK=ae((OTe,sK)=>{var Fs=v0();G0();po();n6();sK.exports=Fs.kem=Fs.kem||{};var nK=Fs.jsbn.BigInteger;Fs.kem.rsa={};Fs.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||Fs.random,n={};return n.encrypt=function(i,o){var a=Math.ceil(i.n.bitLength()/8),l;do l=new nK(Fs.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(l.compareTo(nK.ONE)<=0);l=Fs.util.hexToBytes(l.toString(16));var f=a-l.length;f>0&&(l=Fs.util.fillString("\0",f)+l);var c=i.encrypt(l,"NONE"),u=e.generate(l,o);return{encapsulation:c,key:u}},n.decrypt=function(i,o,a){var l=i.decrypt(o,"NONE");return e.generate(l,a)},n};Fs.kem.kdf1=function(e,t){iK(this,e,0,t||e.digestLength)};Fs.kem.kdf2=function(e,t){iK(this,e,1,t||e.digestLength)};function iK(e,t,r,n){e.generate=function(i,o){for(var a=new Fs.util.ByteBuffer,l=Math.ceil(o/n)+r,f=new Fs.util.ByteBuffer,c=r;c<l;++c){f.putInt32(c),t.start(),t.update(i+f.getBytes());var u=t.digest();a.putBytes(u.getBytes(n))}return a.truncate(a.length()-o),a.getBytes()}}s(iK,"_createKDF")});var cK=ae((MTe,fK)=>{var F0=v0();G0();fK.exports=F0.log=F0.log||{};F0.log.levels=["none","error","warning","info","debug","verbose","max"];var ev={},XP=[],c6=null;F0.log.LEVEL_LOCKED=2;F0.log.NO_LEVEL_CHECK=4;F0.log.INTERPOLATE=8;for(Za=0;Za<F0.log.levels.length;++Za)GP=F0.log.levels[Za],ev[GP]={index:Za,name:GP.toUpperCase()};var GP,Za;F0.log.logMessage=function(e){for(var t=ev[e.level].index,r=0;r<XP.length;++r){var n=XP[r];if(n.flags&F0.log.NO_LEVEL_CHECK)n.f(e);else{var i=ev[n.level].index;t<=i&&n.f(n,e)}}};F0.log.prepareStandard=function(e){"standard"in e||(e.standard=ev[e.level].name+" ["+e.category+"] "+e.message)};F0.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=F0.util.format.apply(this,t)}};F0.log.prepareStandardFull=function(e){"standardFull"in e||(F0.log.prepareStandard(e),e.standardFull=e.standard)};for(YP=["error","warning","info","debug","verbose"],Za=0;Za<YP.length;++Za)(function(t){F0.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:t,category:r,message:n,arguments:i};F0.log.logMessage(o)}})(YP[Za]);var YP,Za;F0.log.makeLogger=function(e){var t={flags:0,f:e};return F0.log.setLevel(t,"none"),t};F0.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&F0.log.LEVEL_LOCKED))for(var n=0;n<F0.log.levels.length;++n){var i=F0.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};F0.log.lock=function(e,t){typeof t>"u"||t?e.flags|=F0.log.LEVEL_LOCKED:e.flags&=~F0.log.LEVEL_LOCKED};F0.log.addLogger=function(e){XP.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(aK={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},u6=s(function(e,t){F0.log.prepareStandard(t);var r=aK[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),E2=F0.log.makeLogger(u6)):(u6=s(function(t,r){F0.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),E2=F0.log.makeLogger(u6)),F0.log.setLevel(E2,"debug"),F0.log.addLogger(E2),c6=E2):console={log:function(){}};var E2,aK,u6;c6!==null&&typeof window<"u"&&window.location&&(f6=new URL(window.location.href).searchParams,f6.has("console.level")&&F0.log.setLevel(c6,f6.get("console.level").slice(-1)[0]),f6.has("console.lock")&&(lK=f6.get("console.lock").slice(-1)[0],lK=="true"&&F0.log.lock(c6)));var f6,lK;F0.log.consoleLogger=c6});var dK=ae((qTe,uK)=>{uK.exports=za();Dy();y2();fP();MP()});var gK=ae((jTe,mK)=>{var ut=v0();zc();Zo();t6();Kc();xd();TP();po();G0();Wy();var de=ut.asn1,Ui=mK.exports=ut.pkcs7=ut.pkcs7||{};Ui.messageFromPem=function(e){var t=ut.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=de.fromDer(t.body);return Ui.messageFromAsn1(n)};Ui.messageToPem=function(e,t){var r={type:"PKCS7",body:de.toDer(e.toAsn1()).getBytes()};return ut.pem.encode(r,{maxline:t})};Ui.messageFromAsn1=function(e){var t={},r=[];if(!de.validate(e,Ui.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=de.derToOid(t.contentType),o;switch(i){case ut.pki.oids.envelopedData:o=Ui.createEnvelopedData();break;case ut.pki.oids.encryptedData:o=Ui.createEncryptedData();break;case ut.pki.oids.signedData:o=Ui.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return o.fromAsn1(t.content.value[0]),o};Ui.createSignedData=function(){var e=null;return e={type:ut.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(QP(e,n,Ui.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,o=0;o<i.length;++o)e.certificates.push(ut.pki.certificateFromAsn1(i[o]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(ut.pki.certificateToAsn1(e.certificates[i]));var o=[],a=de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(e.version).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(de.create(de.Class.CONTEXT_SPECIFIC,0,!0,n)),o.length>0&&a.value[0].value.push(de.create(de.Class.CONTEXT_SPECIFIC,1,!0,o)),a.value[0].value.push(de.create(de.Class.UNIVERSAL,de.Type.SET,!0,e.signerInfos)),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.type).getBytes()),a])},addSigner:function(n){var i=n.issuer,o=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=ut.pki.certificateFromPem(a)),i=a.issuer.attributes,o=a.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=ut.pki.privateKeyFromPem(l));var f=n.digestAlgorithm||ut.pki.oids.sha1;switch(f){case ut.pki.oids.sha1:case ut.pki.oids.sha256:case ut.pki.oids.sha384:case ut.pki.oids.sha512:case ut.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+f)}var c=n.authenticatedAttributes||[];if(c.length>0){for(var u=!1,d=!1,p=0;p<c.length;++p){var g=c[p];if(!u&&g.type===ut.pki.oids.contentType){if(u=!0,d)break;continue}if(!d&&g.type===ut.pki.oids.messageDigest){if(d=!0,u)break;continue}}if(!u||!d)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:l,version:1,issuer:i,serialNumber:o,digestAlgorithm:f,signatureAlgorithm:ut.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(ut.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof ut.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=ut.util.encodeUtf8(e.content)),n.detached?e.detachedContent=de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var o=t();r(o)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=ut.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var o=e.signers[i],a=o.digestAlgorithm;a in n||(n[a]=ut.md[ut.pki.oids[a]].create()),o.authenticatedAttributes.length===0?o.md=n[a]:o.md=ut.md[ut.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(a).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")]));return n}s(t,"addDigestAlgorithmIds");function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var o=de.derToOid(e.contentInfo.value[0].value),a=de.toDer(i);a.getByte(),de.getBerValueLength(a),a=a.getBytes();for(var l in n)n[l].start().update(a);for(var f=new Date,c=0;c<e.signers.length;++c){var u=e.signers[c];if(u.authenticatedAttributes.length===0){if(o!==ut.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{u.authenticatedAttributesAsn1=de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var d=de.create(de.Class.UNIVERSAL,de.Type.SET,!0,[]),p=0;p<u.authenticatedAttributes.length;++p){var g=u.authenticatedAttributes[p];g.type===ut.pki.oids.messageDigest?g.value=n[u.digestAlgorithm].digest():g.type===ut.pki.oids.signingTime&&(g.value||(g.value=f)),d.value.push(JP(g)),u.authenticatedAttributesAsn1.value.push(JP(g))}a=de.toDer(d).getBytes(),u.md.start().update(a)}u.signature=u.key.sign(u.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=ece(e.signers)}s(r,"addSignerInfos")};Ui.createEncryptedData=function(){var e=null;return e={type:ut.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:ut.pki.oids["aes256-CBC"]},fromAsn1:function(t){QP(e,t,Ui.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),hK(e)}},e};Ui.createEnvelopedData=function(){var e=null;return e={type:ut.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:ut.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=QP(e,t,Ui.asn1.envelopedDataValidator);e.recipients=Jfe(r.recipientInfos.value)},toAsn1:function(){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.type).getBytes()),de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(e.version).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SET,!0,Qfe(e.recipients)),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,tce(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],o=i.issuer;if(i.serialNumber===t.serialNumber&&o.length===r.length){for(var a=!0,l=0;l<r.length;++l)if(o[l].type!==r[l].type||o[l].value!==r[l].value){a=!1;break}if(a)return i}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case ut.pki.oids.rsaEncryption:case ut.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=ut.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}hK(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:ut.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,o;switch(r){case ut.pki.oids["aes128-CBC"]:n=16,i=16,o=ut.aes.createEncryptionCipher;break;case ut.pki.oids["aes192-CBC"]:n=24,i=16,o=ut.aes.createEncryptionCipher;break;case ut.pki.oids["aes256-CBC"]:n=32,i=16,o=ut.aes.createEncryptionCipher;break;case ut.pki.oids["des-EDE3-CBC"]:n=24,i=8,o=ut.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=ut.util.createBuffer(ut.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=ut.util.createBuffer(ut.random.getBytes(i));var a=o(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var l=0;l<e.recipients.length;++l){var f=e.recipients[l];if(f.encryptedContent.content===void 0)switch(f.encryptedContent.algorithm){case ut.pki.oids.rsaEncryption:f.encryptedContent.content=f.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+f.encryptedContent.algorithm)}}}},e};function Yfe(e){var t={},r=[];if(!de.validate(e,Ui.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:ut.pki.RDNAttributesAsArray(t.issuer),serialNumber:ut.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:de.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}s(Yfe,"_recipientFromAsn1");function Xfe(e){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(e.version).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[ut.pki.distinguishedNameToAsn1({attributes:e.issuer}),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,ut.util.hexToBytes(e.serialNumber))]),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.encryptedContent.algorithm).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")]),de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.encryptedContent.content)])}s(Xfe,"_recipientToAsn1");function Jfe(e){for(var t=[],r=0;r<e.length;++r)t.push(Yfe(e[r]));return t}s(Jfe,"_recipientsFromAsn1");function Qfe(e){for(var t=[],r=0;r<e.length;++r)t.push(Xfe(e[r]));return t}s(Qfe,"_recipientsToAsn1");function Zfe(e){var t=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(e.version).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[ut.pki.distinguishedNameToAsn1({attributes:e.issuer}),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,ut.util.hexToBytes(e.serialNumber))]),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.digestAlgorithm).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.signatureAlgorithm).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")])),t.value.push(de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=de.create(de.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(JP(i))}t.value.push(r)}return t}s(Zfe,"_signerToAsn1");function ece(e){for(var t=[],r=0;r<e.length;++r)t.push(Zfe(e[r]));return t}s(ece,"_signersToAsn1");function JP(e){var t;if(e.type===ut.pki.oids.contentType)t=de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.value).getBytes());else if(e.type===ut.pki.oids.messageDigest)t=de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===ut.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var o=Date.parse(i);isNaN(o)?i.length===13?i=de.utcTimeToDate(i):i=de.generalizedTimeToDate(i):i=new Date(o)}i>=r&&i<n?t=de.create(de.Class.UNIVERSAL,de.Type.UTCTIME,!1,de.dateToUtcTime(i)):t=de.create(de.Class.UNIVERSAL,de.Type.GENERALIZEDTIME,!1,de.dateToGeneralizedTime(i))}return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.type).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SET,!0,[t])])}s(JP,"_attributeToAsn1");function tce(e){return[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(ut.pki.oids.data).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.algorithm).getBytes()),e.parameter?de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.content.getBytes())])]}s(tce,"_encryptedContentToAsn1");function QP(e,t,r){var n={},i=[];if(!de.validate(t,r,n,i)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}var a=de.derToOid(n.contentType);if(a!==ut.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(ut.util.isArray(n.encryptedContent))for(var f=0;f<n.encryptedContent.length;++f){if(n.encryptedContent[f].type!==de.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[f].value}else l=n.encryptedContent;e.encryptedContent={algorithm:de.derToOid(n.encAlgorithm),parameter:ut.util.createBuffer(n.encParameter.value),content:ut.util.createBuffer(l)}}if(n.content){var l="";if(ut.util.isArray(n.content))for(var f=0;f<n.content.length;++f){if(n.content[f].type!==de.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[f].value}else l=n.content;e.content=ut.util.createBuffer(l)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}s(QP,"_fromAsn1");function hK(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case ut.pki.oids["aes128-CBC"]:case ut.pki.oids["aes192-CBC"]:case ut.pki.oids["aes256-CBC"]:t=ut.aes.createDecryptionCipher(e.encryptedContent.key);break;case ut.pki.oids.desCBC:case ut.pki.oids["des-EDE3-CBC"]:t=ut.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}s(hK,"_decryptContent")});var yK=ae((HTe,pK)=>{var cn=v0();zc();h2();Dy();y2();G0();var rv=pK.exports=cn.ssh=cn.ssh||{};rv.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",o="PuTTY-User-Key-File-2: "+n+`\r
`;o+="Encryption: "+i+`\r
`,o+="Comment: "+r+`\r
`;var a=cn.util.createBuffer();S2(a,n),el(a,e.e),el(a,e.n);var l=cn.util.encode64(a.bytes(),64),f=Math.floor(l.length/66)+1;o+="Public-Lines: "+f+`\r
`,o+=l;var c=cn.util.createBuffer();el(c,e.d),el(c,e.p),el(c,e.q),el(c,e.qInv);var u;if(!t)u=cn.util.encode64(c.bytes(),64);else{var d=c.length()+16-1;d-=d%16;var p=tv(c.bytes());p.truncate(p.length()-d+c.length()),c.putBuffer(p);var g=cn.util.createBuffer();g.putBuffer(tv("\0\0\0\0",t)),g.putBuffer(tv("\0\0\0",t));var y=cn.aes.createEncryptionCipher(g.truncate(8),"CBC");y.start(cn.util.createBuffer().fillWithByte(0,16)),y.update(c.copy()),y.finish();var _=y.output;_.truncate(16),u=cn.util.encode64(_.bytes(),64)}f=Math.floor(u.length/66)+1,o+=`\r
Private-Lines: `+f+`\r
`,o+=u;var S=tv("putty-private-key-file-mac-key",t),T=cn.util.createBuffer();S2(T,n),S2(T,i),S2(T,r),T.putInt32(a.length()),T.putBuffer(a),T.putInt32(c.length()),T.putBuffer(c);var I=cn.hmac.create();return I.start("sha1",S),I.update(T.bytes()),o+=`\r
Private-MAC: `+I.digest().toHex()+`\r
`,o};rv.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=cn.util.createBuffer();return S2(n,r),el(n,e.e),el(n,e.n),r+" "+cn.util.encode64(n.bytes())+" "+t};rv.privateKeyToOpenSSH=function(e,t){return t?cn.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):cn.pki.privateKeyToPem(e)};rv.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||cn.md.md5.create(),n="ssh-rsa",i=cn.util.createBuffer();S2(i,n),el(i,e.e),el(i,e.n),r.start(),r.update(i.getBytes());var o=r.digest();if(t.encoding==="hex"){var a=o.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return o};function el(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=cn.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}s(el,"_addBigIntegerToBuffer");function S2(e,t){e.putInt32(t.length),e.putString(t)}s(S2,"_addStringToBuffer");function tv(){for(var e=cn.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}s(tv,"_sha1")});var xK=ae((zTe,vK)=>{vK.exports=v0();zc();Mz();Zo();wy();t6();rK();h2();oK();cK();dK();EP();Fy();xd();vP();IP();gK();PP();_P();cP();Vy();po();hP();yK();BP();G0()});var _K=ae((KTe,rce)=>{rce.exports={name:"@roamhq/mac-ca",version:"1.0.7",description:"Get Mac OS Root certificates",main:"index.js",repository:{type:"git",url:"https://github.com/WonderInventions/mac-ca.git"},scripts:{test:'echo "Error: no test specified" && exit 1',lint:"eslint ."},license:"BSD-3-Clause",dependencies:{"node-forge":"^1.3.1"},devDependencies:{eslint:"^8.22.0"}}});var TK=ae((WTe,ZP)=>{var iv=xK(),bK=_K(),nv=ZP.exports.validFormats={der:0,pem:1,txt:2,asn1:3};function CK(e){let t=iv.pki.pemToDer(e),r=iv.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,i=n[0],o=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(o);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}s(CK,"myASN");function nce(e){let t=CK(e),r=new Date,n=t.subject.value.map(a=>a.value[0].value[1].value).join("/"),i=t.valid.value.map(a=>a.value).join(" - "),o=r.toTimeString().replace(/\s*\(.*\)\s*/,"");return[`Subject	${n}`,`Valid	${i}`,`Saved	${r.toLocaleDateString()} ${o} by ${bK.name}@${bK.version}`,String(e)].join(`
`)}s(nce,"txtFormat");ZP.exports.transform=function(e){return function(t){try{switch(e){case nv.der:return iv.pki.pemToDer(t);case nv.pem:return t;case nv.txt:return nce(t);case nv.asn1:return CK(t);default:return iv.pki.certificateFromPem(t)}}catch{return}}}});var EK=ae((YTe,w2)=>{var eR=require("https"),tR=TK();if(process.platform!=="darwin")w2.exports.all=()=>[],w2.exports.each=()=>{};else{let l=function(c,u,d){return d.indexOf(c)===u};ice=l,s(l,"duplicated");let e=require("child_process"),t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r="/System/Library/Keychains/SystemRootCertificates.keychain",n=["find-certificate","-a","-p"],i=e.spawnSync("/usr/bin/security",n).stdout.toString().split(t),o=e.spawnSync("/usr/bin/security",n.concat(r)).stdout.toString().split(t);eR.globalAgent.options.ca=eR.globalAgent.options.ca||[];let a=eR.globalAgent.options.ca,f=i.concat(o);f.filter(l).forEach(c=>a.push(c)),w2.exports.der2=tR.validFormats,w2.exports.all=function(c){return f.map(tR.transform(c)).filter(u=>u)},w2.exports.each=function(c,u){return typeof c=="function"&&(u=c,c=void 0),f.map(tR.transform(c)).filter(d=>d).forEach(u)}}var ice});var SK=ae((JTe,rR)=>{function sce(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),i=[],o=new n.Crypt32;try{let a;for(;a=o.next();){let l=new e(a);i.push(l.toString())}}finally{o.done()}return Array.from(new Set(i))}s(sce,"all");process.platform!=="win32"?rR.exports.all=()=>[]:rR.exports.all=sce});var kK=ae((rEe,NK)=>{var sv=require("path").sep||"/";NK.exports=ace;function ace(e){if(typeof e!="string"||e.length<=7||e.substring(0,7)!="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");var t=decodeURI(e.substring(7)),r=t.indexOf("/"),n=t.substring(0,r),i=t.substring(r+1);return n=="localhost"&&(n=""),n&&(n=sv+sv+n),i=i.replace(/^(.+)\|/,"$1:"),sv=="\\"&&(i=i.replace(/\//g,"\\")),/^.+\:/.test(i)||(i=sv+i),n+i}s(ace,"fileUriToPath")});var FK=ae((lv,OK)=>{var _R=require("fs"),av=require("path"),lce=kK(),ov=av.join,BK=av.dirname,DK=_R.accessSync&&function(e){try{_R.accessSync(e)}catch{return!1}return!0}||_R.existsSync||av.existsSync,LK={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};function fce(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(LK).map(function(f){f in e||(e[f]=LK[f])}),e.module_root||(e.module_root=BK(__filename)),av.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=e.try.length,o,a,l;n<i;n++){o=ov.apply(null,e.try[n].map(function(f){return e[f]||f})),r.push(o);try{return a=e.path?t.resolve(o):t(o),e.path||(a.path=o),a}catch(f){if(f.code!=="MODULE_NOT_FOUND"&&f.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(f.message))throw f}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(f){return e.arrow+f}).join(`
`)),l.tries=r,l}s(fce,"bindings");OK.exports=lv=fce;lv.getFileName=s(function(t){var r=Error.prepareStackTrace,n=Error.stackTraceLimit,i={},o;Error.stackTraceLimit=10,Error.prepareStackTrace=function(l,f){for(var c=0,u=f.length;c<u;c++)if(o=f[c].getFileName(),o!==__filename)if(t){if(o!==t)return}else return},Error.captureStackTrace(i),new Error(i.stack),Error.prepareStackTrace=r,Error.stackTraceLimit=n;var a="file://";return o.indexOf(a)===0&&(o=lce(o)),o},"getFileName");lv.getRoot=s(function(t){for(var r=BK(t),n;;){if(r==="."&&(r=process.cwd()),DK(ov(r,"package.json"))||DK(ov(r,"node_modules")))return r;if(n===r)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');n=r,r=ov(r,"..")}},"getRoot")});var qK=ae((sEe,UK)=>{"use strict";function MK(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof e;if(n.type&&i!==n.type){if(n.required===!1&&t.slice(r).some(o=>o.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}s(MK,"validateParameter");function cce(e,t){return Object.prototype.hasOwnProperty.call(e,t)}s(cce,"hasOwnProperty");function uce(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let o=0,a=0;o<t.length;++o,++a){let l=t[o],f=r[a];cce(l,"default")&&f==null&&(f=l.default),l.type==="object"&&l.default!=null&&(f=Object.assign({},l.default,f)),l.name==="options"&&(typeof f=="function"||f==null)&&(f={}),MK(f,t,o)?n.push(f):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((o,a)=>{n.push((l,f)=>{if(l)return a(l);o(f)}),e.apply(this,n)});e.apply(this,n)}}s(uce,"defineOperation");UK.exports={defineOperation:uce,validateParameter:MK}});var bR=ae((aEe,HK)=>{"use strict";var P2=FK()("kerberos"),A2=P2.KerberosClient,jK=P2.KerberosServer,e1=qK().defineOperation,dce=1,hce=2,mce=4,gce=8,pce=16,yce=32,vce=64,xce=128,_ce=256,$K=0,bce=9,Cce=6;A2.prototype.step=e1(A2.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);A2.prototype.wrap=e1(A2.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);A2.prototype.unwrap=e1(A2.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);jK.prototype.step=e1(jK.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var Tce=e1(P2.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),Ece=e1(P2.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),Sce=e1(P2.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:$K}},{name:"callback",type:"function",required:!1}]),wce=e1(P2.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);HK.exports={initializeClient:Sce,initializeServer:wce,principalDetails:Ece,checkPassword:Tce,GSS_C_DELEG_FLAG:dce,GSS_C_MUTUAL_FLAG:hce,GSS_C_REPLAY_FLAG:mce,GSS_C_SEQUENCE_FLAG:gce,GSS_C_CONF_FLAG:pce,GSS_C_INTEG_FLAG:yce,GSS_C_ANON_FLAG:vce,GSS_C_PROT_READY_FLAG:xce,GSS_C_TRANS_FLAG:_ce,GSS_C_NO_OID:$K,GSS_MECH_OID_KRB5:bce,GSS_MECH_OID_SPNEGO:Cce}});var VK=ae((lEe,Ice)=>{Ice.exports={name:"kerberos",version:"2.1.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"7.1.1"},devDependencies:{chai:"^4.3.7","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^8.46.0","eslint-config-prettier":"^8.10.0","eslint-plugin-prettier":"^4.2.1","jsdoc-to-markdown":"^8.0.0",mocha:"^10.2.0",mongodb:"^5.7.0","node-gyp":"^9.4.0",prebuild:"^11.0.4",prettier:"^2.8.8",request:"^2.88.2","standard-version":"^9.5.0"},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"eslint lib test --fix","check:lint":"eslint lib test",precommit:"check-clang-format",test:"mocha test",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",rebuild:"prebuild --runtime napi --compile",prebuild:"prebuild --runtime napi --strip --verbose --all",release:"standard-version -i HISTORY.md"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var KK=ae((fEe,zK)=>{"use strict";var Ace=require("dns"),Pce=bR(),TR=class TR{constructor(t,r,n,i){i=i||{},this.host=t,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=Rce(this),this.retries=10}init(t,r,n){let i=this;this.username=t,this.password=r;function o(a,l,f){if(!a)return f();Ace.resolveCname(l,(c,u)=>{if(c)return f(c);Array.isArray(u)&&u.length>0&&(i.host=u[0]),f()})}s(o,"performGssapiCanonicalizeHostName"),o(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let l={};r!=null&&Object.assign(l,{user:t,password:r});let f=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;Pce.initializeClient(f,l,(c,u)=>{if(c)return n(c,null);i.client=u,n(null,u)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};s(TR,"MongoAuthProcess");var CR=TR;function Rce(e){return(t,r)=>{e.client.step("",(n,i)=>{if(n)return r(n);e._transition=Nce(e),r(null,i)})}}s(Rce,"firstTransition");function Nce(e){return(t,r)=>{e.client.step(t,(n,i)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=kce(e),r(null,i||"")})}}s(Nce,"secondTransition");function kce(e){return(t,r)=>{e.client.unwrap(t,(n,i)=>{if(n)return r(n,!1);e.client.wrap(i,{user:e.username},(o,a)=>{if(o)return r(o,!1);e._transition=Dce(e),r(null,a)})})}}s(kce,"thirdTransition");function Dce(e){return(t,r)=>{e._transition=null,r(null,!0)}}s(Dce,"fourthTransition");zK.exports={MongoAuthProcess:CR}});var GK=ae((uEe,d6)=>{"use strict";var WK=bR();d6.exports=WK;d6.exports.Kerberos=WK;d6.exports.version=VK().version;d6.exports.processes={MongoAuthProcess:KK().MongoAuthProcess}});var Jl=P0(ws()),Mw=P0(tk()),pp=P0(Ch());var Jn=[];for(let e=0;e<256;++e)Jn.push((e+256).toString(16).slice(1));function fD(e,t=0){return(Jn[e[t+0]]+Jn[e[t+1]]+Jn[e[t+2]]+Jn[e[t+3]]+"-"+Jn[e[t+4]]+Jn[e[t+5]]+"-"+Jn[e[t+6]]+Jn[e[t+7]]+"-"+Jn[e[t+8]]+Jn[e[t+9]]+"-"+Jn[e[t+10]]+Jn[e[t+11]]+Jn[e[t+12]]+Jn[e[t+13]]+Jn[e[t+14]]+Jn[e[t+15]]).toLowerCase()}s(fD,"unsafeStringify");var cD=P0(require("crypto"));var Qg=new Uint8Array(256),Jg=Qg.length;function P_(){return Jg>Qg.length-16&&(cD.default.randomFillSync(Qg),Jg=0),Qg.slice(Jg,Jg+=16)}s(P_,"rng");var uD=P0(require("crypto")),R_={randomUUID:uD.default.randomUUID};function SX(e,t,r){if(R_.randomUUID&&!t&&!e)return R_.randomUUID();e=e||{};let n=e.random||(e.rng||P_)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return fD(n)}s(SX,"v4");var Au=SX;var yp=P0(jO());var sT=class sT extends Error{constructor(r,n){super(r);this.cause=n;this.name="CopilotAuthError"}};s(sT,"CopilotAuthError");var Lu=sT;kh();var Dh="github.copilot";$l();var wE=class wE{now(){return new Date}};s(wE,"Clock");var Wu=wE;var LM=P0(Ch());var IE=class IE{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?this.deleteKey(t):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}deleteKey(t){let r=!1;return this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&(r=this.valueMap.delete(t)),r}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};s(IE,"LRUCacheMap");var Kr=IE;var qq=P0(GM()),_8=require("path"),b8=P0(Gu());var Oq=require("events");var C7=class C7{constructor(t){this.flags=t}static fromEnvironment(t,r=process.argv,n=process.env){return new C7({debug:XM(r,n),verboseLogging:VZ(r,n),testMode:t,simulation:HZ(n)})}};s(C7,"RuntimeMode");var Yu=C7;function Xu(e){return e.get(Yu).flags.testMode}s(Xu,"isRunningInTest");function Yh(e){return Xu(e)}s(Yh,"shouldFailForDebugPurposes");function YM(e){return e.get(Yu).flags.verboseLogging}s(YM,"isVerboseLoggingEnabled");function XM(e,t){return e.includes("--debug")||kE(t,"DEBUG")}s(XM,"determineDebugFlag");function HZ(e){return kE(e,"SIMULATION")}s(HZ,"determineSimulationFlag");function VZ(e,t){var r;return t.COPILOT_AGENT_VERBOSE==="1"||((r=t.COPILOT_AGENT_VERBOSE)==null?void 0:r.toLowerCase())==="true"||kE(t,"VERBOSE")||XM(e,t)}s(VZ,"determineVerboseLoggingEnabled");function kE(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||(n==null?void 0:n.toLowerCase())==="true"}return!1}s(kE,"determineEnvFlagEnabled");var pn=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(pn||{});function JM(e){return YM(e)}s(JM,"verboseLogging");var DE=class DE{shouldLog(t,r){}};s(DE,"LogTarget");var P3=DE,LE=class LE extends P3{constructor(r){super();this.console=r}logIt(r,n,i,...o){n==1?this.console.error(i,...o):(n==2||JM(r))&&this.console.warn(i,...o)}};s(LE,"ConsoleLog");var T7=LE;var BE=class BE{constructor(t,r){this.maxLoggedLevel=t;this.context=r}setLevel(t){this.maxLoggedLevel=t}stringToLevel(t){return pn[t]}log(t,r,...n){let i=t.get(P3),o=i.shouldLog(t,r);if(o===!1||o===void 0&&!this.shouldLog(t,r,this.context))return;let a=`[${this.context}]`;i.logIt(t,r,a,...n)}sendErrorTelemetry(t,r,n){Qh(t,r,cr.createAndMarkAsIssued({context:this.context,level:pn[1],message:n}),1)}telemetryMessage(...t){return t.length>0?JSON.stringify(t):"no msg"}shouldLog(t,r,n){var l,f;if(JM(t))return!0;let i=Ac(t,jr.DebugFilterLogCategories);if(i.length>0&&!i.includes(n))return!1;if(Jh(t))return r<=this.maxLoggedLevel;let o=Ac(t,jr.DebugOverrideLogLevels),a=(f=(l=this.stringToLevel(o["*"]))!=null?l:this.stringToLevel(o[this.context]))!=null?f:this.maxLoggedLevel;return r<=a}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){this.sendErrorTelemetry(t,"log",this.telemetryMessage(...r)),this.errorWithoutTelemetry(t,...r)}errorWithoutTelemetry(t,...r){this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.context}${n}`),Pc(t,r,n);let o=r instanceof Error?r:new Error("Non-error thrown: "+r);this.log(t,1,`${i}:`,o)}};s(BE,"Logger");var H0=BE;var Xh=new H0(3,"default");var FE=class FE{async showWarningMessageOnlyOnce(t,...r){return this.showWarningMessage(t,...r)}};s(FE,"NotificationSender");var Ju=FE;var t8e=uU(),zE=class zE{};s(zE,"UrlOpener");var Zh=zE;var ree=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],dU="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",hU="https://gh.io/copilot-network-errors",KE=class KE{constructor(){this.notifiedErrorCodes=[]}async notifyUser(t,r){ree.includes(r.code)&&!this.didNotifyBefore(r.code)&&(this.displayCertificateErrorNotification(t,r),this.notifiedErrorCodes.push(r.code))}displayCertificateErrorNotification(t,r){new H0(1,"certificates").error(t,`${dU} Please visit ${hU} to learn more. Original cause: ${JSON.stringify(r)}`),this.showCertificateWarningMessage(t)}showCertificateWarningMessage(t){let r={title:"Learn more"};t.get(Ju).showWarningMessage(dU,r).then(n=>{(n==null?void 0:n.title)===r.title&&t.get(Zh).open(hU)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};s(KE,"UserErrorNotifier");var Qu=KE;var WE=class WE{};s(WE,"NetworkConfiguration");var Ns=WE;var M3=P0(Aq(),1),a6e={ALPN_HTTP2:M3.default.ALPN_HTTP2,ALPN_HTTP2C:M3.default.ALPN_HTTP2C,ALPN_HTTP1_1:M3.default.ALPN_HTTP1_1,ALPN_HTTP1_0:M3.default.ALPN_HTTP1_0},{fetch:l6e,context:Pq,reset:f6e,noCache:c6e,h1:u6e,keepAlive:d6e,h1NoCache:h6e,keepAliveNoCache:m6e,cacheStats:g6e,clearCache:p6e,offPush:y6e,onPush:v6e,createUrl:x6e,timeoutSignal:_6e,Body:b6e,Headers:C6e,Request:T6e,Response:E6e,AbortController:Rq,AbortError:Nq,AbortSignal:S6e,FetchBaseError:w6e,FetchError:h8,ALPN_HTTP2:I6e,ALPN_HTTP2C:A6e,ALPN_HTTP1_1:P6e,ALPN_HTTP1_0:R6e}=M3.default;var Dq=P0(require("util")),Lq=require("util");var US=class US{constructor(){this.contributors=[]}add(t){this.contributors.push(t)}remove(t){let r=this.contributors.indexOf(t);r!==-1&&this.contributors.splice(r,1)}contributeHeaders(t,r){for(let n of this.contributors)n.contributeHeaderValues(t,r)}size(){return this.contributors.length}};s(US,"HeaderContributors");var sd=US;var p8,$S=class $S{constructor(){R0(this,p8,void 0)}set rejectUnauthorized(t){T0(this,p8,t)}get rejectUnauthorized(){return je(this,p8)}};p8=new WeakMap,s($S,"Fetcher");var Ti=$S,HS=class HS extends Error{constructor(r,n){super(r);this.cause=n;this.name="HttpTimeoutError"}};s(HS,"HttpTimeoutError");var m8=HS;function qS(e){return!e||typeof e!="object"?!1:e instanceof m8||e instanceof Nq||"name"in e&&e.name==="AbortError"||e instanceof h8&&e.code==="ABORT_ERR"}s(qS,"isAbortError");var VS=class VS extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}};s(VS,"JsonParseError");var U3=VS,zS=class zS extends Error{constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}};s(zS,"FetchResponseError");var g8=zS,W0e=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function jS(e,t=!0){var r;return t&&(e!=null&&e.cause)&&jS(e.cause,!1)?!0:e instanceof h8||e instanceof Error&&e.name==="EditorFetcherError"||e instanceof Error&&e.name==="FetchError"||e instanceof U3||e instanceof g8||((r=e==null?void 0:e.message)==null?void 0:r.startsWith("net::"))||e instanceof Error&&W0e.has(e.code)}s(jS,"isNetworkError");var KS=class KS{constructor(t,r,n,i,o,a){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=o;this.getJson=a;this.ok=this.status>=200&&this.status<300}async text(){return this.getText()}async json(){if(this.getJson)return this.getJson();let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new U3(`Response content-type is ${r!=null?r:"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let o=new Lq.TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new U3(`Response body truncated: actualLength=${o}`,"Truncated"):new U3(`Response body truncated: actualLength=${o}, headerLength=${a}`,"Truncated")}}throw n}}async body(){return this.getBody()}};s(KS,"Response");var J7=KS;function Bq(e,t,r,n,i,o,a,l,f){let c={...l,Authorization:Dq.format("Bearer %s",r),"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(Pn).sessionId,"VScode-MachineId":e.get(Pn).machineId,...WS(e)};e.get(sd).contributeHeaders(t,c),n&&(c["OpenAI-Intent"]=n);let u={method:"POST",headers:c,json:o,timeout:f},d=e.get(Ti);if(a){let g=d.makeAbortController();a.onCancellationRequested(()=>{I0(e,"networking.cancelRequest",cr.createAndMarkAsIssued({headerRequestId:i})),g.abort()}),u.signal=g.signal}return d.fetch(t,u).catch(g=>{if(g.code=="ECONNRESET"||g.code=="ETIMEDOUT"||g.code=="ERR_HTTP2_INVALID_SESSION"||g.message=="ERR_HTTP2_GOAWAY_SESSION")return I0(e,"networking.disconnectAll"),d.disconnectAll().then(()=>d.fetch(t,u));throw g})}s(Bq,"postRequest");var GS="copilot-codex",G0e=new H0(4,"customModels"),YS=class YS{async getModels(t){let r=await t.get(is).getCopilotToken(t);return new Q7(r)}logModelsForToken(t,r){let i=new Q7(r).getModelIds();i.length>1&&i.forEach(o=>G0e.info(t,`Available model: ${o}`))}};s(YS,"AvailableModelManager");var od=YS,XS=class XS{constructor(t){this.token=t}getModelIds(){var r,n;return[...(n=(r=this.token.getTokenValue("cml"))==null?void 0:r.split(","))!=null?n:[],GS]}async getModelForResource(t,r,n=void 0){let i=Ac(t,jr.DebugOverrideEngine);if(i)return new y8(i,GS===i);if(n){let a=t.get(yn).customEngine(n);if(a)return new y8(a,GS===a)}let o=this.getModelIds();return new y8(o[0])}};s(XS,"AvailableModels");var Q7=XS,JS=class JS{constructor(t,r=!1){this.modelId=t;this.forceBaseModel=r}get path(){return`/v1/engines/${encodeURIComponent(this.modelId)}`}get headers(){return this.forceBaseModel?{"X-Custom-Model":"disable"}:{}}};s(JS,"ModelRequestInfo");var y8=JS;var Y0e=require("events"),QS=class QS extends Y0e{constructor(){super(),this.setMaxListeners(14)}emit(t,r){return super.emit(t,r)}};s(QS,"CopilotTokenNotifier");var Di=QS;var X0e=new H0(3,"auth");var ew=class ew{constructor(){this.tokenRefreshEventEmitter=new Oq.EventEmitter}async getGitHubToken(t){let r=await this.getGitHubSession(t);return r==null?void 0:r.token}};s(ew,"CopilotTokenManager");var is=ew;var tw=require("os"),Z7=require("path"),q3=P0(Gu());function v8(e){return Fq(e)}s(v8,"isSupportedUriScheme");function Fq(e){return["file","notebook","vscode-notebook","vscode-notebook-cell"].includes(e)}s(Fq,"isFsScheme");function Mq(e){return Fq(e.scheme)&&(!e.authority||(0,tw.platform)()=="win32")}s(Mq,"isFsUri");function Uq(e){if(Mq(e))if((0,tw.platform)()==="win32"){let t=e.path;return e.authority?t=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(t)&&(t=t.substring(1)),(0,Z7.normalize)(t)}else return e.authority?void 0:e.path}s(Uq,"getFsPath");function x8(e,t){return Mq(e)?q3.URI.file((0,Z7.resolve)(Uq(e),t)):q3.Utils.resolvePath(e,J0e(t))}s(x8,"resolveFilePath");function J0e(e){return Q0e(e)?e.replaceAll("\\","/"):e}s(J0e,"pathToURIPath");function Q0e(e){return/^[^/\\]*\\/.test(e)}s(Q0e,"isWinPath");function ep(e){return["notebook","vscode-notebook","vscode-notebook-cell"].includes(e.scheme)?q3.Utils.dirname(e).with({scheme:"file",fragment:""}):q3.Utils.dirname(e)}s(ep,"dirname");var rw=class rw{};s(rw,"FileSystem");var oo=rw;async function jq(e){var i,o;let r=(i=(await e.get(is).getCopilotToken(e,!1)).organization_list)!=null?i:[];return(o=["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","4535c7beffc844b46bb1ed4aa04d759a"].find(a=>r.includes(a)))!=null?o:""}s(jq,"getUserKind");async function $q(e){var r;return(r=(await e.get(is).getCopilotToken(e,!1)).getTokenValue("ft"))!=null?r:""}s($q,"getFtFlag");function Hq(e){var n;if(e===void 0||e===0)return"";let t=C8(e);if(t==="github/github")return t;let r=(n=Z0e(e))==null?void 0:n.toLowerCase();return r!==void 0?r:""}s(Hq,"getDogFood");function C8(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}s(C8,"tryGetGitHubNWO");function Z0e(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}s(Z0e,"tryGetADONWO");function iw(e,t){let r=b8.Utils.dirname(t);return ere(e,r)}s(iw,"extractRepoInfoInBackground");var ere=sre(tre,1e4);async function tre(e,t){var f;if(!v8(t.scheme))return;let r=await nre(e,t.fsPath);if(!r)return;let n=e.get(oo),i=(0,_8.join)(r,".git","config"),o;try{o=await n.readFileString(b8.URI.file(i))}catch{return}let a=(f=ire(o))!=null?f:"",l=rre(a);return l===void 0?{baseFolder:r,url:a,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:r,url:a,...l}}s(tre,"extractRepoInfo");function rre(e){let t={};try{if(t=(0,qq.default)(e),t.host==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.host,owner:t.owner,repo:t.name,pathname:t.pathname}}s(rre,"parseRepoUrl");async function nre(e,t){let r=t+"_add_to_make_longer",n=e.get(oo);for(;t.length>1&&t.length<r.length;){let i=(0,_8.join)(t,".git","config"),o=!1;try{await n.stat(b8.URI.file(i)),o=!0}catch{o=!1}if(o)return t;r=t,t=(0,_8.dirname)(t)}}s(nre,"getRepoBaseFolder");function ire(e){var f;let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,o,a,l=!1;for(let c of e.split(`
`))if(l&&o!==void 0){if(o+=c,c.endsWith("\\"))o=o.substring(0,o.length-1);else if(l=!1,a==="origin")return o}else{let u=(f=c.match(t))!=null?f:c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(o&&a!=="origin")continue;{let d=c.match(n);if(d){if(o=d[1],o.endsWith("\\"))o=o.substring(0,o.length-1),l=!0;else if(a==="origin")return o}}}}return o}s(ire,"getRepoUrlFromConfigText");var sw=class sw{constructor(t){this.result=t}};s(sw,"CompletedComputation");var nw=sw;function sre(e,t){let r=new Kr(t),n=new Set;return(i,...o)=>{let a=JSON.stringify(o),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let f=e(i,...o);return n.add(a),f.then(c=>{r.set(a,new nw(c)),n.delete(a)}),0}}s(sre,"computeInBackgroundAndMemoize");var tp=class tp{constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return Vq(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new tp({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};s(tp,"ExpConfig");var Yo=tp;var ow=class ow{};s(ow,"ExpConfigMaker");var ad=ow,are="https://default.exp-tas.com",aw=class aw extends ad{constructor(r="/vscode/ab"){super();this.expPath=r}async fetchExperiments(r,n){var c;let i=r.get(Ti),o;try{o=await i.fetch(are+this.expPath,{method:"GET",headers:n,timeout:5e3})}catch(u){return Yo.createFallbackConfig(r,`Error fetching ExP config: ${u}`)}if(!o.ok)return Yo.createFallbackConfig(r,`ExP responded with ${o.status}`);let a;try{a=await o.json()}catch(u){if(u instanceof SyntaxError)return Pc(r,u,"fetchExperiments"),Yo.createFallbackConfig(r,"ExP responded with invalid JSON");throw u}let l=(c=a.Configs.find(u=>u.Id==="vscode"))!=null?c:{Id:"vscode",Parameters:{}},f=Object.entries(l.Parameters).map(([u,d])=>u+(d?"":"cf"));return new Yo(l.Parameters,a.AssignmentContext,f.join(";"))}};s(aw,"ExpConfigFromTAS");var rp=aw;var lre={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},np=class np{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=lre[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new np({...this.filters,[t]:r})}};s(np,"FilterSettings");var ld=np;var fw=class fw{constructor(t){this.prefix=t}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}};s(fw,"GranularityImplementation");var ip=fw,cw=class cw extends ip{getValue(t){return this.prefix}getUpcomingValues(t){return[]}};s(cw,"ConstantGranularity");var lw=cw,zq=s(e=>new lw(e),"DEFAULT_GRANULARITY"),uw=class uw extends ip{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),o=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of o)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};s(uw,"TimeBucketGranularity");var sp=uw;var Kq="X-Copilot-ClientTimeBucket",dw=class dw{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=zq(t)}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new sp(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(Kq,n),otherFilterSettingsToPrefetch:i.map(o=>t.withChange(Kq,o))}}};s(dw,"GranularityDirectory");var op=dw;var gw=class gw{constructor(t){this.ctx=t;this.cache=new Kr(200)}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new mw(()=>this.ctx.get(ad).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){let r=this.cache.get(t.stringify());return r==null?void 0:r.value()}};s(gw,"FilterSettingsToExpConfigs");var hw=gw,pw=class pw{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};s(pw,"Task");var mw=pw;function hre(e){return"uri"in e}s(hre,"isCompletionsFiltersInfo");var Xl=class Xl{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.upcomingDynamicFilters={};this.assignments=new hw(this.ctx)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}getDynamicFilterValues(){let t={};for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=cr.createAndMarkAsIssued()){var I,P,M,N,L;if(r instanceof T8)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let n=t&&hre(t)?iw(this.ctx,t.uri):void 0,i=(I=C8(n))!=null?I:"",o=(P=Hq(n))!=null?P:"",a=await jq(this.ctx),l=await $q(this.ctx),f=(M=t==null?void 0:t.languageId)!=null?M:"",c={"X-Copilot-Repository":i,"X-Copilot-FileType":f,"X-Copilot-UserKind":a,"X-Copilot-Dogfood":o,"X-Copilot-CustomModel":l},u=this.getGranularityDirectory(),d=this.makeFilterSettings(c),p=u.extendFilters(d),g=await this.getExpConfig(p.newFilterSettings);u.update(d,+((N=g.variables.copilotbycallbuckets)!=null?N:NaN),+((L=g.variables.copilottimeperiodsizeinh)!=null?L:NaN));let y=u.extendFilters(d),_=y.newFilterSettings,S=await this.getExpConfig(_),T=new Promise(X=>setTimeout(X,Xl.upcomingDynamicFilterCheckDelayMs));for(let X of y.otherFilterSettingsToPrefetch)T=T.then(async()=>{await new Promise(te=>setTimeout(te,Xl.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(X)});return this.prepareForUpcomingFilters(_),new T8(r.properties,r.measurements,r.issuedTime,{filters:_,exp:S})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(Pn).machineId;this.granularityDirectory=new op(t,this.ctx.get(Wu))}return this.granularityDirectory}makeFilterSettings(t){return new ld({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return Yo.createFallbackConfig(this.ctx,`Error fetching ExP config: ${r}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-Xl.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(i=>setTimeout(i,Xl.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){var r;let t=this.assignments.getCachedExpConfig(new ld({}));return JSON.stringify((r=t==null?void 0:t.variables)!=null?r:{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}debounceMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncems)!=null?r:0}debouncePredict(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncepredict)!=null?r:!1}contextualFilterEnable(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenable)!=null?r:!0}contextualFilterEnableTree(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenabletree)!=null?r:!0}contextualFilterAcceptThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilteracceptthreshold)!=null?r:35}contextualFilterExplorationTraffic(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterexplorationtraffic)!=null?r:1}disableLogProb(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdisablelogprob)!=null?r:!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}fastCancellation(t){var r;return(r=t.filtersAndExp.exp.variables.copilotoverridefastcancellation)!=null?r:!0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}dropCompletionReasons(t){let r=t.filtersAndExp.exp.variables.copilotdropcompletionreasons;if(r)return r.split(",")}customEngine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcustomengine)!=null?r:""}beforeRequestWaitMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlms)!=null?r:0}multiLogitBias(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlbeot)!=null?r:!1}suffixPercent(t){var r;return(r=t.filtersAndExp.exp.variables.CopilotSuffixPercent)!=null?r:HF}suffixMatchThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold)!=null?r:$F}cppHeaders(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcppheaders)!=null?r:!1}relatedFiles(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrelatedfiles)!=null?r:!1}maxPromptCompletionTokens(t){var r;return(r=t.filtersAndExp.exp.variables.maxpromptcompletionTokens)!=null?r:jF+$h}promptOrderListPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptorderlistpreset){default:return"default"}}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}ideChatMaxRequestTokens(t){var r;return(r=t.filtersAndExp.exp.variables.idechatmaxrequesttokens)!=null?r:-1}ideChatExpModelId(t){var r;return(r=t.filtersAndExp.exp.variables.idechatexpmodelid)!=null?r:""}ideChatEnableProjectMetadata(t){var r;return(r=t.filtersAndExp.exp.variables.idechatenableprojectmetadata)!=null?r:!1}ideChatMetaPromptVersion(t){var r;return(r=t.filtersAndExp.exp.variables.idechatmetapromptversion)!=null?r:""}ideChatEnableProjectContext(t){var r;return(r=t.filtersAndExp.exp.variables.idechatenableprojectcontext)!=null?r:!1}ideChatProjectContextFileCountThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.idechatprojectcontextfilecountthreshold)!=null?r:0}ideChatEnableInline(t){var r;return(r=t.filtersAndExp.exp.variables.idechatenableinline)!=null?r:!1}ideChatEnableExtensibilityPlatform(t){var r;return(r=t.filtersAndExp.exp.variables.idechatenableextensibilityplatform)!=null?r:!1}};s(Xl,"Features"),Xl.upcomingDynamicFilterCheckDelayMs=20,Xl.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11);var yn=Xl;var Gq=yw(),jr={Enable:"enable",InlineSuggestEnable:"inlineSuggest.enable",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",DebugOverrideCppHeaders:"advanced.debug.overrideCppHeaders",DebugOverrideRelatedFiles:"advanced.debug.overrideRelatedFiles",DebugOverrideCapiUrl:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"advanced.debug.overrideEngine",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher"};var vw=class vw{};s(vw,"BlockModeConfig");var $3=vw,xw=class xw extends $3{async forLanguage(t,r,n){let i=t.get(yn).overrideBlockMode(n);return i?gre(i,r):r=="ruby"?"parsing":Bu(r)?"parsingandserver":"server"}};s(xw,"ConfigBlockModeConfig");var ap=xw;function gre(e,t){switch(e){case"parsing":return Bu(t)?"parsing":"server";case"server":return"server";case"parsingandserver":default:return Bu(t)?"parsingandserver":"server"}}s(gre,"toApplicableBlockMode");var _w=class _w{};s(_w,"ConfigProvider");var fd=_w,bw=class bw extends fd{getConfig(t){return yre(t)}getOptionalConfig(t){return vre(t)}dumpForTelemetry(){return{}}getLanguageConfig(t,r){let n=this.getConfig(t);return r&&r in n?n[r]:n["*"]}};s(bw,"DefaultsOnlyConfigProvider");var lp=bw;function pre(e){return(e==null?void 0:e.type)==="object"&&"properties"in e}s(pre,"isContributesObject");function yre(e){if(j3.has(e))return j3.get(e);throw new Error(`Missing config default value: ${Dh}.${e}`)}s(yre,"getConfigDefaultForKey");function vre(e){return j3.get(e)}s(vre,"getOptionalConfigDefaultForKey");var j3=new Map([[jr.DebugOverrideCppHeaders,!1],[jr.DebugOverrideRelatedFiles,!1],[jr.DebugUseEditorFetcher,null],[jr.DebugUseElectronFetcher,null],[jr.DebugOverrideLogLevels,{}],[jr.DebugSnippyOverrideUrl,""],[jr.FetchStrategy,"auto"],[jr.ShowEditorCompletions,void 0],[jr.DelayCompletions,void 0],[jr.FilterCompletions,void 0]]);for(let e of Object.values(jr)){let t=Gq.contributes.configuration[0],r=[],n=`${Dh}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(pre(i))r.length=0,t=i;else if(n.length==0&&(i==null?void 0:i.default)!==void 0){if(j3.has(e))throw new Error(`Duplicate config default value ${Dh}.${e}`);j3.set(e,i.default)}}if(!j3.has(e))throw new Error(`Missing config default value ${Dh}.${e}`)}function Ac(e,t){return e.get(fd).getConfig(t)}s(Ac,"getConfig");function Yq(e){return e.get(fd).dumpForTelemetry()}s(Yq,"dumpForTelemetry");var Cw=class Cw{constructor(){this.packageJson=Gq}isProduction(){return this.getBuildType()!="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};s(Cw,"BuildInfo");var Li=Cw;function Jh(e){return e.get(Li).isProduction()}s(Jh,"isProduction");function ZS(e){return e.get(Li).getBuildType()}s(ZS,"getBuildType");function Xq(e){return e.get(Li).getBuild()}s(Xq,"getBuild");function Jq(e){return e.get(Li).getVersion()}s(Jq,"getVersion");var Tw=class Tw{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}};s(Tw,"EditorSession");var Pn=Tw;function ja({name:e,version:t}){return`${e}/${t}`}s(ja,"formatNameAndVersion");var Ew=class Ew{};s(Ew,"EditorAndPluginInfo");var Ei=Ew;function WS(e){let t=e.get(Ei);return{"Editor-Version":ja(t.getEditorInfo()),"Editor-Plugin-Version":ja(t.getEditorPluginInfo())}}s(WS,"editorVersionHeaders");var Wq="Iv1.b507a08c87ecfe98",Sw=class Sw{findAppIdToAuthenticate(){var t;return(t=this.githubAppId)!=null?t:Wq}fallbackAppId(){return Wq}};s(Sw,"GitHubAppInfo");var E8=Sw;var fp=P0(Ch()),cp=P0(require("os"));var ww=class ww{constructor(t,r,n,i){this.trackingId=r,this.optedIn=n!=null?n:!1,this.ftFlag=i!=null?i:"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){t.get(Di).on("onCopilotToken",r=>{var c;let n=r.getTokenValue("rt")==="1",i=(c=r.getTokenValue("ft"))!=null?c:"",o=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,f=r.getTokenValue("sku");o!==void 0&&(this.trackingId=o,this.organizationsList=a==null?void 0:a.toString(),this.enterpriseList=l==null?void 0:l.toString(),this.sku=f,this.optedIn=n,this.ftFlag=i)})}};s(ww,"TelemetryUserConfig");var ss=ww;var xre=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function _re(e){var n,i,o,a,l,f;let t={type:e.name,value:e.message},r=(n=e.stack)==null?void 0:n.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r!=null&&r.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let c of r.slice(e.toString().length+1).split(/\n/).reverse()){let u=c.match(xre),d={filename:"",function:""};u&&(d.function=(a=(o=(i=u[2])==null?void 0:i.trim())==null?void 0:o.replace(/^[^.]{1,2}(\.|$)/,"_$1"))!=null?a:d.function,d.filename=(f=(l=u[4])==null?void 0:l.trim())!=null?f:d.filename,u[5]&&u[5]!==":0"&&(d.lineno=u[5].slice(1)),u[6]&&u[5]!==":0"&&(d.colno=u[6].slice(1)),d.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(d.filename)),t.stacktrace.push(d)}}return t}s(_re,"buildExceptionDetail");function bre(e,t){var a,l;let r=e.get(Ei),n=r.getEditorInfo(),i=e.get(ss),o={"#editor":(a=n.devName)!=null?a:n.name,"#editor_version":ja({name:(l=n.devName)!=null?l:n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":ja(r.getEditorPluginInfo()),"#session_id":e.get(Pn).sessionId,"#machine_id":e.get(Pn).machineId,"#architecture":cp.arch(),"#os_platform":cp.platform(),...t};return i.trackingId&&(o.user=i.trackingId,o["#tracking_id"]=i.trackingId),o}s(bre,"buildContext");function Qq(e,t){var c,u,d,p;let r=e.get(Li),n=e.get(Ei).getEditorInfo(),i={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:bre(e,{"#node_version":process.versions.node}),sensitive_context:{}},o=[];i.exception_detail=[];let a=0,l=t;for(;l instanceof Error&&a<10;){let g=_re(l);i.exception_detail.unshift(g),o.unshift([l,g]),a+=1,l=l.cause}let f=[];for(let[g,y]of o)if(y.stacktrace&&y.stacktrace.length>0){f.push(`${y.type}: ${(c=g.code)!=null?c:""}`);let _=[...y.stacktrace].reverse();for(let S of _)if((u=S.filename)!=null&&u.startsWith("./dist/"))return i;for(let S of _)if(S.in_app){f.push(`${(d=S.filename)==null?void 0:d.replace(/^\.\//,"")}:${S.lineno}:${S.colno}`);break}f.push(`${(p=_[0].filename)==null?void 0:p.replace(/^\.\//,"")}`)}else return i;return i.exception_detail.length>0&&(i.rollup_id=(0,fp.SHA256)(fp.enc.Utf16.parse(f.join(`
`))).toString()),i}s(Qq,"buildPayload");var Iw=class Iw{constructor(t=5){this.perMinute=t;this.cache=new Kr}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perMinute).fill(0);return r-n[0]<6e4?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};s(Iw,"ExceptionRateLimiter");var cd=Iw;var nj=P0(ej()),ij=P0(rj()),$a=P0(require("os"));var Aw=class Aw{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=s(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:(t,r)=>{var o;if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=(o=t.headers)!=null?o:{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(Ti).fetch(t.urlString,i).then(a=>a.text().then(l=>{r(a.status,a.headers,l)})).catch(a=>{Xh.errorWithoutTelemetry(this.ctx,"Error sending telemetry",a),r(0,{})})}};this.client=new ij.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(Ns).getTelemetryUrl(),extensionConfig:{[nj.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=Tre(t),this.commonProperties=Ere(t),t.get(Di).on("onCopilotToken",this.onCopilotToken)}sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.ctx.get(Di).removeListener("onCopilotToken",this.onCopilotToken),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};s(Aw,"AppInsightsReporter");var H3=Aw;function Tre(e){let t={},r=e.get(Pn);t["ai.session.id"]=r.sessionId;let n=e.get(ss);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${$a.type()} ${$a.release()}`,t["ai.device.osArchitecture"]=$a.arch(),t["ai.device.osPlatform"]=$a.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(Li).getVersion(),t}s(Tre,"getTags");function Ere(e){let t={};t.common_os=$a.platform(),t.common_platformversion=$a.release();let r=e.get(Pn);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}s(Ere,"getCommonProperties");var sj="7d7048df-6dd0-4048-bb23-b716c1461f8f",oj="3fdd7f28-937a-48c8-9a21-ba337db23bd1",Sre="f0000000-0000-0000-0000-000000000000",Rw=class Rw{constructor(){this._initialized=!1}get isInitialized(){return this._initialized}async initialize(t,r,n){let i=t.get(ao).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let o=t.get(ao);o.setReporter(new H3(t,r,sj)),o.setRestrictedReporter(new H3(t,r,oj)),o.setFTReporter(new H3(t,r,Sre,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};s(Rw,"TelemetryInitialization");var Dc=Rw;function Pw(e,t,r){return e.get(Dc).initialize(e,t,r)}s(Pw,"setupTelemetryReporters");var Nw=class Nw{constructor(){this.promises=new Set}async register(t){return this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};s(Nw,"PromiseQueue");var Bi=Nw;var kw=class kw extends Bi{async awaitPromises(){await Promise.all(this.promises)}};s(kw,"TestPromiseQueue");var hp=kw;var Dw=class Dw{sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};s(Dw,"FailingTelemetryReporter");var S8=Dw;var fj=require("os"),cj=P0(require("path"));function w8(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}s(w8,"redactPaths");var wre=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),Ire=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/];function Bw(e){if(wre.has(e))return e;for(let t of Ire)if(t.test(e))return e;return w8(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}s(Bw,"redactMessage");function mp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(mp,"escapeForRegExp");var Are=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+mp((0,fj.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function Lw(e){return e.replace(Are,"~")}s(Lw,"redactHomeDir");var uj="[\\\\/]?([^:)]*)(?=:\\d)",aj=new RegExp(mp(cj.sep),"g"),lj=new RegExp(mp(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+uj,"gi");function Ow(e,t,r=!1,n=[]){var l;let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let o=(l=e.stack)==null?void 0:l.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let f of[e.toString(),`${e.name}: ${e.message}`])if(o!=null&&o.startsWith(f+`
`)){a=o.slice(f.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let f of a)if(lj.test(f))i.stack+=`
${w8(f.replace(lj,(c,u)=>"./"+u.replace(aj,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(f))i.stack+=`
${w8(f)}`;else{let c=!1;for(let{prefix:u,path:d}of n){let p=new RegExp(mp(d.replace(/[\\/]$/,""))+uj,"gi");if(p.test(f)){i.stack+=`
${w8(f.replace(p,(g,y)=>u+y.replace(aj,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${Lw(f)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&o&&(i.stack=Lw(o));return e.cause instanceof Error&&(i.cause=Ow(e.cause,t,r,n)),i}s(Ow,"cloneError");function dj(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}s(dj,"errorMessageWithoutPath");function hj(e,t){return Ow(e,s(function(n){return Lw(dj(n))},"prepareMessage"),!0,t)}s(hj,"prepareErrorForRestrictedTelemetry");function Fw(e,t,r=!1){return Ow(e,s(function(i){if(r)return Bw(dj(i));let o="[redacted]";return i.syscall&&i.code!==void 0?o=`${w8(i.syscall.toString())} ${i.code} ${o}`:i instanceof h8&&i.erroredSysCall&&i.code!==void 0?o=`${i.erroredSysCall} ${i.code} ${o}`:i.code!==void 0&&(o=`${i.code} ${o}`),o},"prepareMessage"),!1,t)}s(Fw,"redactError");function V3(e){return e===1}s(V3,"isRestricted");var Pre=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"];var jw=class jw{getReporter(t,r=0){return V3(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(vp(t))return this.reporterRestricted;if(Yh(t))return new S8}getFTReporter(t){if(mj(t))return this.reporterFT;if(Yh(t))return new S8}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}};s(jw,"TelemetryReporters");var ao=jw,Rre=Jl.Type.Object({},{additionalProperties:Jl.Type.String()}),Nre=Jl.Type.Object({meanLogProb:Jl.Type.Optional(Jl.Type.Number()),meanAlternativeLogProb:Jl.Type.Optional(Jl.Type.Number())},{additionalProperties:Jl.Type.Number()}),kre=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Dre(e){var t;return kre.has((t=e.code)!=null?t:"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}s(Dre,"isOomError");function Lre(e){return jS(e)?"network":Dre(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}s(Lre,"getErrorType");var vn=class vn{constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new vn(t||{},r||{},Ql())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},o=new vn(n,i,this.issuedTime);return o.displayedTime=this.displayedTime,o}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=Ql())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(yn).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=ja(t.get(Ei).getEditorInfo()),this.properties.editor_plugin_version=ja(t.get(Ei).getEditorPluginInfo());let r=t.get(Pn);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${Jq(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(Ei);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=ja(n.getEditorInfo());let i=t.get(Ti);this.properties.fetcher=i.name;let o=i.proxySettings;this.properties.proxy_enabled=o?"true":"false",this.properties.proxy_auth=o!=null&&o.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=o!=null&&o.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=Yq(t);r["copilot.build"]=Xq(t),r["copilot.buildType"]=ZS(t);let n=t.get(ss);n.trackingId&&(r["copilot.trackingId"]=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(V3(t))return r;let n={};for(let i in r)vn.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=vn.sanitizeKeys(this.properties),this.measurements=vn.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=vn.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}updateMeasurements(){let t=Ql()-this.issuedTime;if(this.measurements.timeSinceIssuedMs=t,this.displayedTime!==void 0){let r=Ql()-this.displayedTime;this.measurements.timeSinceDisplayedMs=r}this.measurements.current_time===void 0&&(this.measurements.current_time=Fre())}validateData(t,r){var i;let n;if(vn.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...vn.validateTelemetryProperties.Errors(this.properties)])}),!vn.validateTelemetryMeasurements.Check(this.measurements)){let o=JSON.stringify([...vn.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:o}:(n.problem="both",n.error+=`; ${o}`)}if(n===void 0)return!0;if(Yh(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return Qh(t,"invalidTelemetryData",vn.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),V3(r)&&Qh(t,"invalidTelemetryData_in_secure",vn.createAndMarkAsIssued({problem:n.problem,requestId:(i=this.properties.requestId)!=null?i:"unknown"}),0),!1}async makeReadyForSending(t,r,n){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),qre(t,this.properties)}};s(vn,"TelemetryData"),vn.validateTelemetryProperties=Mw.TypeCompiler.Compile(Rre),vn.validateTelemetryMeasurements=Mw.TypeCompiler.Compile(Nre),vn.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"],vn.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"];var cr=vn,I8=class I8 extends cr{constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},o=new I8(n,i,this.issuedTime,this.filtersAndExp);return o.displayedTime=this.displayedTime,o}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new I8({},{},0,{filters:new ld({}),exp:Yo.createEmptyConfig()})}};s(I8,"TelemetryWithExp");var T8=I8;function gp(e,t,r,n){var i;(i=e.get(ao).getReporter(e,t))==null||i.sendTelemetryEvent(r,cr.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(gp,"sendTelemetryEvent");function Bre(e,t,r,n){var i;(i=e.get(ao).getReporter(e,t))==null||i.sendTelemetryErrorEvent(r,cr.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(Bre,"sendTelemetryErrorEvent");function Ore(e,t,r,n){var i;(i=e.get(ao).getFTReporter(e))==null||i.sendTelemetryEvent(r,cr.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(Ore,"sendFTTelemetryEvent");function qw(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}s(qw,"telemetrizePromptLength");function Ql(){return Date.now()}s(Ql,"now");function Fre(){return Math.floor(Ql()/1e3)}s(Fre,"nowSeconds");function vp(e){return e.get(ss).optedIn}s(vp,"shouldSendRestricted");function mj(e){return e.get(ss).ftFlag!==""}s(mj,"shouldSendFinetuningTelemetry");async function I0(e,t,r,n){await e.get(Bi).register(Mre(e,t,r,n))}s(I0,"telemetry");async function Mre(e,t,r,n=0){let i=r||cr.createAndMarkAsIssued({},{});await i.makeReadyForSending(e,n!=null?n:!1,"IncludeExp"),(!V3(n)||vp(e))&&gp(e,n,t,i),V3(n)&&Pre.includes(t)&&mj(e)&&Ore(e,n,t,i)}s(Mre,"_telemetry");async function Vq(e,t){await e.get(Bi).register(Ure(e,t))}s(Vq,"telemetryExpProblem");async function Ure(e,t){let r="expProblem",n=cr.createAndMarkAsIssued(t,{});await n.makeReadyForSending(e,0,"SkipExp"),gp(e,0,r,n)}s(Ure,"_telemetryExpProblem");function qre(e,t){t.unique_id=Au();let r=e.get(Ei);t.common_extname=r.getEditorPluginInfo().name,t.common_extversion=r.getEditorPluginInfo().version,t.common_vscodeversion=ja(r.getEditorInfo())}s(qre,"addRequiredProperties");var $w=class $w extends Error{constructor(t){let r;try{r=JSON.stringify(t)}catch{r=t.toString()}super(r),this.name="CopilotNonError",this.code=(0,pp.SHA256)(pp.enc.Utf16.parse(this.message)).toString().slice(0,16)}};s($w,"CopilotNonError");var Uw=$w;async function Pc(e,t,r,n,i){var a;let o;if(t instanceof Error){if(o=t,o.name==="Canceled"&&o.message==="Canceled"||o.name==="CodeExpectedError"||o instanceof Lu||o instanceof yp.ConnectionError||o instanceof yp.ResponseError)return}else{if(o=new Uw(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if((a=o.stack)!=null&&a.startsWith(`${o}
`)){let l=o.stack.slice(`${o}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(l[0])&&l.shift(),o.stack=`${o}
${l.join(`
`)}`}}await e.get(Bi).register(jre(e,o,r,n,i))}s(Pc,"telemetryException");async function jre(e,t,r,n,i){var g,y,_;let o=e.get(Ei).getEditorInfo(),a;o.root&&(a=[{prefix:`${o.name}:`,path:o.root}]);let l=Fw(t,a),f=vp(e),c=Lre(t),u=c==="exception",d=cr.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(g=t.code)!=null?g:""}`,reason:l.stack||l.toString(),message:l.message,...n});if(await d.makeReadyForSending(e,0,"IncludeExp"),i!=null&&i.exception_detail)for(let S of i.exception_detail)S.value&&(f?S.value=Bw(S.value):S.value="[redacted]");if(i!=null||(i=Qq(e,Fw(t,a,f))),i.context={...i.context,"copilot_event.unique_id":d.properties.unique_id,"#restricted_telemetry":f?"true":"false"},r&&(i.context["#origin"]=r,i.transaction=r),i.rollup_id!=="auto"&&(d.properties.errno=i.rollup_id),i.created_at=new Date(d.issuedTime).toISOString(),f){let S=hj(t,a),T=cr.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(y=t.code)!=null?y:""}`,reason:S.stack||S.toString(),message:S.message,...n});i.rollup_id!=="auto"&&(T.properties.errno=i.rollup_id),await T.makeReadyForSending(e,1,"IncludeExp"),T.properties.unique_id=d.properties.unique_id,d.properties.restricted_unique_id=T.properties.unique_id,gp(e,1,`error.${c}`,T)}let p=i.rollup_id==="auto"?(_=t.stack)!=null?_:"":i.rollup_id;u&&!e.get(cd).isThrottled(p)&&(d.properties.failbot_payload=JSON.stringify(i)),gp(e,0,`error.${c}`,d)}s(jre,"_telemetryException");async function Qh(e,t,r,n){await e.get(Bi).register($re(e,t,r,n))}s(Qh,"telemetryError");async function $re(e,t,r,n=0){if(V3(n)&&!vp(e))return;let i=r||cr.createAndMarkAsIssued({},{});await i.makeReadyForSending(e,n,"IncludeExp"),Bre(e,n,t,i)}s($re,"_telemetryError");async function gj(e,t,r,n,i){var a;let o=cr.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[l,f]of Object.entries(r.logprobs))o.properties["logprobs_"+l]=(a=JSON.stringify(f))!=null?a:"unset";o.extendWithRequestId(n),await I0(e,"engine.completion",o,1)}s(gj,"logEngineCompletion");async function pj(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let i=r.extendedBy(n);await I0(e,"engine.prompt",i,1)}s(pj,"logEnginePrompt");var Hw=class Hw{async startup(t){await this.isNewInstall(t)?(await this.handleInstall(t,await this.wasPreviouslyInstalled(t)),await this.markInstalled(t)):await this.isNewUpgrade(t)&&(await this.handleUpgrade(t),await this.markUpgraded(t))}async uninstall(t){return await this.handleUninstall(t)}async handleInstall(t,r){r?I0(t,"installed.reinstall"):I0(t,"installed.new")}async handleUpgrade(t){I0(t,"installed.upgrade")}async handleUninstall(t){I0(t,"uninstalled")}};s(Hw,"InstallationManager");var xp=Hw;var Vw=class Vw extends xp{async isNewInstall(t){throw new Error("not callable from an uninstall script")}async markInstalled(t){throw new Error("not callable from an uninstall script")}async wasPreviouslyInstalled(t){throw new Error("not callable from an uninstall script")}async isNewUpgrade(t){throw new Error("not callable from an uninstall script")}async markUpgraded(t){throw new Error("not callable from an uninstall script")}};s(Vw,"VsCodeUninstallationManager");var _p=Vw;var hW=require("child_process");a7();var zw=class zw{constructor(){this.instances=new Map}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};s(zw,"Context");var bp=zw;var Kw=class Kw{constructor(){this._cache=new Kr(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}};s(Kw,"CompletionsCache");var z3=Kw;var Ww=class Ww{constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};s(Ww,"ContextualFilterManager");var K3=Ww;var xoe=P0(Ch());kh();var Gw=class Gw{async debounce(t){return this.state&&(clearTimeout(this.state.timer),this.state.reject(),this.state=void 0),new Promise((r,n)=>{this.state={timer:setTimeout(()=>r(),t),reject:n}})}};s(Gw,"Debouncer");var Cp=Gw;async function*yj(e,t){for await(let r of e)yield t(r)}s(yj,"asyncIterableMap");async function*vj(e,t){for await(let r of e)await t(r)&&(yield r)}s(vj,"asyncIterableFilter");var Tj=P0(require("util"));var Yw=class Yw{};s(Yw,"StatusReporter");var Zl=Yw;$l();function xj(e,t,r,n,i,o,a){return gj(e,t,r,i,n),{completionText:t,meanLogProb:Vre(e,r),meanAlternativeLogProb:zre(e,r),choiceIndex:n,requestId:i,blockFinished:o,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a}}s(xj,"convertToAPIChoice");function Vre(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.token_logprobs)try{let n=0,i=0,o=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&o>0;a++,o--)n+=t.logprobs.token_logprobs[a],i+=1;return i>0?n/i:void 0}catch(n){Xh.exception(e,n,"Error calculating mean prob")}}s(Vre,"calculateMeanLogProb");function zre(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.top_logprobs)try{let n=0,i=0,o=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&o>0;a++,o--){let l={...t.logprobs.top_logprobs[a]};delete l[t.logprobs.tokens[a]],n+=Math.max(...Object.values(l)),i+=1}return i>0?n/i:void 0}catch(n){Xh.exception(e,n,"Error calculating mean prob")}}s(zre,"calculateMeanAlternativeLogProb");function Xw(e,t){return Xu(e)||t<=1?0:t<10?.2:t<20?.4:.8}s(Xw,"getTemperatureForSamples");var Kre={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function _j(e,t){var r;return(r=Kre[t!=null?t:""])!=null?r:[`


`,"\n```"]}s(_j,"getStops");function bj(e){return 1}s(bj,"getTopP");function Jw(e){return $h}s(Jw,"getMaxSolutionTokens");var os=new H0(3,"streamChoices"),iI=class iI{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new tI;this.tool_calls=[];this.function_call=new eI;this.copilot_references=[]}append(t){var r,n,i,o,a,l,f,c;if(t.text&&this.text.push(t.text),(r=t.delta)!=null&&r.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push((n=t.logprobs.tokens)!=null?n:[]),this.text_offset.push((i=t.logprobs.text_offset)!=null?i:[]),this.logprobs.push((o=t.logprobs.token_logprobs)!=null?o:[]),this.top_logprobs.push((a=t.logprobs.top_logprobs)!=null?a:[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),(l=t.delta)!=null&&l.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),(f=t.delta)!=null&&f.tool_calls&&t.delta.tool_calls.length>0)for(let u of t.delta.tool_calls){let d=u.index;this.tool_calls[d]||(this.tool_calls[d]=new Zw),this.tool_calls[d].update(u)}(c=t.delta)!=null&&c.function_call&&this.function_call.update(t.delta.function_call)}};s(iI,"APIJsonDataStreaming");var Qw=iI;function Gre(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}s(Gre,"splitChunk");var sI=class sI{constructor(){this.arguments=[]}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}};s(sI,"StreamingToolCall");var Zw=sI,oI=class oI{constructor(){this.arguments=[]}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}};s(oI,"StreamingFunctionCall");var eI=oI,aI=class aI{constructor(){this.current={}}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(o=>o.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){var r;return(r=this.current[t])!=null?r:[]}};s(aI,"StreamCopilotAnnotations");var tI=aI,Ep=class Ep{constructor(t,r,n,i,o,a,l,f){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=o;this.dropCompletionReasons=a;this.fastCancellation=l;this.cancellationToken=f;this.requestId=A8(this.response);this.stats=new rI(this.expectedNumChoices);this.solutions={}}static async create(t,r,n,i,o,a){let l=await n.body();l.setEncoding("utf8");let f=t.get(yn).fastCancellation(i);return new Ep(t,r,n,l,i,o!=null?o:["content_filter"],f,a)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.fastCancellation&&this.cancel(),os.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),os.debug(this.ctx,`request stats: ${this.stats}`)}}async*processSSEInner(t){var o,a,l,f,c,u;let r="",n=null,i;e:for await(let d of this.body){if(this.maybeCancel("after awaiting body chunk"))return;os.debug(this.ctx,"chunk",d.toString());let[p,g]=Gre(r+d.toString());r=g;for(let y of p){let _=y.slice(5).trim();if(_=="[DONE]"){yield*this.finishSolutions(n,i);return}n=null;let S;try{S=JSON.parse(_)}catch{os.error(this.ctx,"Error parsing JSON stream data",y);continue}if(S.copilot_confirmation&&Xre(S.copilot_confirmation)&&await t("",{text:"",copilotConfirmation:S.copilot_confirmation}),S.copilot_references&&await t("",{text:"",copilotReferences:S.copilot_references}),S.choices===void 0){!S.copilot_references&&!S.copilot_confirmation&&(S.error!==void 0?os.error(this.ctx,"Error in response:",S.error.message):os.error(this.ctx,"Unexpected response with no choices or error: "+_)),S.copilot_errors&&await t("",{text:"",copilotErrors:S.copilot_errors});continue}if(this.requestId.created==0&&(this.requestId=A8(this.response,S),this.requestId.created===0&&((o=S.choices)!=null&&o.length)&&os.error(this.ctx,`Request id invalid, should have "completionId" and "created": ${this.requestId}`,this.requestId)),i===void 0&&S.model&&(i=S.model),this.allSolutionsDone()&&this.fastCancellation)break e;for(let T=0;T<((a=S.choices)==null?void 0:a.length);T++){let I=S.choices[T];os.debug(this.ctx,"choice",I),this.stats.add(I.index),I.index in this.solutions||(this.solutions[I.index]=new Qw);let P=this.solutions[I.index];if(P==null)continue;P.append(I);let M,N=((l=I.text)==null?void 0:l.indexOf(`
`))>-1||((c=(f=I.delta)==null?void 0:f.content)==null?void 0:c.indexOf(`
`))>-1;if(I.finish_reason||N){let te=P.text.join("");if(M=await t(te,{text:te,annotations:P.copilot_annotations,copilotReferences:P.copilot_references}),this.maybeCancel("after awaiting finishedCb"))return}if(I.finish_reason&&P.function_call.name!==void 0){n=I.finish_reason;continue}if(!(I.finish_reason||M!==void 0))continue;let X=(u=I.finish_reason)!=null?u:"client-trimmed";if(I0(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:X,engineName:i!=null?i:""})),this.dropCompletionReasons.includes(I.finish_reason)?this.solutions[I.index]=null:(this.stats.markYielded(I.index),yield{solution:P,finishOffset:M,reason:I.finish_reason,requestId:this.requestId,index:I.index}),this.maybeCancel("after yielding finished choice"))return;this.solutions[I.index]=null}}}for(let[d,p]of Object.entries(this.solutions)){let g=Number(d);if(p!=null&&(I0(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i!=null?i:""})),this.stats.markYielded(g),yield{solution:p,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:g},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let d=JSON.parse(r);d.error!==void 0&&os.error(this.ctx,`Error in response: ${d.error.message}`,d.error)}catch{os.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(t,r){for(let[n,i]of Object.entries(this.solutions)){let o=Number(n);if(i!=null&&(this.stats.markYielded(o),I0(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t!=null?t:"DONE",engineName:r!=null?r:""})),yield{solution:i,finishOffset:void 0,reason:t!=null?t:"DONE",requestId:this.requestId,index:o},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){var r;return(r=this.cancellationToken)!=null&&r.isCancellationRequested?(os.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};s(Ep,"SSEProcessor");var Tp=Ep;function Cj(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(os.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),os.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),os.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let o=Yre(t.solution);return xj(e,n,o,t.index,t.requestId,i,r)}s(Cj,"prepareSolutionForReturn");function Yre(e){let t=e.text.join(""),r=Jre(e),n=Qre(e),i={text:t,tokens:e.text,tool_calls:r,function_call:n};if(e.logprobs.length===0)return i;let o=e.logprobs.reduce((c,u)=>c.concat(u),[]),a=e.top_logprobs.reduce((c,u)=>c.concat(u),[]),l=e.text_offset.reduce((c,u)=>c.concat(u),[]),f=e.tokens.reduce((c,u)=>c.concat(u),[]);return{...i,logprobs:{token_logprobs:o,top_logprobs:a,text_offset:l,tokens:f}}}s(Yre,"convertToAPIJsonData");function Xre(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}s(Xre,"isCopilotConfirmation");function Jre(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.length>0?JSON.parse(r.arguments.join("")):[];t.push({type:"function",function:{name:r.name,arguments:n},approxNumTokens:r.arguments.length+1})}return t}s(Jre,"extractToolCalls");function Qre(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):[];return{name:e.function_call.name,arguments:t}}}s(Qre,"extractFunctionCall");var lI=class lI{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new nI)}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}};s(lI,"ChunkStats");var rI=lI,fI=class fI{constructor(){this.yieldedTokens=-1;this.seenTokens=0}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};s(fI,"ChoiceStats");var nI=fI;var lo=new H0(3,"fetchCompletions");function A8(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}s(A8,"getRequestId");function Zre(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}s(Zre,"getProcessingTime");function cI(e,t){let r=t.split("/").pop();return r||(lo.error(e,"Malformed engine URL: "+t),t)}s(cI,"extractEngineName");function ene(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}s(ene,"uiKindToIntent");var uI=class uI{};s(uI,"OpenAIFetcher");var ud=uI;async function tne(e,t,r,n,i,o,a,l,f,c,u){var S;let d=e.get(Zl),p=Tj.format("%s/%s",r,n);if(!a)throw new Error(`Failed to send request to ${p} due to missing key`);let g=cr.createAndMarkAsIssued({endpoint:n,engineName:cI(e,r),uiKind:l},qw(t));c&&(g=g.extendedBy(c));for(let[T,I]of Object.entries(o))T=="prompt"||T=="suffix"||(g.properties[`request.option.${T}`]=(S=JSON.stringify(I))!=null?S:"undefined");g.properties.headerRequestId=i,I0(e,"request.sent",g);let y=Ql(),_=ene(l);return Bq(e,p,a,_,i,o,f,u).then(T=>{let I=A8(T,void 0);g.extendWithRequestId(I);let P=Ql()-y;return g.measurements.totalTimeMs=P,lo.info(e,`request.response: [${p}] took ${P} ms`),lo.debug(e,"request.response properties",g.properties),lo.debug(e,"request.response measurements",g.measurements),lo.debug(e,"prompt:",t),I0(e,"request.response",g),T}).catch(T=>{var M,N,L,X;if(qS(T))throw T;d.setWarning(T.message);let I=g.extendedBy({error:"Network exception"});I0(e,"request.shownWarning",I),g.properties.message=String((M=T.name)!=null?M:""),g.properties.code=String((N=T.code)!=null?N:""),g.properties.errno=String((L=T.errno)!=null?L:""),g.properties.type=String((X=T.type)!=null?X:"");let P=Ql()-y;throw g.measurements.totalTimeMs=P,lo.debug(e,`request.response: [${p}] took ${P} ms`),lo.debug(e,"request.error properties",g.properties),lo.debug(e,"request.error measurements",g.measurements),I0(e,"request.error",g),T}).finally(()=>{pj(e,t,g)})}s(tne,"fetchWithInstrumentation");function rne(e){return vj(e,async t=>t.completionText.trim().length>0)}s(rne,"postProcessChoices");var dI=class dI extends ud{async fetchAndStreamCompletions(t,r,n,i,o,a){let l=t.get(Zl),f="completions",c=await this.fetchWithParameters(t,f,r,n,o,a);if(c==="not-sent")return{type:"canceled",reason:"before fetch request"};if(o!=null&&o.isCancellationRequested){let y=await c.body();try{y.destroy()}catch(_){lo.exception(t,_,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(c.status!==200){let y=this.createTelemetryData(f,t,r);return this.handleError(t,l,y,c)}let u=t.get(yn).dropCompletionReasons(n),p=(await Tp.create(t,r.count,c,n,u,o)).processSSE(i),g=yj(p,async y=>Cj(t,y,n));return{type:"success",choices:rne(g),getProcessingTime:()=>Zre(c)}}createTelemetryData(t,r,n){return cr.createAndMarkAsIssued({endpoint:t,engineName:cI(r,n.engineUrl),uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,i,o,a){let l=t.get(yn).disableLogProb(i),f={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:Jw(t),temperature:Xw(t,n.count),top_p:bj(t),n:n.count,stop:_j(t,n.languageId)};(n.requestLogProbs||!l)&&(f.logprobs=2);let c=C8(n.repoInfo);return c!==void 0&&(f.nwo=c),n.postOptions&&Object.assign(f,n.postOptions),await new Promise((d,p)=>{setImmediate(d)}),o!=null&&o.isCancellationRequested?"not-sent":await tne(t,n.prompt,n.engineUrl,r,n.ourRequestId,f,(await t.get(is).getCopilotToken(t)).token,n.uiKind,o,a,n.headers)}async handleError(t,r,n,i){if(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`,n.properties.status=String(i.status),I0(t,"request.shownWarning",n),i.status===401||i.status===403)return t.get(is).resetCopilotToken(t,i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`};if(i.status===499)return lo.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"};let o=await i.text();return i.status===466?(r.setError(o),lo.info(t,o),{type:"failed",reason:`client not supported: ${o}`}):(lo.error(t,"Unhandled status from server:",i.status,o),{type:"failed",reason:`unhandled status from server: ${i.status} ${o}`})}};s(dI,"LiveOpenAIFetcher");var P8=dI;var R8=class R8{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(R8.isIncremental(n)){let i=Sj(n.range),o=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),f=Math.max(i.end.line,0),c=this._lineOffsets,u=Ej(n.text,!1,o);if(f-l===u.length)for(let p=0,g=u.length;p<g;p++)c[p+l+1]=u[p];else u.length<1e4?c.splice(l+1,f-l,...u):this._lineOffsets=c=c.slice(0,l+1).concat(u,c.slice(f+1));let d=n.text.length-(a-o);if(d!==0)for(let p=l+1+u.length,g=c.length;p<g;p++)c[p]=c[p]+d}else if(R8.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Ej(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let o=n-1;return{line:o,character:t-r[o]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};s(R8,"FullTextDocument");var Sp=R8,hI;(function(e){function t(i,o,a,l){return new Sp(i,o,a,l)}s(t,"create"),e.create=t;function r(i,o,a){if(i instanceof Sp)return i.update(o,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}s(r,"update"),e.update=r;function n(i,o){let a=i.getText(),l=mI(o.map(nne),(u,d)=>{let p=u.range.start.line-d.range.start.line;return p===0?u.range.start.character-d.range.start.character:p}),f=0,c=[];for(let u of l){let d=i.offsetAt(u.range.start);if(d<f)throw new Error("Overlapping edit");d>f&&c.push(a.substring(f,d)),u.newText.length&&c.push(u.newText),f=i.offsetAt(u.range.end)}return c.push(a.substr(f)),c.join("")}s(n,"applyEdits"),e.applyEdits=n})(hI||(hI={}));function mI(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);mI(n,t),mI(i,t);let o=0,a=0,l=0;for(;o<n.length&&a<i.length;)t(n[o],i[a])<=0?e[l++]=n[o++]:e[l++]=i[a++];for(;o<n.length;)e[l++]=n[o++];for(;a<i.length;)e[l++]=i[a++];return e}s(mI,"mergeSort");function Ej(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);(o===13||o===10)&&(o===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}s(Ej,"computeLineOffsets");function Sj(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}s(Sj,"getWellformedRange");function nne(e){let t=Sj(e.range);return t!==e.range?{newText:e.newText,range:t}:e}s(nne,"getWellformedEdit");var wj;(function(e){function t(r){return typeof r=="string"}s(t,"is"),e.is=t})(wj||(wj={}));var gI;(function(e){function t(r){return typeof r=="string"}s(t,"is"),e.is=t})(gI||(gI={}));var Ij;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}s(t,"is"),e.is=t})(Ij||(Ij={}));var wp;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}s(t,"is"),e.is=t})(wp||(wp={}));var fo;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=wp.MAX_VALUE),i===Number.MAX_VALUE&&(i=wp.MAX_VALUE),{line:n,character:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.uinteger(i.line)&&Re.uinteger(i.character)}s(r,"is"),e.is=r})(fo||(fo={}));var $r;(function(e){function t(n,i,o,a){if(Re.uinteger(n)&&Re.uinteger(i)&&Re.uinteger(o)&&Re.uinteger(a))return{start:fo.create(n,i),end:fo.create(o,a)};if(fo.is(n)&&fo.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${a}]`)}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&fo.is(i.start)&&fo.is(i.end)}s(r,"is"),e.is=r})($r||($r={}));var Ip;(function(e){function t(n,i){return{uri:n,range:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&$r.is(i.range)&&(Re.string(i.uri)||Re.undefined(i.uri))}s(r,"is"),e.is=r})(Ip||(Ip={}));var Aj;(function(e){function t(n,i,o,a){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&$r.is(i.targetRange)&&Re.string(i.targetUri)&&$r.is(i.targetSelectionRange)&&($r.is(i.originSelectionRange)||Re.undefined(i.originSelectionRange))}s(r,"is"),e.is=r})(Aj||(Aj={}));var pI;(function(e){function t(n,i,o,a){return{red:n,green:i,blue:o,alpha:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.numberRange(i.red,0,1)&&Re.numberRange(i.green,0,1)&&Re.numberRange(i.blue,0,1)&&Re.numberRange(i.alpha,0,1)}s(r,"is"),e.is=r})(pI||(pI={}));var Pj;(function(e){function t(n,i){return{range:n,color:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&$r.is(i.range)&&pI.is(i.color)}s(r,"is"),e.is=r})(Pj||(Pj={}));var Rj;(function(e){function t(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.string(i.label)&&(Re.undefined(i.textEdit)||G3.is(i))&&(Re.undefined(i.additionalTextEdits)||Re.typedArray(i.additionalTextEdits,G3.is))}s(r,"is"),e.is=r})(Rj||(Rj={}));var Nj;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Nj||(Nj={}));var kj;(function(e){function t(n,i,o,a,l,f){let c={startLine:n,endLine:i};return Re.defined(o)&&(c.startCharacter=o),Re.defined(a)&&(c.endCharacter=a),Re.defined(l)&&(c.kind=l),Re.defined(f)&&(c.collapsedText=f),c}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.uinteger(i.startLine)&&Re.uinteger(i.startLine)&&(Re.undefined(i.startCharacter)||Re.uinteger(i.startCharacter))&&(Re.undefined(i.endCharacter)||Re.uinteger(i.endCharacter))&&(Re.undefined(i.kind)||Re.string(i.kind))}s(r,"is"),e.is=r})(kj||(kj={}));var yI;(function(e){function t(n,i){return{location:n,message:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Ip.is(i.location)&&Re.string(i.message)}s(r,"is"),e.is=r})(yI||(yI={}));var Dj;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Dj||(Dj={}));var Lj;(function(e){e.Unnecessary=1,e.Deprecated=2})(Lj||(Lj={}));var Bj;(function(e){function t(r){let n=r;return Re.objectLiteral(n)&&Re.string(n.href)}s(t,"is"),e.is=t})(Bj||(Bj={}));var Ap;(function(e){function t(n,i,o,a,l,f){let c={range:n,message:i};return Re.defined(o)&&(c.severity=o),Re.defined(a)&&(c.code=a),Re.defined(l)&&(c.source=l),Re.defined(f)&&(c.relatedInformation=f),c}s(t,"create"),e.create=t;function r(n){var i;let o=n;return Re.defined(o)&&$r.is(o.range)&&Re.string(o.message)&&(Re.number(o.severity)||Re.undefined(o.severity))&&(Re.integer(o.code)||Re.string(o.code)||Re.undefined(o.code))&&(Re.undefined(o.codeDescription)||Re.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(Re.string(o.source)||Re.undefined(o.source))&&(Re.undefined(o.relatedInformation)||Re.typedArray(o.relatedInformation,yI.is))}s(r,"is"),e.is=r})(Ap||(Ap={}));var W3;(function(e){function t(n,i,...o){let a={title:n,command:i};return Re.defined(o)&&o.length>0&&(a.arguments=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.title)&&Re.string(i.command)}s(r,"is"),e.is=r})(W3||(W3={}));var G3;(function(e){function t(o,a){return{range:o,newText:a}}s(t,"replace"),e.replace=t;function r(o,a){return{range:{start:o,end:o},newText:a}}s(r,"insert"),e.insert=r;function n(o){return{range:o,newText:""}}s(n,"del"),e.del=n;function i(o){let a=o;return Re.objectLiteral(a)&&Re.string(a.newText)&&$r.is(a.range)}s(i,"is"),e.is=i})(G3||(G3={}));var vI;(function(e){function t(n,i,o){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),o!==void 0&&(a.description=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.string(i.label)&&(Re.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Re.string(i.description)||i.description===void 0)}s(r,"is"),e.is=r})(vI||(vI={}));var Y3;(function(e){function t(r){let n=r;return Re.string(n)}s(t,"is"),e.is=t})(Y3||(Y3={}));var Oj;(function(e){function t(o,a,l){return{range:o,newText:a,annotationId:l}}s(t,"replace"),e.replace=t;function r(o,a,l){return{range:{start:o,end:o},newText:a,annotationId:l}}s(r,"insert"),e.insert=r;function n(o,a){return{range:o,newText:"",annotationId:a}}s(n,"del"),e.del=n;function i(o){let a=o;return G3.is(a)&&(vI.is(a.annotationId)||Y3.is(a.annotationId))}s(i,"is"),e.is=i})(Oj||(Oj={}));var xI;(function(e){function t(n,i){return{textDocument:n,edits:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&EI.is(i.textDocument)&&Array.isArray(i.edits)}s(r,"is"),e.is=r})(xI||(xI={}));var _I;(function(e){function t(n,i,o){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&Re.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Re.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Re.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Y3.is(i.annotationId))}s(r,"is"),e.is=r})(_I||(_I={}));var bI;(function(e){function t(n,i,o,a){let l={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(l.options=o),a!==void 0&&(l.annotationId=a),l}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&Re.string(i.oldUri)&&Re.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Re.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Re.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Y3.is(i.annotationId))}s(r,"is"),e.is=r})(bI||(bI={}));var CI;(function(e){function t(n,i,o){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&Re.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Re.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Re.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Y3.is(i.annotationId))}s(r,"is"),e.is=r})(CI||(CI={}));var TI;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Re.string(i.kind)?_I.is(i)||bI.is(i)||CI.is(i):xI.is(i)))}s(t,"is"),e.is=t})(TI||(TI={}));var Fj;(function(e){function t(n){return{uri:n}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.uri)}s(r,"is"),e.is=r})(Fj||(Fj={}));var Mj;(function(e){function t(n,i){return{uri:n,version:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.uri)&&Re.integer(i.version)}s(r,"is"),e.is=r})(Mj||(Mj={}));var EI;(function(e){function t(n,i){return{uri:n,version:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.uri)&&(i.version===null||Re.integer(i.version))}s(r,"is"),e.is=r})(EI||(EI={}));var Uj;(function(e){function t(n,i,o,a){return{uri:n,languageId:i,version:o,text:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.uri)&&Re.string(i.languageId)&&Re.integer(i.version)&&Re.string(i.text)}s(r,"is"),e.is=r})(Uj||(Uj={}));var SI;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}s(t,"is"),e.is=t})(SI||(SI={}));var N8;(function(e){function t(r){let n=r;return Re.objectLiteral(r)&&SI.is(n.kind)&&Re.string(n.value)}s(t,"is"),e.is=t})(N8||(N8={}));var qj;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(qj||(qj={}));var jj;(function(e){e.PlainText=1,e.Snippet=2})(jj||(jj={}));var $j;(function(e){e.Deprecated=1})($j||($j={}));var Hj;(function(e){function t(n,i,o){return{newText:n,insert:i,replace:o}}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Re.string(i.newText)&&$r.is(i.insert)&&$r.is(i.replace)}s(r,"is"),e.is=r})(Hj||(Hj={}));var Vj;(function(e){e.asIs=1,e.adjustIndentation=2})(Vj||(Vj={}));var zj;(function(e){function t(r){let n=r;return n&&(Re.string(n.detail)||n.detail===void 0)&&(Re.string(n.description)||n.description===void 0)}s(t,"is"),e.is=t})(zj||(zj={}));var Kj;(function(e){function t(r){return{label:r}}s(t,"create"),e.create=t})(Kj||(Kj={}));var Wj;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}s(t,"create"),e.create=t})(Wj||(Wj={}));var Pp;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return Re.string(i)||Re.objectLiteral(i)&&Re.string(i.language)&&Re.string(i.value)}s(r,"is"),e.is=r})(Pp||(Pp={}));var Gj;(function(e){function t(r){let n=r;return!!n&&Re.objectLiteral(n)&&(N8.is(n.contents)||Pp.is(n.contents)||Re.typedArray(n.contents,Pp.is))&&(r.range===void 0||$r.is(r.range))}s(t,"is"),e.is=t})(Gj||(Gj={}));var Yj;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}s(t,"create"),e.create=t})(Yj||(Yj={}));var Xj;(function(e){function t(r,n,...i){let o={label:r};return Re.defined(n)&&(o.documentation=n),Re.defined(i)?o.parameters=i:o.parameters=[],o}s(t,"create"),e.create=t})(Xj||(Xj={}));var Jj;(function(e){e.Text=1,e.Read=2,e.Write=3})(Jj||(Jj={}));var Qj;(function(e){function t(r,n){let i={range:r};return Re.number(n)&&(i.kind=n),i}s(t,"create"),e.create=t})(Qj||(Qj={}));var Zj;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Zj||(Zj={}));var e$;(function(e){e.Deprecated=1})(e$||(e$={}));var t$;(function(e){function t(r,n,i,o,a){let l={name:r,kind:n,location:{uri:o,range:i}};return a&&(l.containerName=a),l}s(t,"create"),e.create=t})(t$||(t$={}));var r$;(function(e){function t(r,n,i,o){return o!==void 0?{name:r,kind:n,location:{uri:i,range:o}}:{name:r,kind:n,location:{uri:i}}}s(t,"create"),e.create=t})(r$||(r$={}));var n$;(function(e){function t(n,i,o,a,l,f){let c={name:n,detail:i,kind:o,range:a,selectionRange:l};return f!==void 0&&(c.children=f),c}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Re.string(i.name)&&Re.number(i.kind)&&$r.is(i.range)&&$r.is(i.selectionRange)&&(i.detail===void 0||Re.string(i.detail))&&(i.deprecated===void 0||Re.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}s(r,"is"),e.is=r})(n$||(n$={}));var i$;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(i$||(i$={}));var Rp;(function(e){e.Invoked=1,e.Automatic=2})(Rp||(Rp={}));var s$;(function(e){function t(n,i,o){let a={diagnostics:n};return i!=null&&(a.only=i),o!=null&&(a.triggerKind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.typedArray(i.diagnostics,Ap.is)&&(i.only===void 0||Re.typedArray(i.only,Re.string))&&(i.triggerKind===void 0||i.triggerKind===Rp.Invoked||i.triggerKind===Rp.Automatic)}s(r,"is"),e.is=r})(s$||(s$={}));var o$;(function(e){function t(n,i,o){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):W3.is(i)?a.command=i:a.edit=i,l&&o!==void 0&&(a.kind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Re.string(i.title)&&(i.diagnostics===void 0||Re.typedArray(i.diagnostics,Ap.is))&&(i.kind===void 0||Re.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||W3.is(i.command))&&(i.isPreferred===void 0||Re.boolean(i.isPreferred))&&(i.edit===void 0||TI.is(i.edit))}s(r,"is"),e.is=r})(o$||(o$={}));var a$;(function(e){function t(n,i){let o={range:n};return Re.defined(i)&&(o.data=i),o}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&$r.is(i.range)&&(Re.undefined(i.command)||W3.is(i.command))}s(r,"is"),e.is=r})(a$||(a$={}));var l$;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.uinteger(i.tabSize)&&Re.boolean(i.insertSpaces)}s(r,"is"),e.is=r})(l$||(l$={}));var f$;(function(e){function t(n,i,o){return{range:n,target:i,data:o}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&$r.is(i.range)&&(Re.undefined(i.target)||Re.string(i.target))}s(r,"is"),e.is=r})(f$||(f$={}));var c$;(function(e){function t(n,i){return{range:n,parent:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&$r.is(i.range)&&(i.parent===void 0||e.is(i.parent))}s(r,"is"),e.is=r})(c$||(c$={}));var u$;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(u$||(u$={}));var d$;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(d$||(d$={}));var h$;(function(e){function t(r){let n=r;return Re.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}s(t,"is"),e.is=t})(h$||(h$={}));var m$;(function(e){function t(n,i){return{range:n,text:i}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&$r.is(i.range)&&Re.string(i.text)}s(r,"is"),e.is=r})(m$||(m$={}));var g$;(function(e){function t(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&$r.is(i.range)&&Re.boolean(i.caseSensitiveLookup)&&(Re.string(i.variableName)||i.variableName===void 0)}s(r,"is"),e.is=r})(g$||(g$={}));var p$;(function(e){function t(n,i){return{range:n,expression:i}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&$r.is(i.range)&&(Re.string(i.expression)||i.expression===void 0)}s(r,"is"),e.is=r})(p$||(p$={}));var y$;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&$r.is(n.stoppedLocation)}s(r,"is"),e.is=r})(y$||(y$={}));var wI;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}s(t,"is"),e.is=t})(wI||(wI={}));var II;(function(e){function t(n){return{value:n}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&(i.tooltip===void 0||Re.string(i.tooltip)||N8.is(i.tooltip))&&(i.location===void 0||Ip.is(i.location))&&(i.command===void 0||W3.is(i.command))}s(r,"is"),e.is=r})(II||(II={}));var v$;(function(e){function t(n,i,o){let a={position:n,label:i};return o!==void 0&&(a.kind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&fo.is(i.position)&&(Re.string(i.label)||Re.typedArray(i.label,II.is))&&(i.kind===void 0||wI.is(i.kind))&&i.textEdits===void 0||Re.typedArray(i.textEdits,G3.is)&&(i.tooltip===void 0||Re.string(i.tooltip)||N8.is(i.tooltip))&&(i.paddingLeft===void 0||Re.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Re.boolean(i.paddingRight))}s(r,"is"),e.is=r})(v$||(v$={}));var x$;(function(e){function t(r){return{kind:"snippet",value:r}}s(t,"createSnippet"),e.createSnippet=t})(x$||(x$={}));var _$;(function(e){function t(r,n,i,o){return{insertText:r,filterText:n,range:i,command:o}}s(t,"create"),e.create=t})(_$||(_$={}));var b$;(function(e){function t(r){return{items:r}}s(t,"create"),e.create=t})(b$||(b$={}));var C$;(function(e){e.Invoked=0,e.Automatic=1})(C$||(C$={}));var T$;(function(e){function t(r,n){return{range:r,text:n}}s(t,"create"),e.create=t})(T$||(T$={}));var E$;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}s(t,"create"),e.create=t})(E$||(E$={}));var S$;(function(e){function t(r){let n=r;return Re.objectLiteral(n)&&gI.is(n.uri)&&Re.string(n.name)}s(t,"is"),e.is=t})(S$||(S$={}));var w$;(function(e){function t(o,a,l,f){return new AI(o,a,l,f)}s(t,"create"),e.create=t;function r(o){let a=o;return!!(Re.defined(a)&&Re.string(a.uri)&&(Re.undefined(a.languageId)||Re.string(a.languageId))&&Re.uinteger(a.lineCount)&&Re.func(a.getText)&&Re.func(a.positionAt)&&Re.func(a.offsetAt))}s(r,"is"),e.is=r;function n(o,a){let l=o.getText(),f=i(a,(u,d)=>{let p=u.range.start.line-d.range.start.line;return p===0?u.range.start.character-d.range.start.character:p}),c=l.length;for(let u=f.length-1;u>=0;u--){let d=f[u],p=o.offsetAt(d.range.start),g=o.offsetAt(d.range.end);if(g<=c)l=l.substring(0,p)+d.newText+l.substring(g,l.length);else throw new Error("Overlapping edit");c=p}return l}s(n,"applyEdits"),e.applyEdits=n;function i(o,a){if(o.length<=1)return o;let l=o.length/2|0,f=o.slice(0,l),c=o.slice(l);i(f,a),i(c,a);let u=0,d=0,p=0;for(;u<f.length&&d<c.length;)a(f[u],c[d])<=0?o[p++]=f[u++]:o[p++]=c[d++];for(;u<f.length;)o[p++]=f[u++];for(;d<c.length;)o[p++]=c[d++];return o}s(i,"mergeSort")})(w$||(w$={}));var PI=class PI{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let o=r.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return fo.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let o=n-1;return fo.create(o,t-r[o])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}};s(PI,"FullTextDocument");var AI=PI,Re;(function(e){let t=Object.prototype.toString;function r(g){return typeof g<"u"}s(r,"defined"),e.defined=r;function n(g){return typeof g>"u"}s(n,"undefined"),e.undefined=n;function i(g){return g===!0||g===!1}s(i,"boolean"),e.boolean=i;function o(g){return t.call(g)==="[object String]"}s(o,"string"),e.string=o;function a(g){return t.call(g)==="[object Number]"}s(a,"number"),e.number=a;function l(g,y,_){return t.call(g)==="[object Number]"&&y<=g&&g<=_}s(l,"numberRange"),e.numberRange=l;function f(g){return t.call(g)==="[object Number]"&&-2147483648<=g&&g<=2147483647}s(f,"integer"),e.integer=f;function c(g){return t.call(g)==="[object Number]"&&0<=g&&g<=2147483647}s(c,"uinteger"),e.uinteger=c;function u(g){return t.call(g)==="[object Function]"}s(u,"func"),e.func=u;function d(g){return g!==null&&typeof g=="object"}s(d,"objectLiteral"),e.objectLiteral=d;function p(g,y){return Array.isArray(g)&&g.every(y)}s(p,"typedArray"),e.typedArray=p})(Re||(Re={}));var RI=P0(require("path"));var k8={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".jsonl",".mcmeta",".sarif",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Pipfile.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},python:{extensions:[".ipynb",".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:["Notebook",".gclient","DEPS","SConscript","SConstruct","wscript"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]}};var I$=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],A$={".php":[".blade"]},P$=Object.keys(k8).flatMap(e=>k8[e].extensions);var BI=class BI{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}};s(BI,"Language");var D8=BI;function ine(e){return decodeURIComponent(e.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}s(ine,"basename");var OI=class OI{};s(OI,"LanguageDetection");var L8=OI,NI=new Map,X3=new Map,R$,N$;for(let[e,{extensions:t,filenames:r}]of Object.entries(k8)){for(let n of t)NI.set(n,[...(R$=NI.get(n))!=null?R$:[],e]);for(let n of r!=null?r:[])X3.set(n,[...(N$=X3.get(n))!=null?N$:[],e])}var FI=class FI extends L8{detectLanguage(t){let r=ine(t.uri),n=RI.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),o=this.detectLanguageId(r,i);return new D8(o.languageId,o.isGuess,this.computeFullyQualifiedExtension(n,i))}extensionWithoutTemplateLanguage(t,r){if(I$.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=RI.extname(n).toLowerCase();if(i.length>0&&P$.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=A$[t];return!n||n.includes(r)}detectLanguageId(t,r){var i;if(X3.has(t))return{languageId:X3.get(t)[0],isGuess:!1};let n=(i=NI.get(r))!=null?i:[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),X3.has(t))return{languageId:X3.get(t)[0],isGuess:!1};return{languageId:"unknown",isGuess:!0}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}};s(FI,"FilenameAndExensionLanguageDetection");var kI=FI,MI=class MI extends L8{constructor(r){super();this.delegate=r}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new D8("cpp",n.isGuess,n.fileExtension):n}};s(MI,"GroupingLanguageDetection");var DI=MI,UI=class UI extends L8{constructor(r){super();this.delegate=r}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new D8(r.languageId,!0,""):this.delegate.detectLanguage(r)}};s(UI,"ClientProvidedLanguageDetection");var LI=UI,Q7e=new DI(new LI(new kI));$l();var sne=["isEmptyBlockStart","isBlockBodyFinished","getNodeStart"],one=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],hpe=[...sne,...one];var lne=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),_pe=new RegExp(`^(${lne.join("|")})`);$l();function fne(e){try{return e.getText(),!1}catch(t){if(t instanceof RangeError)return!0;throw t}}s(fne,"isDocumentTooLarge");async function Np(e,t){var n;if(fne(t))return{status:"invalid",reason:"Document is too large"};let r=await e.get(dd).evaluate(t.vscodeUri,t.getText());return r.isBlocked?{status:"invalid",reason:(n=r.message)!=null?n:"Document is blocked by repository policy"}:{status:"valid",document:t}}s(Np,"isDocumentValid");var cne=require("path"),qI=class qI{constructor(t){this.ctx=t}async textDocuments(){let t=this.getOpenTextDocuments(),r=[];for(let n of t)(await Np(this.ctx,n)).status==="valid"&&r.push(n);return r}getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return t?Np(this.ctx,t).catch(()=>this.notFoundResult(r)):this.notFoundResult(r)}async getTextDocumentWithValidation(t){try{let n=this.getOpenTextDocuments().find(i=>i.vscodeUri.toString()==t.toString());return!n&&(n=await this.openTextDocument(t),!n)?await this.notFoundResult(t):Np(this.ctx,n)}catch{return await this.notFoundResult(t)}}getOpenTextDocumentWithValidation(t){let n=this.getOpenTextDocuments().find(i=>i.vscodeUri.toString()==t.toString());if(n){let i;return{then:(o,a)=>(i!=null||(i=this.validateTextDocument(n,t)),i.then(o,a))}}else return this.notFoundResult(t)}async notFoundResult(t){let r=(await this.textDocuments()).map(n=>n.uri).join(", ");return{status:"notfound",message:`Document for URI could not be found: ${t}, URIs of the known document are: ${r}`}}openTextDocument(t){return Promise.reject(new Error("Not found"))}async getWorkspaceFolder(t){return this.getWorkspaceFolders().find(r=>{if(t.vscodeUri.toString().startsWith(r.toString()))return r})}async getRelativePath(t){if(t.vscodeUri.scheme!=="untitled"){for(let r of this.getWorkspaceFolders()){let n=r.with({query:"",fragment:""}).toString().replace(/\/?$/,"/");if(t.uri.toString().startsWith(n))return t.uri.toString().slice(n.length)}return cne.basename(t.vscodeUri.fsPath)}}};s(qI,"TextDocumentManager");var Xo=qI;var B8={isBlocked:!1,reason:"VALID_FILE"},kp={isBlocked:!1,reason:"NO_MATCHING_POLICY"},D$={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"};var jI=new H0(3,"contentExclusion");var $I=class $I{};s($I,"PolicyEvaluator");var Dp=$I;var kn=P0(ws());var Lp=new WeakMap;function Bp(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,o=Object.prototype.toString.call(e);if(o!=="[object RegExp]"&&o!=="[object Date]"&&Lp.has(e))return Lp.get(e);switch(Lp.set(e,"~"+ ++t),o){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=Bp(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+Bp(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+Bp(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return Lp.set(e,n),n}s(Bp,"t");function Op(e){return Bp(e,0)}s(Op,"r");var HI=new WeakMap;function L$(e,t,r=Op(t)){let n,i,o=HI.get(e);o||(HI.set(e,o=[[],i=[],n=[]]),queueMicrotask(function(){let c,u=0;function d(p){for(;c=n[u++];c.r(p));}s(d,"o"),HI.delete(e),e(i).then(function(p){if(p.length!==n.length)return d(new Error("loader value length mismatch"));for(;c=p[u++],u<=p.length;c instanceof Error?n[u-1].r(c):n[u-1].s(c));},d)}));let a=o[0].indexOf(r);if(~a)return o[2][a].p;let l=o[0].push(r)-1,f=o[2][l]={};return o[1][l]=t,f.p=new Promise(function(c,u){f.s=c,f.r=u})}s(L$,"n");var B$=new WeakMap;function une(e,t,r,n=Op(r)){if(t||(t=B$.get(e)),t||B$.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=L$(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}s(une,"n");function O$(e,t){return function(r,n){return une(e,t,r,n)}}s(O$,"o");var sH=P0(Y$(),1);var F8=s(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");var xne={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},M8=s(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),_ne=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),X$=s(e=>e.join(""),"rangesToString"),J$=s((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],o=r+1,a=!1,l=!1,f=!1,c=!1,u=r,d="";e:for(;o<e.length;){let _=e.charAt(o);if((_==="!"||_==="^")&&o===r+1){c=!0,o++;continue}if(_==="]"&&a&&!f){u=o+1;break}if(a=!0,_==="\\"&&!f){f=!0,o++;continue}if(_==="["&&!f){for(let[S,[T,I,P]]of Object.entries(xne))if(e.startsWith(S,o)){if(d)return["$.",!1,e.length-r,!0];o+=S.length,P?i.push(T):n.push(T),l=l||I;continue e}}if(f=!1,d){_>d?n.push(M8(d)+"-"+M8(_)):_===d&&n.push(M8(_)),d="",o++;continue}if(e.startsWith("-]",o+1)){n.push(M8(_+"-")),o+=2;continue}if(e.startsWith("-",o+1)){d=_,o+=2;continue}n.push(M8(_)),o++}if(u<o)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c){let _=n[0].length===2?n[0].slice(-1):n[0];return[_ne(_),!1,u-r,!1]}let p="["+(c?"^":"")+X$(n)+"]",g="["+(c?"":"^")+X$(i)+"]";return[n.length&&i.length?"("+p+"|"+g+")":n.length?p:g,l,u-r,!0]},"parseClass");var Lc=s((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var bne=new Set(["!","?","+","*","@"]),Q$=s(e=>bne.has(e),"isExtglobType"),Cne="(?!(?:^|/)\\.\\.?(?:$|/))",Fp="(?!\\.)",Tne=new Set(["[","."]),Ene=new Set(["..","."]),Sne=new Set("().*{}+?[]^$\\!"),wne=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),WI="[^/]",Z$=WI+"*?",eH=WI+"+?",xn,Rn,ef,Pr,fn,Bc,hd,Oc,tf,md,U8,Up,tH,J3,Mp,q8,KI,qp,rH,ti=class ti{constructor(t,r,n={}){R0(this,Up);R0(this,q8);tn(this,"type");R0(this,xn,void 0);R0(this,Rn,void 0);R0(this,ef,!1);R0(this,Pr,[]);R0(this,fn,void 0);R0(this,Bc,void 0);R0(this,hd,void 0);R0(this,Oc,!1);R0(this,tf,void 0);R0(this,md,void 0);R0(this,U8,!1);this.type=t,t&&T0(this,Rn,!0),T0(this,fn,r),T0(this,xn,je(this,fn)?je(je(this,fn),xn):this),T0(this,tf,je(this,xn)===this?n:je(je(this,xn),tf)),T0(this,hd,je(this,xn)===this?[]:je(je(this,xn),hd)),t==="!"&&!je(je(this,xn),Oc)&&je(this,hd).push(this),T0(this,Bc,je(this,fn)?je(je(this,fn),Pr).length:0)}get hasMagic(){if(je(this,Rn)!==void 0)return je(this,Rn);for(let t of je(this,Pr))if(typeof t!="string"&&(t.type||t.hasMagic))return T0(this,Rn,!0);return je(this,Rn)}toString(){return je(this,md)!==void 0?je(this,md):this.type?T0(this,md,this.type+"("+je(this,Pr).map(t=>String(t)).join("|")+")"):T0(this,md,je(this,Pr).map(t=>String(t)).join(""))}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof ti&&je(r,fn)===this))throw new Error("invalid part: "+r);je(this,Pr).push(r)}}toJSON(){var r;let t=this.type===null?je(this,Pr).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...je(this,Pr).map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===je(this,xn)||je(je(this,xn),Oc)&&((r=je(this,fn))==null?void 0:r.type)==="!")&&t.push({}),t}isStart(){var r;if(je(this,xn)===this)return!0;if(!((r=je(this,fn))!=null&&r.isStart()))return!1;if(je(this,Bc)===0)return!0;let t=je(this,fn);for(let n=0;n<je(this,Bc);n++){let i=je(t,Pr)[n];if(!(i instanceof ti&&i.type==="!"))return!1}return!0}isEnd(){var r,n,i;if(je(this,xn)===this||((r=je(this,fn))==null?void 0:r.type)==="!")return!0;if(!((n=je(this,fn))!=null&&n.isEnd()))return!1;if(!this.type)return(i=je(this,fn))==null?void 0:i.isEnd();let t=je(this,fn)?je(je(this,fn),Pr).length:0;return je(this,Bc)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new ti(this.type,t);for(let n of je(this,Pr))r.copyIn(n);return r}static fromGlob(t,r={}){var i;let n=new ti(null,void 0,r);return Xi(i=ti,J3,Mp).call(i,t,n,0,r),n}toMMPattern(){if(this!==je(this,xn))return je(this,xn).toMMPattern();let t=this.toString(),[r,n,i,o]=this.toRegExpSource();if(!(i||je(this,Rn)||je(this,tf).nocase&&!je(this,tf).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(je(this,tf).nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}toRegExpSource(t){var f;let r=t!=null?t:!!je(this,tf).dot;if(je(this,xn)===this&&Xi(this,Up,tH).call(this),!this.type){let c=this.isStart()&&this.isEnd(),u=je(this,Pr).map(y=>{var P;let[_,S,T,I]=typeof y=="string"?Xi(P=ti,qp,rH).call(P,y,je(this,Rn),c):y.toRegExpSource(t);return T0(this,Rn,je(this,Rn)||T),T0(this,ef,je(this,ef)||I),_}).join(""),d="";if(this.isStart()&&typeof je(this,Pr)[0]=="string"&&!(je(this,Pr).length===1&&Ene.has(je(this,Pr)[0]))){let _=Tne,S=r&&_.has(u.charAt(0))||u.startsWith("\\.")&&_.has(u.charAt(2))||u.startsWith("\\.\\.")&&_.has(u.charAt(4)),T=!r&&!t&&_.has(u.charAt(0));d=S?Cne:T?Fp:""}let p="";return this.isEnd()&&je(je(this,xn),Oc)&&((f=je(this,fn))==null?void 0:f.type)==="!"&&(p="(?:$|\\/)"),[d+u+p,Lc(u),T0(this,Rn,!!je(this,Rn)),je(this,ef)]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",o=Xi(this,q8,KI).call(this,r);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){let c=this.toString();return T0(this,Pr,[c]),this.type=null,T0(this,Rn,void 0),[c,Lc(this.toString()),!1,!1]}let a=!n||t||r||!Fp?"":Xi(this,q8,KI).call(this,!0);a===o&&(a=""),a&&(o=`(?:${o})(?:${a})*?`);let l="";if(this.type==="!"&&je(this,U8))l=(this.isStart()&&!r?Fp:"")+eH;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?Fp:"")+Z$+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+o+c}return[l,Lc(o),T0(this,Rn,!!je(this,Rn)),je(this,ef)]}};xn=new WeakMap,Rn=new WeakMap,ef=new WeakMap,Pr=new WeakMap,fn=new WeakMap,Bc=new WeakMap,hd=new WeakMap,Oc=new WeakMap,tf=new WeakMap,md=new WeakMap,U8=new WeakMap,Up=new WeakSet,tH=s(function(){if(this!==je(this,xn))throw new Error("should only call on root");if(je(this,Oc))return this;this.toString(),T0(this,Oc,!0);let t;for(;t=je(this,hd).pop();){if(t.type!=="!")continue;let r=t,n=je(r,fn);for(;n;){for(let i=je(r,Bc)+1;!n.type&&i<je(n,Pr).length;i++)for(let o of je(t,Pr)){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(je(n,Pr)[i])}r=n,n=je(r,fn)}}return this},"#fillNegs"),J3=new WeakSet,Mp=s(function(t,r,n,i){var g,y;let o=!1,a=!1,l=-1,f=!1;if(r.type===null){let _=n,S="";for(;_<t.length;){let T=t.charAt(_++);if(o||T==="\\"){o=!o,S+=T;continue}if(a){_===l+1?(T==="^"||T==="!")&&(f=!0):T==="]"&&!(_===l+2&&f)&&(a=!1),S+=T;continue}else if(T==="["){a=!0,l=_,f=!1,S+=T;continue}if(!i.noext&&Q$(T)&&t.charAt(_)==="("){r.push(S),S="";let I=new ti(T,r);_=Xi(g=ti,J3,Mp).call(g,t,I,_,i),r.push(I);continue}S+=T}return r.push(S),_}let c=n+1,u=new ti(null,r),d=[],p="";for(;c<t.length;){let _=t.charAt(c++);if(o||_==="\\"){o=!o,p+=_;continue}if(a){c===l+1?(_==="^"||_==="!")&&(f=!0):_==="]"&&!(c===l+2&&f)&&(a=!1),p+=_;continue}else if(_==="["){a=!0,l=c,f=!1,p+=_;continue}if(Q$(_)&&t.charAt(c)==="("){u.push(p),p="";let S=new ti(_,u);u.push(S),c=Xi(y=ti,J3,Mp).call(y,t,S,c,i);continue}if(_==="|"){u.push(p),p="",d.push(u),u=new ti(null,r);continue}if(_===")")return p===""&&je(r,Pr).length===0&&T0(r,U8,!0),u.push(p),p="",r.push(...d,u),c;p+=_}return r.type=null,T0(r,Rn,void 0),T0(r,Pr,[t.substring(n-1)]),c},"#parseAST"),q8=new WeakSet,KI=s(function(t){return je(this,Pr).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,o,a]=r.toRegExpSource(t);return T0(this,ef,je(this,ef)||a),n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},"#partsToRegExp"),qp=new WeakSet,rH=s(function(t,r,n=!1){let i=!1,o="",a=!1;for(let l=0;l<t.length;l++){let f=t.charAt(l);if(i){i=!1,o+=(Sne.has(f)?"\\":"")+f;continue}if(f==="\\"){l===t.length-1?o+="\\\\":i=!0;continue}if(f==="["){let[c,u,d,p]=J$(t,l);if(d){o+=c,a=a||u,l+=d-1,r=r||p;continue}}if(f==="*"){n&&t==="*"?o+=eH:o+=Z$,r=!0;continue}if(f==="?"){o+=WI,r=!0;continue}o+=wne(f)}return[o,Lc(t),!!r,a]},"#parseGlob"),R0(ti,J3),R0(ti,qp),s(ti,"AST");var Q3=ti;var GI=s((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var ri=s((e,t,r={})=>(F8(t),!r.nocomment&&t.charAt(0)==="#"?!1:new Z3(t,r).match(e)),"minimatch"),Ine=/^\*+([^+@!?\*\[\(]*)$/,Ane=s(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),Pne=s(e=>t=>t.endsWith(e),"starDotExtTestDot"),Rne=s(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),Nne=s(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),kne=/^\*+\.\*+$/,Dne=s(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),Lne=s(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),Bne=/^\.\*+$/,One=s(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),Fne=/^\*+$/,Mne=s(e=>e.length!==0&&!e.startsWith("."),"starTest"),Une=s(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),qne=/^\?+([^+@!?\*\[\(]*)?$/,jne=s(([e,t=""])=>{let r=oH([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),$ne=s(([e,t=""])=>{let r=aH([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),Hne=s(([e,t=""])=>{let r=aH([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),Vne=s(([e,t=""])=>{let r=oH([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),oH=s(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),aH=s(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),lH=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",nH={win32:{sep:"\\"},posix:{sep:"/"}},zne=lH==="win32"?nH.win32.sep:nH.posix.sep;ri.sep=zne;var uo=Symbol("globstar **");ri.GLOBSTAR=uo;var Kne="[^/]",Wne=Kne+"*?",Gne="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Yne="(?:(?!(?:\\/|^)\\.).)*?",Xne=s((e,t={})=>r=>ri(r,e,t),"filter");ri.filter=Xne;var co=s((e,t={})=>Object.assign({},e,t),"ext"),Jne=s(e=>{var n,i;if(!e||typeof e!="object"||!Object.keys(e).length)return ri;let t=ri;return Object.assign(s((o,a,l={})=>t(o,a,co(e,l)),"m"),{Minimatch:(n=class extends t.Minimatch{constructor(a,l={}){super(a,co(e,l))}static defaults(a){return t.defaults(co(e,a)).Minimatch}},s(n,"Minimatch"),n),AST:(i=class extends t.AST{constructor(a,l,f={}){super(a,l,co(e,f))}static fromGlob(a,l={}){return t.AST.fromGlob(a,co(e,l))}},s(i,"AST"),i),unescape:(o,a={})=>t.unescape(o,co(e,a)),escape:(o,a={})=>t.escape(o,co(e,a)),filter:(o,a={})=>t.filter(o,co(e,a)),defaults:o=>t.defaults(co(e,o)),makeRe:(o,a={})=>t.makeRe(o,co(e,a)),braceExpand:(o,a={})=>t.braceExpand(o,co(e,a)),match:(o,a,l={})=>t.match(o,a,co(e,l)),sep:t.sep,GLOBSTAR:uo})},"defaults");ri.defaults=Jne;var fH=s((e,t={})=>(F8(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,sH.default)(e)),"braceExpand");ri.braceExpand=fH;var Qne=s((e,t={})=>new Z3(e,t).makeRe(),"makeRe");ri.makeRe=Qne;var Zne=s((e,t,r={})=>{let n=new Z3(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");ri.match=Zne;var iH=/[?*]|[+@!]\(.*?\)|\[|\]/,eie=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),YI=class YI{constructor(t,r={}){tn(this,"options");tn(this,"set");tn(this,"pattern");tn(this,"windowsPathsNoEscape");tn(this,"nonegate");tn(this,"negate");tn(this,"comment");tn(this,"empty");tn(this,"preserveMultipleSlashes");tn(this,"partial");tn(this,"globSet");tn(this,"globParts");tn(this,"nocase");tn(this,"isWindows");tn(this,"platform");tn(this,"windowsNoMagicRoot");tn(this,"regexp");F8(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||lH,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let f=o[0]===""&&o[1]===""&&(o[2]==="?"||!iH.test(o[2]))&&!iH.test(o[3]),c=/^[a-z]:/i.test(o[0]);if(f)return[...o.slice(0,4),...o.slice(4).map(u=>this.parse(u))];if(c)return[o[0],...o.slice(1).map(u=>this.parse(u))]}return o.map(f=>this.parse(f))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){let a=this.set[o];a[0]===""&&a[1]===""&&this.globParts[o][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let o=n[n.length-1];return i==="**"&&o==="**"?n:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let o=t[i];i===1&&o===""&&t[0]===""||(o==="."||o==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],f=n[i+2],c=n[i+3];if(l!==".."||!f||f==="."||f===".."||!c||c==="."||c==="..")continue;r=!0,n.splice(i,1);let u=n.slice(0);u[i]="**",t.push(u),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let o=0;for(;(o=n.indexOf("..",o+1))!==-1;){let a=n[o-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let f=o===1&&n[o+1]==="**"?["."]:[];n.splice(o-1,2,...f),n.length===0&&n.push(""),o-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);i&&(t[r]=i,t[n]=[])}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,o=0,a=[],l="";for(;i<t.length&&o<r.length;)if(t[i]===r[o])a.push(l==="b"?r[o]:t[i]),i++,o++;else if(n&&t[i]==="**"&&r[o]===t[i+1])a.push(t[i]),i++;else if(n&&r[o]==="**"&&t[i]===r[o+1])a.push(r[o]),o++;else if(t[i]==="*"&&r[o]&&(this.options.dot||!r[o].startsWith("."))&&r[o]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,o++}else if(r[o]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[o]),i++,o++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let _=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),S=!_&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),T=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),I=!T&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),P=S?3:_?0:void 0,M=I?3:T?0:void 0;if(typeof P=="number"&&typeof M=="number"){let[N,L]=[t[P],r[M]];N.toLowerCase()===L.toLowerCase()&&(r[M]=N,M>P?r=r.slice(M):P>M&&(t=t.slice(P)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,f=t.length,c=r.length;a<f&&l<c;a++,l++){this.debug("matchOne loop");var u=r[l],d=t[a];if(this.debug(r,u,d),u===!1)return!1;if(u===uo){this.debug("GLOBSTAR",[r,u,d]);var p=a,g=l+1;if(g===c){for(this.debug("** at the end");a<f;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;p<f;){var y=t[p];if(this.debug(`
globstar while`,t,p,r,g,y),this.matchOne(t.slice(p),r.slice(g),n))return this.debug("globstar found match!",p,f,y),!0;if(y==="."||y===".."||!i.dot&&y.charAt(0)==="."){this.debug("dot detected!",t,p,r,g);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,p,r,g),p===f))}let _;if(typeof u=="string"?(_=d===u,this.debug("string match",u,d,_)):(_=u.test(d),this.debug("pattern match",u,d,_)),!_)return!1}if(a===f&&l===c)return!0;if(a===f)return n;if(l===c)return a===f-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return fH(this.pattern,this.options)}parse(t){F8(t);let r=this.options;if(t==="**")return uo;if(t==="")return"";let n,i=null;(n=t.match(Fne))?i=r.dot?Une:Mne:(n=t.match(Ine))?i=(r.nocase?r.dot?Nne:Rne:r.dot?Pne:Ane)(n[1]):(n=t.match(qne))?i=(r.nocase?r.dot?$ne:jne:r.dot?Hne:Vne)(n):(n=t.match(kne))?i=r.dot?Lne:Dne:(n=t.match(Bne))&&(i=One);let o=Q3.fromGlob(t,this.options).toMMPattern();return i?Object.assign(o,{test:i}):o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Wne:r.dot?Gne:Yne,i=new Set(r.nocase?["i"]:[]),o=t.map(f=>{let c=f.map(u=>{if(u instanceof RegExp)for(let d of u.flags.split(""))i.add(d);return typeof u=="string"?eie(u):u===uo?uo:u._src});return c.forEach((u,d)=>{let p=c[d+1],g=c[d-1];u!==uo||g===uo||(g===void 0?p!==void 0&&p!==uo?c[d+1]="(?:\\/|"+n+"\\/)?"+p:c[d]=n:p===void 0?c[d-1]=g+"(?:\\/|"+n+")?":p!==uo&&(c[d-1]=g+"(?:\\/|\\/"+n+"\\/)"+p,c[d+1]=uo))}),c.filter(u=>u!==uo).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];o="^"+a+o+l+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let o=this.set;this.debug(this.pattern,"set",o);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<o.length;l++){let f=o[l],c=i;if(n.matchBase&&f.length===1&&(c=[a]),this.matchOne(c,f,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return ri.defaults(t).Minimatch}};s(YI,"Minimatch");var Z3=YI;ri.AST=Q3;ri.Minimatch=Z3;ri.escape=GI;ri.unescape=Lc;var gd=P0(Gu());var cH=require("child_process");var tie=new H0(3,"repository"),Hp=class Hp{constructor(){this.data={}}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(o=>o.startsWith(n)&&o.endsWith(i)).map(o=>o.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(o=>r.add(n,o)),r),new Hp)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}};s(Hp,"GitConfigData");var e2=Hp,XI=class XI{};s(XI,"GitConfigLoader");var Ha=XI,JI=class JI extends Ha{runCommand(t,r,n){return new Promise((i,o)=>{(0,cH.execFile)(r,n,{cwd:t},(a,l)=>{a?o(a):i(l)})})}async tryRunCommand(t,r,n,i){try{return await this.runCommand(r,n,i)}catch(o){tie.info(t,`Failed to run command '${n}' in ${r}: ${o}`);return}}async getConfig(t,r){let n=await this.tryRunCommand(t,r.fsPath,"git",["config","--list","--null",...this.extraArgs()]);return n?this.extractConfig(n):void 0}extractConfig(t){let r=new e2;for(let n of t.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],o=n.slice(i.length+1);r.add(i,o)}return r}extraArgs(){return[]}};s(JI,"GitCLIConfigLoader");var jp=JI,QI=class QI extends Ha{constructor(r){super();this.loaders=r}async getConfig(r,n){for(let i of this.loaders){let o=await i.getConfig(r,n);if(o)return o}}};s(QI,"GitFallbackConfigLoader");var $p=QI;var uH=require("os"),ZI=P0(Gu());var eA=class eA{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){var t;return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test((t=this.hostname)!=null?t:"")}isADO(){var t;return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test((t=this.hostname)!=null?t:"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return ZI.URI.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=ZI.URI.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){var r,n,i,o,a;let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,uH.platform)()!=="win32"||((i=(n=(r=t.groups)==null?void 0:r.host)==null?void 0:n.length)!=null?i:0)>1)){let l=(a=(o=t.groups)==null?void 0:o.host)!=null?a:"";return this._scheme="ssh",this.setAuthority(l),this.setPath(this.url.substring(l.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};s(eA,"GitRemoteUrl");var Vp=eA;var tA=class tA{async resolveRemote(t,r){var a,l,f,c;let n=await t.get(Ha).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),o=i.filter(u=>u.url.isGitHub());if(o.length)return(l=(a=o.find(u=>u.name==="origin"))==null?void 0:a.url)!=null?l:o[0].url;if(i.length)return(c=(f=i.find(u=>u.name==="origin"))==null?void 0:f.url)!=null?c:i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>{var i;return{name:n,url:new Vp(this.applyInsteadOfRules(r,(i=t.get(`remote.${n}.url`))!=null?i:""))}}).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};s(tA,"GitRemoteResolver");var zp=tA;var rie=100,nA=class nA{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){var t,r;return(r=(t=this.remote)==null?void 0:t.isGitHub())!=null?r:!1}isADO(){var t,r;return(r=(t=this.remote)==null?void 0:t.isADO())!=null?r:!1}setNWO(){var r,n,i,o,a,l,f,c,u,d;let t=(n=(r=this.remote)==null?void 0:r.path)==null?void 0:n.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t==null?void 0:t[0],this._name=(i=t==null?void 0:t[1])==null?void 0:i.replace(/\.git$/,"");let p=/^(?<tenant>[^.]+)\.ghe\.com$/.exec((a=(o=this.remote)==null?void 0:o.hostname)!=null?a:"");p&&(this._tenant=(l=p.groups)==null?void 0:l.tenant)}else if(this.isADO()&&(t==null?void 0:t.length)===4){if(((f=this.remote)==null?void 0:f.scheme)==="ssh"){this._adoOrganization=t==null?void 0:t[1],this._owner=t==null?void 0:t[2],this._name=t==null?void 0:t[3];return}let p=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec((u=(c=this.remote)==null?void 0:c.hostname)!=null?u:"");p?(this._adoOrganization=(d=p.groups)==null?void 0:d.org,this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3]):(this._adoOrganization=t==null?void 0:t[0],this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3])}}};s(nA,"GitRepository");var rA=nA,Kp=class Kp{constructor(t){this.ctx=t;this.remoteResolver=new zp;this.cache=new Kr(rie)}async getRepo(t){let r,n=[];do{if(this.cache.has(t.toString())){let o=this.cache.get(t.toString());return this.updateCache(n,o),o}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=ep(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new rA(t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await Kp.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(oo),i=gd.Utils.joinPath(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=gd.Utils.joinPath(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let o=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!o)return;let a=x8(r,o[1]),l=gd.Utils.joinPath(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let f=gd.Utils.joinPath(a,"config.worktree");if(await this.tryStat(t,f)!==void 0)return f;let c=gd.Utils.joinPath(a,"commondir");a=x8(a,(await t.readFileString(c)).trimEnd());let u=gd.Utils.joinPath(a,"config");return await t.stat(u),u}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};s(Kp,"RepositoryManager");var rf=Kp;var NA=P0(UH());var qH=s((e,t)=>{if(NA.Value.Check(e,t))return t;let n=`Typebox schema validation failed:
${[...NA.Value.Errors(e,t)].map(i=>`${i.path} ${i.message}`).join(`
`)}`;throw new Error(n)},"assertShape");var kA="contentExclusion",go,yd,i2,xy,$H,s2,z8,K8,LA,BA=class BA extends Dp{constructor(r){super();R0(this,xy);R0(this,K8);R0(this,go,void 0);R0(this,yd,new Kr(1e4));R0(this,i2,new Kr(200));R0(this,s2,void 0);R0(this,z8,O$(async r=>{let n=await je(this,go).get(is).getGitHubSession(je(this,go));if(!n)throw new Lu("No token found");let i=je(this,go).get(Ns).getContentRestrictionsUrl(n),o=new URL(i),a=r.includes("all");r.filter(u=>u!=="all").length>0&&o.searchParams.set("repos",r.filter(u=>u!=="all").join(",")),o.searchParams.set("scope",a?"all":"repo");let f=await je(this,go).get(Ti).fetch(o.href,{method:"GET",headers:{Authorization:`token ${n.token}`}}),c=await f.json();if(!f.ok){if(f.status===404)return Array.from(r,()=>[]);throw Xi(this,K8,LA).call(this,"fetch.error",{message:c.message}),new g8(f)}return Xi(this,K8,LA).call(this,"fetch.success"),qH(loe,c).map(u=>u.rules)},je(this,i2)));T0(this,go,r)}async evaluate(r,n){var i,o,a;try{let l=await this.getGitRepo(r),f=await Xi(this,xy,$H).call(this,(i=l==null?void 0:l.url)!=null?i:"all");if(!f)return kp;let c=(a=(o=l==null?void 0:l.baseFolder)==null?void 0:o.path)!=null?a:"",u=await this.evaluateFilePathRules(r,c,f);if(u.isBlocked)return u;let d=await this.evaluateTextBasedRules(f,n);if(d.isBlocked)return d}catch(l){return Pc(je(this,go),l,`${kA}.evaluate`),D$}return B8}async evaluateFilePathRules(r,n,i){let o=r.fsPath;if(je(this,yd).has(o))return je(this,yd).get(o);let a=B8,l=r.path.replace(n,"");e:for(let f of i)for(let c of f.paths)if(ri(l,c,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){a=DA(f,"FILE_BLOCKED_PATH");break e}return je(this,yd).set(o,a),a}async evaluateTextBasedRules(r,n){let i=r.filter(a=>a.ifAnyMatch),o=r.filter(a=>a.ifNoneMatch);return!n||i.length===0&&o.length===0?B8:this.evaluateFileContent(i,o,n)}async evaluateFileContent(r,n,i){for(let o of r)if(o.ifAnyMatch&&o.ifAnyMatch.length>0&&o.ifAnyMatch.map(l=>jH(l)).some(l=>l.test(i)))return DA(o,"FILE_BLOCKED_TEXT_BASED");for(let o of n)if(o.ifNoneMatch&&o.ifNoneMatch.length>0&&!o.ifNoneMatch.map(l=>jH(l)).some(l=>l.test(i)))return DA(o,"FILE_BLOCKED_TEXT_BASED");return B8}async refresh(){try{let r=[...je(this,i2).keys()];this.reset(),await Promise.all(r.map(n=>je(this,z8).call(this,n)))}catch(r){Pc(je(this,go),r,`${kA}.refresh`)}}reset(){je(this,i2).clear(),je(this,yd).clear()}setTestingRules(r){T0(this,s2,r)}async getGitRepo(r){let i=await je(this,go).get(rf).getRepo(ep(r));if(!i||!(i!=null&&i.remote))return;let o=i.remote.getUrlForApi();if(o)return{baseFolder:i.baseFolder,url:o}}};go=new WeakMap,yd=new WeakMap,i2=new WeakMap,xy=new WeakSet,$H=s(async function(r){var i;if((i=je(this,s2))!=null&&i.length)return je(this,s2);let n=await je(this,z8).call(this,r.toLowerCase());if(n.length!==0)return n},"#rulesForScope"),s2=new WeakMap,z8=new WeakMap,K8=new WeakSet,LA=s(function(r,n,i){I0(je(this,go),`${kA}.${r}`,cr.createAndMarkAsIssued(n,i))},"#telemetry"),s(BA,"CopilotContentExclusion");var vy=BA;function jH(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}s(jH,"stringToRegex");function DA(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}s(DA,"fileBlockedEvaluationResult");var ioe=kn.Type.Object({name:kn.Type.String(),type:kn.Type.String()}),soe=kn.Type.Object({paths:kn.Type.Array(kn.Type.String()),ifNoneMatch:kn.Type.Optional(kn.Type.Array(kn.Type.String())),ifAnyMatch:kn.Type.Optional(kn.Type.Array(kn.Type.String())),source:ioe}),ooe=kn.Type.Array(soe),aoe=kn.Type.Object({rules:ooe,last_updated_at:kn.Type.String(),scope:kn.Type.String()}),loe=kn.Type.Array(aoe);var jc,$c,_y,HH,OA=class OA{constructor(t){this.ctx=t;R0(this,_y);R0(this,jc,!1);R0(this,$c,new vy(this.ctx));this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=s(async t=>{if(!je(this,jc)||!t)return;let r=await this.ctx.get(Xo).getTextDocumentWithValidation(t.document.uri),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Xo).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),this.ctx.get(Di).on("onCopilotToken",r=>{var n;T0(this,jc,(n=r.envelope.copilotignore_enabled)!=null?n:!1),this.evaluateResultCache.clear(),je(this,$c).refresh()})}get enabled(){return je(this,jc)}async evaluate(t,r,n){var f;if(!je(this,jc)||!v8(t.scheme))return{isBlocked:!1};let i=[],o=s(async(c,u)=>{let d=Date.now(),p=await u.evaluate(t,r),g=Date.now();return i.push({key:c,result:p,elapsedMs:g-d}),p},"track"),l=(f=(await Promise.all([o("contentExclusion.evaluate",je(this,$c))])).find(c=>c==null?void 0:c.isBlocked))!=null?f:{isBlocked:!1};try{for(let c of i)Xi(this,_y,HH).call(this,c.key,t,c.result,c.elapsedMs)}catch(c){console.log("Error tracking telemetry",c)}return n==="UPDATE"&&this.updateStatusIcon(l.isBlocked,l.message),l}updateStatusIcon(t,r){je(this,jc)&&(t?this.ctx.get(Zl).setInactive(r!=null?r:"Copilot is disabled"):this.ctx.get(Zl).forceNormal())}setTestingRules(t){je(this,$c).setTestingRules(t)}set __contentExclusions(t){T0(this,$c,t)}get __contentExclusions(){return je(this,$c)}};jc=new WeakMap,$c=new WeakMap,_y=new WeakSet,HH=s(function(t,r,n,i){var c,u;let o=r.path+t;if(this.evaluateResultCache.get(o)===n.reason)return!1;if(this.evaluateResultCache.set(o,(c=n.reason)!=null?c:"UNKNOWN"),n.reason===kp.reason)return jI.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:(u=n.reason)!=null?u:"UNKNOWN"},f={elapsedMs:i};return I0(this.ctx,t,cr.createAndMarkAsIssued(l,f)),I0(this.ctx,t,cr.createAndMarkAsIssued({...l,path:r.path},f),1),jI.debug(this.ctx,`[${t}] ${r}`,n),!0},"#trackEvaluationResult"),s(OA,"CopilotContentExclusionManager");var dd=OA;$l();C3();C3();$l();var VH=new Kr;function zH(e){return[...e].sort((t,r)=>{var o,a;let n=(o=VH.get(t.uri.toString()))!=null?o:0;return((a=VH.get(r.uri.toString()))!=null?a:0)-n})}s(zH,"sortByAccessTimes");var FA=class FA{constructor(t){this.docManager=t}async truncateDocs(t,r,n,i){let o=new Map,a=0;for(let l of t)if(!(a+l.getText().length>W8.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.vscodeUri.scheme==="file"&&r.scheme==="file"&&l.vscodeUri.fsPath!==r.fsPath&&MA(n,l.languageId)&&(o.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:await this.docManager.getRelativePath(l),languageId:l.languageId,source:l.getText()}),a+=l.getText().length),o.size>=i))break;return o}async getNeighborFiles(t,r,n){let i=new Map,o=new Map;return i=await this.truncateDocs(zH(await this.docManager.textDocuments()),t,r,n),o.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:o}}};s(FA,"OpenTabFiles");var by=FA;function coe(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}s(coe,"defaultHash");function UA(e,t={}){let{hash:r=coe,cache:n=new Map}=t;return function(...i){let o=r.apply(this,i);if(n.has(o))return n.get(o);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(o),l})),n.set(o,a),a}}s(UA,"memoize");var WH=P0(Gu());function KH(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}s(KH,"shortCircuit");var Cy={entries:new Map,traits:[]},HA=class HA extends Kr{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.deleteKey(r)}};s(HA,"LRUExpirationCacheMap");var qA=HA,Bs=new H0(3,"relatedFiles"),uoe=1e3,VA=class VA extends Error{constructor(){super("The provider failed providing the list of relatedFiles")}};s(VA,"RelatedFilesProviderFailure");var Ty=VA,Ey=class Ey{constructor(t){this.context=t}async getRelatedFiles(t,r,n){var a;let i=await this.getRelatedFilesResponse(t,r,n);if(i==null)return null;let o={entries:new Map,traits:(a=i.traits)!=null?a:[]};for(let l of i.entries){let f=o.entries.get(l.type);f||(f=new Map,o.entries.set(l.type,f));for(let c of l.uris)try{let u=WH.URI.parse(c);c=u.toString(),Bs.debug(this.context,`Processing ${c}`);let d=await this.getFileContent(u);if(!d||d.length==0){Bs.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(u,d)){Bs.debug(this.context,`Skip ${c} due content exclusion.`);continue}d=Ey.dropBOM(d),f.set(c,d)}catch(u){Bs.warn(this.context,u)}}return o}async getFileContent(t){try{return this.context.get(oo).readFileString(t)}catch(r){Bs.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(dd).evaluate(t,r)).isBlocked}catch(n){Bs.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}};s(Ey,"RelatedFilesProvider");var jA=Ey,doe=3,GH=new qA(uoe);async function YH(e,t,r,n,i){let o=Date.now(),a;try{a=await i.getRelatedFiles(t,r,n)}catch(f){Bs.exception(e,f,".getRelatedFiles"),a=null}a==null&&(GH.bumpRetryCount(t.uri)>=doe?a=Cy:a=null);let l=Date.now()-o;if(Bs.debug(e,a!=null?`Fetched ${[...a.entries.values()].map(f=>f.size).reduce((f,c)=>f+c,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fecthing files for '${t.uri}' in ${l}ms.`),a==null)throw new Ty;return a}s(YH,"getRelatedFiles");var $A=UA(YH,{cache:GH,hash:(e,t,r,n,i)=>`${t.uri}`});$A=KH($A,200,Cy);async function XH(e,t,r,n,i=!1){let o=e.get(jA),a=Cy;try{a=i?await YH(e,t,r,n,o):await $A(e,t,r,n,o)}catch(l){a=Cy,l instanceof Ty&&await I0(e,"getRelatedFilesList",n)}return moe(e,a.traits,t,n),Bs.debug(e,a!=null?`Fetched following traits ${a.traits.map(l=>`{${l.name} : ${l.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),a.entries}s(XH,"getRelatedFilesList");var hoe=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);async function moe(e,t,r,n){if(t.length>0){let i={};i.languageId=r.languageId;for(let a of t){let l=hoe.get(a.name);l&&(i[l]=a.value)}let o=n.extendedBy(i,{});await I0(e,"related.traits",o)}}s(moe,"ReportTraitsTelemetry");function MA(e,t){return Hl(e)===Hl(t)}s(MA,"considerNeighborFile");var ls=class ls{static reset(){ls.instance=void 0}static async getNeighborFiles(t,r,n,i){let o=t.get(Xo);ls.instance===void 0&&(ls.instance=new by(o));let a=await ls.instance.getNeighborFiles(r,n,ls.MAX_NEIGHBOR_FILES),l=await o.getTextDocument(r);if(!l)return Bs.debug(t,"neighborFiles.getNeighborFiles","Failed to get the document"),a;let f=await o.getWorkspaceFolder(l);if(f){let c=ls.getRelativePath(l.uri,f);if(!c)return a;let u={relativePath:c,uri:l.uri,languageId:l.languageId,source:l.getText()},d=await XH(t,u,f,i);d==null&&(await I0(t,"getNeighborFiles.getRelatedFilesList.nullOrUndefined",i),Bs.debug(t,".getRelatedFilesList","Failed to get the relatedFiles, it is undefined/null")),d!=null&&d.size&&d.forEach((p,g)=>{let y=[];p.forEach((_,S)=>{let T=ls.getRelativePath(S,f);if(!T||a.docs.has(S))return;let I={relativePath:T,uri:S,languageId:u.languageId,source:_};y.unshift(I),a.docs.set(S,I)}),y.length>0&&a.neighborSource.set(g,y.map(_=>_.uri.toString()))})}else Bs.debug(t,"neighborFiles.getNeighborFiles","Failed to get the workspace folder");return a}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.with({query:"",fragment:""}).toString().replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):ls.basename(t)}};s(ls,"NeighborSource"),ls.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5,ls.MAX_NEIGHBOR_FILES=20,ls.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"];var W8=ls;var JH=2.98410452738298,QH=-.838732736843507,ZH=1.50314646255716,eV=-.237798634012662,tV={python:.314368072478742},rV={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var r_e=new H0(3,"restraint"),poe={link:e=>Math.exp(e)/(1+Math.exp(e)),unlink:e=>Math.log(e/(1-e))};function yoe(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),o=t.get(n);return o+(i-o)*(e-n)/(r-n)}s(yoe,"linearInterpolation");var KA=class KA{constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}};s(KA,"Regressor");var o2=KA,WA=class WA{constructor(t,r,n){this.link=poe;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let o=r[i.name];if(o===void 0)return NaN;n+=i.contribution(o)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return yoe(n,this.logitsToQuantiles)}};s(WA,"LogisticRegression");var zA=WA,n_e=new zA(JH,[new o2("compCharLen",QH,e=>Math.log(1+e)),new o2("meanLogProb",ZH),new o2("meanAlternativeLogProb",eV)].concat(Object.entries(tV).map(e=>new o2(e[0],e[1]))),rV);var Rbe=new H0(3,"ghostText");var Nbe=new Cp;var G8=class G8{constructor(t=!1){this.requestMultilineOverride=t}};s(G8,"ForceMultiLine"),G8.default=new G8;var Y8=G8;var nV=require("events");var GA=class GA extends nV.EventEmitter{};s(GA,"PostInsertionNotifier");var a2=GA;var mCe=new H0(3,"postInsertion");var SCe=new H0(3,"ghostText"),l2,f2,c2,YA=class YA{constructor(){R0(this,l2,void 0);R0(this,f2,void 0);R0(this,c2,[])}get position(){return je(this,l2)}get shownCompletions(){return je(this,c2)||[]}get uri(){return je(this,f2)}resetState(){T0(this,f2,void 0),T0(this,l2,void 0),T0(this,c2,[])}setState(t,r){T0(this,f2,t),T0(this,l2,r),T0(this,c2,[])}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};l2=new WeakMap,f2=new WeakMap,c2=new WeakMap,s(YA,"LastGhostText");var X8=YA;var wK=P0(require("crypto")),IK=P0(require("fs")),AK=require("tls");var I2=new H0(3,"certificates"),uR=class uR{};s(uR,"RootCertificateReader");var ds=uR;function PK(e,t=process.platform){return new iR(e,[new sR,new oR,oce(e,t)])}s(PK,"getRootCertificateReader");function oce(e,t){switch(t){case"linux":return new aR(e);case"darwin":return new lR(e);case"win32":return new fR(e);default:return new cR}}s(oce,"createPlatformReader");var dR=class dR extends ds{constructor(r,n){super();this.ctx=r;this.delegate=n}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return I2.warn(this.ctx,`Failed to read root certificates: ${r}`),[]}}};s(dR,"ErrorHandlingCertificateReader");var nR=dR,hR=class hR extends ds{constructor(r,n){super();this.ctx=r;this.delegates=n.map(i=>new nR(r,i))}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),i=r.filter(o=>{try{let a=new wK.X509Certificate(o),l=Date.parse(a.validTo);return isNaN(l)||l>n}catch(a){return I2.warn(this.ctx,"Failed to parse certificate",o,a),!1}});return r.length!==i.length&&I2.info(this.ctx,`Removed ${r.length-i.length} expired certificates`),i}};s(hR,"CachingRootCertificateReader");var iR=hR,mR=class mR extends ds{async getAllRootCAs(){return AK.rootCertificates}};s(mR,"NodeTlsRootCertificateReader");var sR=mR,gR=class gR extends ds{async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await RK(t):[]}};s(gR,"EnvironmentVariableRootCertificateReader");var oR=gR,pR=class pR extends ds{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await RK(n);I2.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}};s(pR,"LinuxRootCertificateReader");var aR=pR,yR=class yR extends ds{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=EK(),n=r.all(r.der2.pem).filter(i=>i!==void 0);return I2.debug(this.ctx,`Read ${n.length} certificates from Mac keychain`),n}};s(yR,"MacRootCertificateReader");var lR=yR,vR=class vR extends ds{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=SK().all();return I2.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}};s(vR,"WindowsRootCertificateReader");var fR=vR,xR=class xR extends ds{async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};s(xR,"UnsupportedPlatformRootCertificateReader");var cR=xR;async function RK(e){try{let n=(await IK.promises.readFile(e,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(o=>o.length>0),i=new Set(n);return Array.from(i)}catch(t){if((t==null?void 0:t.code)!=="ENOENT")throw t}return[]}s(RK,"readCertsFromFile");var YK=P0(require("http"));var Lce=407,oi=new H0(4,"proxySocketFactory"),IR=class IR{};s(IR,"ProxySocketFactory");var t1=IR,AR=class AR extends Error{constructor(t,r,n){var i,o,a;super(t),this.code=r==null?void 0:r.code,this.syscall=r==null?void 0:r.syscall,this.errno=r==null?void 0:r.errno,/^Failed to establish a socket connection to proxies:/.test((i=r==null?void 0:r.message)!=null?i:"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test((o=r==null?void 0:r.message)!=null?o:"")?this.code="ProxyInitializeSecurityContext":(r==null?void 0:r.message)==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test((a=r==null?void 0:r.message)!=null?a:"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};s(AR,"ProxySocketError");var Id=AR;function XK(e){return new ER(e,new SR(e))}s(XK,"getProxySocketFactory");var PR=class PR extends t1{constructor(r,n,i=new wR,o=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=o;this.successfullyAuthorized=new Kr(20)}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(oi.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof Id&&i.code===`ProxyStatusCode${Lce}`){oi.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let o=await this.authorizeAndCreateSocket(r,n);if(o)return oi.debug(this.ctx,"Proxy authorization successful, caching result"),I0(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),o}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(oi.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(oi.debug(this.ctx,"Proxy authorization successful, received token"),i)return oi.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){oi.debug(this.ctx,"Loading kerberos module");let n=this.kerberosLoader.load(),i=this.computeSpn(r);oi.debug(this.ctx,"Initializing kerberos client using spn",i);let o=await n.initializeClient(i);oi.debug(this.ctx,"Perform client side kerberos step");let a=await o.step("");return oi.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return oi.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return oi.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return r.host+":"+r.port}};s(PR,"KerberosProxySocketFactory");var ER=PR,RR=class RR extends t1{constructor(r){super();this.ctx=r}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((o,a)=>{oi.debug(this.ctx,"Attempting to establish connection to proxy");let l=YK.request(i);l.useChunkedEncodingByDefault=!1,l.once("connect",(f,c,u)=>{oi.debug(this.ctx,"Socket Connect returned status code",f.statusCode),l.removeAllListeners(),c.removeAllListeners(),f.statusCode!==200?(c.destroy(),a(new Id(`tunneling socket could not be established, statusCode=${f.statusCode}`,void 0,`ProxyStatusCode${f.statusCode}`))):u.length>0?(c.destroy(),a(new Id(`got non-empty response body from proxy, length=${u.length}`,void 0,"ProxyNonEmptyResponseBody"))):(oi.debug(this.ctx,"Successfully established tunneling connection to proxy"),o(c))}),l.once("error",f=>{oi.debug(this.ctx,"Proxy socket connection error",f.message),l.removeAllListeners(),a(new Id(`tunneling socket could not be established, cause=${f.message}`,f))}),l.on("timeout",()=>{oi.debug(this.ctx,"Proxy socket connection timeout"),a(new Id(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.host}:${i.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,o={...n,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(o.localAddress=r.localAddress),this.configureProxyAuthorization(o,r),o}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}};s(RR,"TunnelingProxySocketFactory");var SR=RR,NR=class NR{load(){return GK()}};s(NR,"KerberosLoader");var wR=NR;var eW=require("os"),ta=P0(Gu());var Bce=new H0(3,"repository"),Ad="\\\\",tW="(?:[#;].*)",R2=`(?:[^"${Ad}]|${Ad}.)`,Oce="[0-9A-Za-z-]",JK=`[A-Za-z]${Oce}*`,rW=`\\s*${tW}?$`,nW=`(?:[^"${Ad};#]|${Ad}.)`,Fce=`(?:"${R2}*"|"${R2}*(?<strCont>${Ad})$)`,Mce=`(?:${nW}|${Fce})+`,Uce=`(?:(?<cont>${Ad})$)`,iW=`(?<value>${Mce})${Uce}?${rW}`,QK=new RegExp(`^${iW}`),qce=new RegExp(`^(?<value>${R2}*(?:(?<strCont>${Ad})$|(?<quote>")))`),jce=new RegExp(`^\\s*(?:(?<key>${JK})\\s*=\\s*${iW}|(?<soloKey>${JK})${rW})`),$ce=new RegExp(`(?<value>${nW}+)|"(?<string>${R2}*)"`,"g"),ZK="[-.0-9A-Za-z]+",Hce=`\\s+"(?<ext>${R2}*)"`,Vce=`\\s+"(?<extOnly>${R2}*)"`,zce=new RegExp(`^\\s*\\[(?:(?<simple>${ZK})${Hce}|${Vce}|(?<simpleOnly>${ZK}))\\]`),Kce=new RegExp(`^\\s*${tW}$`),DR=class DR{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){var r,n;let t=this.line.match(zce);t&&((r=t.groups)!=null&&r.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):(n=t.groups)!=null&&n.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){var r,n,i,o;let t=this.line.match(jce);if(t){if((r=t.groups)!=null&&r.key){let a=this.handleContinued(t);(n=this.configValueHandler)==null||n.call(this,this.nameWithSection(t.groups.key.toLowerCase()),a)}else(i=t.groups)!=null&&i.soloKey&&((o=this.configValueHandler)==null||o.call(this,this.nameWithSection(t.groups.soloKey.toLowerCase()),""));this.line=""}}handleContinued(t){var i,o,a;let r=t,n=[this.matchedValue(r)];for(;(i=r==null?void 0:r.groups)!=null&&i.cont||(o=r==null?void 0:r.groups)!=null&&o.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(qce),r?(n.push(this.matchedValue(r)),(a=r.groups)!=null&&a.quote&&(r=this.line.slice(r[0].length).match(QK),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(QK),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll($ce)].map(i=>{var o;return(o=i.groups)!=null&&o.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))}).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){Kce.test(this.line)&&(this.line="")}};s(DR,"GitConfigParser");var kR=DR,LR=class LR extends Ha{async getConfig(t,r){let n=await rf.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new e2)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let o=new kR(i),a=new e2;return o.parse((l,f)=>a.add(l,f)),a}async tryLoadConfig(t,r,n){try{return await t.get(oo).readFileString(r)}catch(i){(n||i.code!=="ENOENT")&&Bce.warn(t,`Failed to load git config from ${r.toString()}: ${i}`);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=ta.Utils.joinPath(this.xdgConfigUri(),"git","config"),o=ta.Utils.joinPath(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,o,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(ta.Utils.basename(r).toLowerCase()!=="config.worktree")return;let n=ta.Utils.dirname(r),i=ta.Utils.joinPath(n,"commondir");try{let o=(await t.get(oo).readFileString(i)).trimEnd();return ta.Utils.joinPath(x8(n,o),"config")}catch{return}}xdgConfigUri(){return process.env.XDG_CONFIG_HOME?ta.URI.file(process.env.XDG_CONFIG_HOME):ta.Utils.joinPath(this.homeUri(),".config")}homeUri(){return ta.URI.file((0,eW.homedir)())}};s(LR,"GitParsingConfigLoader");var fv=LR;var oW=P0(require("events"));var sW="onWorkspaceChanged",BR=class BR{constructor(){this.emitter=new oW.default}onChange(t){this.emitter.on(sW,t)}emit(t){this.emitter.emit(sW,t)}};s(BR,"WorkspaceNotifier");var h6=BR;function aW(e){let t=new bp;return t.set(fd,e),t.set(Wu,new Wu),t.set(Li,new Li),Wce(t),t.set(z3,new z3),t.set(Di,new Di),t.set(ds,PK(t)),t.set(t1,XK(t)),t.set(yn,new yn(t)),t.set(a2,new a2),t.set(cd,new cd),t.set(ss,new ss(t)),t.set(ao,new ao),t.set(Dc,new Dc),t.set(sd,new sd),t.set(Qu,new Qu),t.set(K3,new K3),t.set(ud,new P8),t.set($3,new ap),t.set(ad,new rp),t.set(Bi,new Bi),t.set(Ku,new Ku),t.set(X8,new X8),t.set(Y8,Y8.default),t.set(rf,new rf(t)),t.set(Ha,new $p([new jp,new fv])),t.set(h6,new h6),t.set(od,new od),t.set(E8,new E8),t}s(aW,"createProductionContext");function Wce(e){e.set(Yu,Yu.fromEnvironment(!1)),e.set(P3,new T7(console))}s(Wce,"setupRudimentaryLogging");var eSe=new H0(4,"context");var fW="github.com",lW=`https://${fW}`,Gce="https://api.githubcopilot.com",Yce="https://copilot-telemetry.githubusercontent.com/telemetry",Xce="https://copilot-proxy.githubusercontent.com",Jce="https://origin-tracker.githubusercontent.com",OR=class OR extends Ns{constructor(r,n=lW,i=process.env){super();this.env=i;this.recalculateUrlDefaults(n),r.get(Di).on("onCopilotToken",o=>this.onCopilotToken(r,o))}onCopilotToken(r,n){n.envelope.endpoints&&this.updateServiceEndpoints(r,n.envelope.endpoints)}isGitHubEnterprise(){return this.isEnterprise}getAuthAuthority(){return this.baseUrlObject.host}getAPIUrl(r){return this.join(this.apiUrl,r)}getTokenUrl(r){var n,i;return(i=(n=r.devOverride)==null?void 0:n.copilotTokenUrl)!=null?i:this.tokenUrl}getNotificationUrl(r){var n,i;return(i=(n=r.devOverride)==null?void 0:n.notificationUrl)!=null?i:this.notificationUrl}getContentRestrictionsUrl(r){var n,i;return(i=(n=r.devOverride)==null?void 0:n.contentRestrictionsUrl)!=null?i:this.contentRestrictionsUrl}getBlackbirdIndexingStatusUrl(){return this.blackbirdIndexingStatusUrl}getLoginReachabilityUrl(){return this.loginReachabilityUrl}getDeviceFlowStartUrl(){return this.deviceFlowStartUrl}getDeviceFlowCompletionUrl(){return this.deviceFlowCompletionUrl}getUserInfoUrl(){return this.userInfoUrl}getCAPIUrl(r,n){let i=this.urlOrConfigOverride(r,this.capiUrl,jr.DebugOverrideCapiUrl,jr.DebugTestOverrideCapiUrl);return this.join(i,n)}getBlackbirdCodeSearchUrl(r){return this.getCAPIUrl(r,"/search/code")}getBlackbirdDocsSearchUrl(r){return this.getCAPIUrl(r,"/search/docs")}getEmbeddingsUrl(r){return this.getCAPIUrl(r,"/embeddings")}getTelemetryUrl(){return this.telemetryUrl}setTelemetryUrlForTesting(r){this.telemetryUrl=r}getCompletionsUrl(r,n){let i=this.urlOrConfigOverride(r,this.completionsUrl,jr.DebugOverrideProxyUrl,jr.DebugTestOverrideProxyUrl);return this.join(i,n)}getSnippetRetrievalUrl(r,n,i){let o=new URL(this.getCompletionsUrl(r,"v0/retrieval"));return o.search=new URLSearchParams({repo:n,impl:i}).toString(),o.href}getOriginTrackingUrl(r,n){let i=Jh(r)?this.originTrackerUrl:this.urlOrConfigOverride(r,this.originTrackerUrl,jr.DebugSnippyOverrideUrl);return this.join(i,n)}updateBaseUrl(r,n){n||(n=lW);let i=this.baseUrlObject;if(!this.isPermittedUrl(r,n)){r.get(Ju).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`);return}this.withTelemetryReInitialization(r,()=>{this.recalculateUrlDefaults(n),i.href!==this.baseUrlObject.href&&r.get(is).resetCopilotToken(r)})}updateServiceEndpoints(r,n){this.isPermittedUrl(r,n.api)&&(this.capiUrl=n.api),this.isPermittedUrl(r,n.proxy)&&(this.completionsUrl=n.proxy),this.isPermittedUrl(r,n["origin-tracker"])&&(this.originTrackerUrl=n["origin-tracker"]),this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let o=r.get(Dc);o.isInitialized&&o.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let i=n.api;this.isEnterprise=this.baseUrlObject.host!==fW,this.apiUrl=i.href,this.tokenUrl=this.join(i.href,"/copilot_internal/v2/token"),this.notificationUrl=this.join(i.href,"/copilot_internal/notification"),this.contentRestrictionsUrl=this.join(i.href,"/copilot_internal/content_exclusion"),this.blackbirdIndexingStatusUrl=this.join(i.href,"/copilot_internal/check_indexing_status"),this.loginReachabilityUrl=this.join(this.baseUrlObject.href,"/login/device"),this.deviceFlowStartUrl=this.join(this.baseUrlObject.href,"/login/device/code"),this.deviceFlowCompletionUrl=this.join(this.baseUrlObject.href,"/login/oauth/access_token"),this.userInfoUrl=this.join(i.href,"/user"),this.capiUrl=this.isEnterprise?this.prefixWith("copilot-api.",this.baseUrlObject).href:Gce,this.telemetryUrl=this.isEnterprise?this.join(this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href,"/telemetry"):Yce,this.completionsUrl=Xce,this.originTrackerUrl=Jce}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),i=this.prefixWith("api.",n);return{base:n,api:i}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let i=new URL(n).protocol;return i==="https:"||!Jh(r)&&i==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}urlOrConfigOverride(r,n,i,o){if(o&&Xu(r)){let l=Ac(r,o);return l.length==0?n:l}let a=Ac(r,i);return a.length==0?n:a}};s(OR,"DefaultNetworkConfiguration");var cv=OR;var cW=require("os");var Qce=require("crypto"),Zce=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function e1e(e){let t=e.replace(/-/g,":").toLowerCase();return!Zce.has(t)}s(e1e,"validateMacAddress");function t1e(){let e=(0,cW.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(e1e(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}s(t1e,"getMac");var FR;function r1e(){try{let e=t1e();return Qce.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}s(r1e,"getMacMachineId");function uW(){return FR||(FR=r1e()||Au()),FR}s(uW,"getMachineId");var dW=P0(require("tls"));var m6,MR=class MR{constructor(t){R0(this,m6,void 0);this._certificateReader=t.get(ds)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async createSecureContext(){let t=await this._certificateReader.getAllRootCAs(),n=dW.createSecureContext({_vscodeAdditionalCaCerts:t});for(let i of t)n.context.addCACert(i);return{secureContext:n,certs:t}}async applyToRequestOptions(t){var n;(n=je(this,m6))!=null||T0(this,m6,this.createSecureContext());let r=await je(this,m6);t.secureContext=r.secureContext,t.ca=r.certs,t.cert=r.certs}};m6=new WeakMap,s(MR,"RootCertificateConfigurator");var uv=MR;var UR=class UR extends Ti{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=s((r,n)=>async i=>{i.rejectUnauthorized=n,i.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(i);let o=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(i,o)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new uv(r),this.proxySocketFactory=r.get(t1)}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(Li);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),Pq({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){var c,u;let i=n.signal,o=!1;if(n.timeout){let d=this.makeAbortController();setTimeout(()=>{d.abort(),o=!0},n.timeout),(c=n.signal)==null||c.addEventListener("abort",()=>d.abort()),(u=n.signal)!=null&&u.aborted&&d.abort(),i=d.signal}let a={...n,body:n.body?n.body:n.json,signal:i};await this.certificateConfigurator.applyToRequestOptions(a);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let f=await this.fetchApi.fetch(r,a).catch(d=>{throw o?new m8(`Request to <${r}> timed out after ${n.timeout}ms`,d):d});return new J7(f.status,f.statusText,f.headers,()=>f.text(),async()=>f.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new Rq}};s(UR,"HelixFetcher");var dv=UR;var mW=yw(),n1e=Au()+Date.now();async function gW(){let e=aW(new lp);return e.set(Ns,new cv(e)),e.set(Ti,new dv(e)),e.set(Ei,new qR(await i1e())),e.set(Pn,new Pn(n1e,uW())),e.forceSet(Bi,new hp),await Pw(e,mW.name,!0),e}s(gW,"createUninstallContext");async function i1e(){let e="unknown";try{return await new Promise((t,r)=>{var i;let n=(0,hW.spawn)("code -v",{shell:!0,stdio:"pipe"});(i=n.stdout)==null||i.on("data",o=>{e==="unknown"&&(e=o.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>t(e)),n.on("error",o=>r(o))})}catch{return e}}s(i1e,"lookupVscodeVersion");var jR=class jR extends Ei{constructor(r){super();this.vscodeVersion=r}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:mW.version}}};s(jR,"UninstallEditorInfo");var qR=jR;async function s1e(){let e=await gW(),t=new _p;process.argv.includes("--dry-run")||await t.uninstall(e)}s(s1e,"doUninstall");s1e().then(()=>process.exit(0)).catch(e=>{console.error(e),process.exit(1)});
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
